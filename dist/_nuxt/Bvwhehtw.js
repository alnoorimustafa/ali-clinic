import{o as A,c as B,a as T,F as de,C as It,t as q,m as et,e as Q,_ as tt,f as pe,g as Me,h as S,k as ft,l as oe,r as j,E as ye,G as H,n as re,L as Yn,q as z,s as X,p as Z,J as W,M as Gn,N as Xt,O as Xn,P as vn,Q as nt,x as At,R as at,S as we,j as rt,T as mn,U as Xe,V as Qn,W as Ie,I as ve,i as Jn,D as Qt,X as Ue,w as $e,b as _,Y as Zn,A as _n,d as ke,B as ze,Z as ea,K as Pe}from"./cfpS6c-5.js";import{_ as Le,u as Qe,h as Jt,i as ta,j as na,a as aa,b as ra,k as oa,l as ia,e as Zt,f as la,c as sa,g as ua}from"./DFXdnQ9p.js";import"./C1KfJzYI.js";import"./DNEWXv2S.js";const da={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-full",text:"font-medium leading-none text-gray-900 dark:text-white truncate",placeholder:"font-medium leading-none text-gray-500 dark:text-gray-400 truncate",size:{"3xs":"h-4 w-4 text-[8px]","2xs":"h-5 w-5 text-[10px]",xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-14 w-14 text-xl","2xl":"h-16 w-16 text-2xl","3xl":"h-20 w-20 text-3xl"},chip:{base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"}},icon:{base:"text-gray-500 dark:text-gray-400 flex-shrink-0",size:{"3xs":"h-2 w-2","2xs":"h-2.5 w-2.5",xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7","2xl":"h-8 w-8","3xl":"h-10 w-10"}},default:{size:"sm",icon:null,chipColor:null,chipPosition:"top-right"}},ca={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},fa={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs",type:"solid"}},pa={class:"mt-8 flow-root"},va={class:"-mx-4 -my-2 sm:-mx-6 lg:-mx-8"},ma={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ha={class:"shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},ga={class:"min-w-full divide-y divide-gray-300 header-table"},ba={class:"bg-gray-50"},ya={class:"min-w-full divide-y divide-gray-300 row-table"},wa={class:"divide-y divide-gray-200 bg-white mainTable"},xa={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},Oa={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},Sa={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},Ca={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},Ea={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},Ia={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},$a={class:"whitespace-nowrap py-2 pl-2 text-sm font-medium text-gray-900"},ka={colspan:"6",class:"notes-row p-4"},Aa={__name:"DrugTable",props:{drugs:{type:Array,required:!0},header:{type:Array,required:!0}},setup(e){return(n,t)=>(A(),B("div",pa,[T("div",va,[T("div",ma,[T("div",ha,[T("table",ga,[T("thead",ba,[T("tr",null,[(A(!0),B(de,null,It(e.header,a=>(A(),B("th",{key:a,scope:"col",class:"whitespace-nowrap py-4 pl-2 pr-3 text-sm font-medium text-gray-900"},q(a),1))),128))])])]),(A(!0),B(de,null,It(e.drugs,(a,r)=>(A(),B("div",{key:a.name},[T("table",ya,[T("tbody",wa,[T("tr",null,[T("td",xa,q(r+1),1),T("td",Oa,[T("span",null,q(a.name),1)]),T("td",Sa,[T("span",null,q(a.brand),1)]),T("td",Ca,[T("span",null,q(a.dose),1)]),T("td",Ea,[T("span",null,q(a.when),1)]),T("td",Ia,[T("span",null,q(a.frequency),1)]),T("td",$a,[T("span",null,q(a.duration),1)])]),T("tr",null,[T("td",ka,q(a.notes),1)])])])]))),128))])])])]))}},Ee=et(Q.ui.strategy,Q.ui.avatar,da),Ma=pe({components:{UIcon:Le},inheritAttrs:!1,props:{as:{type:[String,Object],default:"img"},src:{type:[String,Boolean],default:null},alt:{type:String,default:null},text:{type:String,default:null},icon:{type:String,default:()=>Ee.default.icon},size:{type:String,default:()=>Ee.default.size,validator(e){return Object.keys(Ee.size).includes(e)}},chipColor:{type:String,default:()=>Ee.default.chipColor,validator(e){return["gray",...Q.ui.colors].includes(e)}},chipPosition:{type:String,default:()=>Ee.default.chipPosition,validator(e){return Object.keys(Ee.chip.position).includes(e)}},chipText:{type:[String,Number],default:null},imgClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:t}=Qe("avatar",Me(e,"ui"),Ee),a=S(()=>typeof e.src=="boolean"?null:e.src),r=S(()=>(e.alt||"").split(" ").map(f=>f.charAt(0)).join("").substring(0,2)),i=S(()=>ft(oe(n.value.wrapper,(d.value||!a.value)&&n.value.background,n.value.rounded,n.value.size[e.size]),e.class)),l=S(()=>ft(oe(n.value.rounded,n.value.size[e.size]),e.imgClass)),o=S(()=>oe(n.value.icon.base,n.value.icon.size[e.size])),s=S(()=>oe(n.value.chip.base,n.value.chip.size[e.size],n.value.chip.position[e.chipPosition],n.value.chip.background.replaceAll("{color}",e.chipColor))),d=j(!1);ye(()=>e.src,()=>{d.value&&(d.value=!1)});function u(){d.value=!0}return{ui:n,attrs:t,wrapperClass:i,imgClass:l,iconClass:o,chipClass:s,url:a,placeholder:r,error:d,onError:u}}});function Ra(e,n,t,a,r,i){const l=Le;return A(),B("span",{class:z(e.wrapperClass)},[e.url&&!e.error?(A(),H(Yn(e.as),re({key:0,class:e.imgClass,alt:e.alt,src:e.url},e.attrs,{onError:e.onError}),null,16,["class","alt","src","onError"])):e.text?(A(),B("span",{key:1,class:z(e.ui.text)},q(e.text),3)):e.icon?(A(),H(l,{key:2,name:e.icon,class:z(e.iconClass)},null,8,["name","class"])):e.placeholder?(A(),B("span",{key:3,class:z(e.ui.placeholder)},q(e.placeholder),3)):X("",!0),e.chipColor?(A(),B("span",{key:4,class:z(e.chipClass)},q(e.chipText),3)):X("",!0),Z(e.$slots,"default")],2)}const mt=tt(Ma,[["render",Ra]]),He=et(Q.ui.strategy,Q.ui.divider,fa),Ta=pe({components:{UIcon:Le,UAvatar:mt},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>He.default.size,validator(e){return Object.keys(He.border.size.horizontal).includes(e)||Object.keys(He.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:()=>He.default.type,validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:t}=Qe("divider",Me(e,"ui"),He),a=S(()=>ft(oe(n.value.wrapper.base,n.value.wrapper[e.orientation]),e.class)),r=S(()=>oe(n.value.container.base,n.value.container[e.orientation])),i=S(()=>oe(n.value.border.base,n.value.border[e.orientation],n.value.border.size[e.orientation][e.size],n.value.border.type[e.type]));return{ui:n,attrs:t,wrapperClass:a,containerClass:r,borderClass:i}}});function za(e,n,t,a,r,i){const l=Le,o=mt;return A(),B("div",re({class:e.wrapperClass},e.attrs),[T("div",{class:z(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(A(),B(de,{key:0},[T("div",{class:z(e.containerClass)},[Z(e.$slots,"default",{},()=>[e.label?(A(),B("span",{key:0,class:z(e.ui.label)},q(e.label),3)):e.icon?(A(),H(l,{key:1,name:e.icon,class:z(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(A(),H(o,re({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):X("",!0)])],2),T("div",{class:z(e.borderClass)},null,2)],64)):X("",!0)],16)}const Pa=tt(Ta,[["render",za]]);function De(e,n,t){let a=t.initialDeps??[],r;return()=>{var i,l,o,s;let d;t.key&&((i=t.debug)!=null&&i.call(t))&&(d=Date.now());const u=e();if(!(u.length!==a.length||u.some((g,v)=>a[v]!==g)))return r;a=u;let O;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(O=Date.now()),r=n(...u),t.key&&((o=t.debug)!=null&&o.call(t))){const g=Math.round((Date.now()-d)*100)/100,v=Math.round((Date.now()-O)*100)/100,y=v/16,h=(w,x)=>{for(w=String(w);w.length<x;)w=" "+w;return w};console.info(`%c⏱ ${h(v,5)} /${h(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(s=t==null?void 0:t.onChange)==null||s.call(t,r),r}}function Ot(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Da=(e,n)=>Math.abs(e-n)<1,ja=(e,n,t)=>{let a;return function(...r){e.clearTimeout(a),a=e.setTimeout(()=>n.apply(this,r),t)}},Va=e=>e,Ba=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),a=[];for(let r=n;r<=t;r++)a.push(r);return a},Fa=(e,n)=>{const t=e.scrollElement;if(!t)return;const a=e.targetWindow;if(!a)return;const r=l=>{const{width:o,height:s}=l;n({width:Math.round(o),height:Math.round(s)})};if(r(t.getBoundingClientRect()),!a.ResizeObserver)return()=>{};const i=new a.ResizeObserver(l=>{const o=l[0];if(o!=null&&o.borderBoxSize){const s=o.borderBoxSize[0];if(s){r({width:s.inlineSize,height:s.blockSize});return}}r(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},_t={passive:!0},La=typeof window>"u"?!0:"onscrollend"in window,Na=(e,n)=>{const t=e.scrollElement;if(!t)return;const a=e.targetWindow;if(!a)return;let r=0;const i=e.options.useScrollendEvent&&La?()=>{}:ja(a,()=>{n(r,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:u,isRtl:f}=e.options;r=u?t.scrollLeft*(f&&-1||1):t.scrollTop,i(),n(r,d)},o=l(!0),s=l(!1);return s(),t.addEventListener("scroll",o,_t),t.addEventListener("scrollend",s,_t),()=>{t.removeEventListener("scroll",o),t.removeEventListener("scrollend",s)}},Wa=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const a=n.borderBoxSize[0];if(a)return Math.round(a[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},qa=(e,{adjustments:n=0,behavior:t},a)=>{var r,i;const l=e+n;(i=(r=a.scrollElement)==null?void 0:r.scrollTo)==null||i.call(r,{[a.options.horizontal?"left":"top"]:l,behavior:t})};class Ua{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const a=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(r=>{r.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var r;(r=a())==null||r.disconnect(),t=null},observe:r=>{var i;return(i=a())==null?void 0:i.observe(r,{box:"border-box"})},unobserve:r=>{var i;return(i=a())==null?void 0:i.unobserve(r)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([a,r])=>{typeof r>"u"&&delete t[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Va,rangeExtractor:Ba,onChange:()=>{},measureElement:Wa,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...t}},this.notify=t=>{var a,r;(r=(a=this.options).onChange)==null||r.call(a,this,t)},this.maybeNotify=De(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,a)=>{const r=new Map,i=new Map;for(let l=a-1;l>=0;l--){const o=t[l];if(r.has(o.lane))continue;const s=i.get(o.lane);if(s==null||o.end>s.end?i.set(o.lane,o):o.end<s.end&&r.set(o.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=De(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,a,r,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:a,scrollMargin:r,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=De(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:a,scrollMargin:r,getItemKey:i,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,s);for(let u=s;u<t;u++){const f=i(u),O=this.options.lanes===1?d[u-1]:this.getFurthestMeasurement(d,u),g=O?O.end+this.options.gap:a+r,v=o.get(f),y=typeof v=="number"?v:this.options.estimateSize(u),h=g+y,w=O?O.lane:u%this.options.lanes;d[u]={index:u,start:g,size:y,end:h,key:f,lane:w}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=De(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,a,r)=>this.range=t.length>0&&a>0?Ha({measurements:t,outerSize:a,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=De(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,a,r,i)=>a===null?[]:t({startIndex:a.startIndex,endIndex:a.endIndex,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const a=this.options.indexAttribute,r=t.getAttribute(a);return r?parseInt(r,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(t,a)=>{const r=this.indexFromElement(t),i=this.measurementsCache[r];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(r,this.options.measureElement(t,a,this))},this.resizeItem=(t,a)=>{const r=this.measurementsCache[t];if(!r)return;const i=this.itemSizeCache.get(r.key)??r.size,l=a-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,l,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,a)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((a,r)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(r))});return}this._measureElement(t,void 0)},this.getVirtualItems=De(()=>[this.getIndexes(),this.getMeasurements()],(t,a)=>{const r=[];for(let i=0,l=t.length;i<l;i++){const o=t[i],s=a[o];r.push(s)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const a=this.getMeasurements();if(a.length!==0)return Ot(a[hn(0,a.length-1,r=>Ot(a[r]).start,t)])},this.getOffsetForAlignment=(t,a)=>{const r=this.getSize(),i=this.getScrollOffset();a==="auto"&&t>=i+r&&(a="end"),a==="end"&&(t-=r);const l=this.options.horizontal?"scrollWidth":"scrollHeight",s=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-r;return Math.max(Math.min(s,t),0)},this.getOffsetForIndex=(t,a="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const r=this.measurementsCache[t];if(!r)return;const i=this.getSize(),l=this.getScrollOffset();if(a==="auto")if(r.end>=l+i-this.options.scrollPaddingEnd)a="end";else if(r.start<=l+this.options.scrollPaddingStart)a="start";else return[l,a];const o=r.start-this.options.scrollPaddingStart+(r.size-i)/2;switch(a){case"center":return[this.getOffsetForAlignment(o,a),a];case"end":return[this.getOffsetForAlignment(r.end+this.options.scrollPaddingEnd,a),a];default:return[this.getOffsetForAlignment(r.start-this.options.scrollPaddingStart,a),a]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:a="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,a),{adjustments:void 0,behavior:r})},this.scrollToIndex=(t,{align:a="auto",behavior:r}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,a);if(!i)return;const[l,o]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=Ot(this.getOffsetForIndex(t,o));Da(d,this.getScrollOffset())||this.scrollToIndex(t,{align:o,behavior:r})}else this.scrollToIndex(t,{align:o,behavior:r})}))},this.scrollBy=(t,{behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var t;const a=this.getMeasurements();let r;return a.length===0?r=this.options.paddingStart:r=this.options.lanes===1?((t=a[a.length-1])==null?void 0:t.end)??0:Math.max(...a.slice(-this.options.lanes).map(i=>i.end)),Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:a,behavior:r})=>{this.options.scrollToFn(t,{behavior:r,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const hn=(e,n,t,a)=>{for(;e<=n;){const r=(e+n)/2|0,i=t(r);if(i<a)e=r+1;else if(i>a)n=r-1;else return r}return e>0?e-1:0};function Ha({measurements:e,outerSize:n,scrollOffset:t}){const a=e.length-1,i=hn(0,a,o=>e[o].start,t);let l=i;for(;l<a&&e[l].end<t+n;)l++;return{startIndex:i,endIndex:l}}function Ka(e){const n=new Ua(W(e)),t=Gn(n),a=n._didMount();return ye(()=>W(e).getScrollElement(),r=>{r&&n._willUpdate()},{immediate:!0}),ye(()=>W(e),r=>{n.setOptions({...r,onChange:(i,l)=>{var o;Xt(t),(o=r.onChange)==null||o.call(r,i,l)}}),n._willUpdate(),Xt(t)},{immediate:!0}),Xn(a),t}function Ya(e){return Ka(S(()=>({observeElementRect:Fa,observeElementOffset:Na,scrollToFn:qa,...W(e)})))}function Ga(e,n,t){let a=j(t==null?void 0:t.value),r=S(()=>e.value!==void 0);return[S(()=>r.value?e.value:a.value),function(i){return r.value||(a.value=i),n==null?void 0:n(i)}]}function Xa(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(n=>setTimeout(()=>{throw n}))}function pt(){let e=[],n={addEventListener(t,a,r,i){return t.addEventListener(a,r,i),n.add(()=>t.removeEventListener(a,r,i))},requestAnimationFrame(...t){let a=requestAnimationFrame(...t);n.add(()=>cancelAnimationFrame(a))},nextFrame(...t){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...t)})},setTimeout(...t){let a=setTimeout(...t);n.add(()=>clearTimeout(a))},microTask(...t){let a={current:!0};return Xa(()=>{a.current&&t[0]()}),n.add(()=>{a.current=!1})},style(t,a,r){let i=t.style.getPropertyValue(a);return Object.assign(t.style,{[a]:r}),this.add(()=>{Object.assign(t.style,{[a]:i})})},group(t){let a=pt();return t(a),this.add(()=>a.dispose())},add(t){return e.push(t),()=>{let a=e.indexOf(t);if(a>=0)for(let r of e.splice(a,1))r()}},dispose(){for(let t of e.splice(0))t()}};return n}function Qa(){let e=pt();return vn(()=>e.dispose()),e}function Ja(){let e=Qa();return n=>{e.dispose(),e.nextFrame(n)}}var en;let gn=Symbol("headlessui.useid"),Za=0;const ht=(en=At)!=null?en:function(){return at(gn,()=>`${++Za}`)()};function _a(e){nt(gn,e)}function F(e){var n;if(e==null||e.value==null)return null;let t=(n=e.value.$el)!=null?n:e.value;return t instanceof Node?t:null}function be(e,n,...t){if(e in n){let r=n[e];return typeof r=="function"?r(...t):r}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,be),a}var er=Object.defineProperty,tr=(e,n,t)=>n in e?er(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,tn=(e,n,t)=>(tr(e,typeof n!="symbol"?n+"":n,t),t);let nr=class{constructor(){tn(this,"current",this.detect()),tn(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Mt=new nr;function Rt(e){if(Mt.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=F(e);if(n)return n.ownerDocument}return document}let nn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ar=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ar||{}),rr=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(rr||{}),or=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(or||{}),bn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(bn||{});function ir(e,n=0){var t;return e===((t=Rt(e))==null?void 0:t.body)?!1:be(n,{0(){return e.matches(nn)},1(){let a=e;for(;a!==null;){if(a.matches(nn))return!0;a=a.parentElement}return!1}})}var lr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(lr||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function sr(e,n=t=>t){return e.slice().sort((t,a)=>{let r=n(t),i=n(a);if(r===null||i===null)return 0;let l=r.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ur(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function dr(){return/Android/gi.test(window.navigator.userAgent)}function yn(){return ur()||dr()}function ut(e,n,t){Mt.isServer||we(a=>{document.addEventListener(e,n,t),a(()=>document.removeEventListener(e,n,t))})}function cr(e,n,t){Mt.isServer||we(a=>{window.addEventListener(e,n,t),a(()=>window.removeEventListener(e,n,t))})}function fr(e,n,t=S(()=>!0)){function a(i,l){if(!t.value||i.defaultPrevented)return;let o=l(i);if(o===null||!o.getRootNode().contains(o))return;let s=function d(u){return typeof u=="function"?d(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let d of s){if(d===null)continue;let u=d instanceof HTMLElement?d:F(d);if(u!=null&&u.contains(o)||i.composed&&i.composedPath().includes(u))return}return!ir(o,bn.Loose)&&o.tabIndex!==-1&&i.preventDefault(),n(i,o)}let r=j(null);ut("pointerdown",i=>{var l,o;t.value&&(r.value=((o=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:o[0])||i.target)},!0),ut("mousedown",i=>{var l,o;t.value&&(r.value=((o=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:o[0])||i.target)},!0),ut("click",i=>{yn()||r.value&&(a(i,()=>r.value),r.value=null)},!0),ut("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),cr("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function an(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function pr(e,n){let t=j(an(e.value.type,e.value.as));return rt(()=>{t.value=an(e.value.type,e.value.as)}),we(()=>{var a;t.value||F(n)&&F(n)instanceof HTMLButtonElement&&!((a=F(n))!=null&&a.hasAttribute("type"))&&(t.value="button")}),t}function rn(e){return[e.screenX,e.screenY]}function vr(){let e=j([-1,-1]);return{wasMoved(n){let t=rn(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=rn(n)}}}function mr({container:e,accept:n,walk:t,enabled:a}){we(()=>{let r=e.value;if(!r||a!==void 0&&!a.value)return;let i=Rt(e);if(!i)return;let l=Object.assign(s=>n(s),{acceptNode:n}),o=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,l,!1);for(;o.nextNode();)t(o.currentNode)})}var Je=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Je||{}),hr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(hr||{});function Ne({visible:e=!0,features:n=0,ourProps:t,theirProps:a,...r}){var i;let l=xn(a,t),o=Object.assign(r,{props:l});if(e||n&2&&l.static)return St(o);if(n&1){let s=(i=l.unmount)==null||i?0:1;return be(s,{0(){return null},1(){return St({...r,props:{...l,hidden:!0,style:{display:"none"}}})}})}return St(o)}function St({props:e,attrs:n,slots:t,slot:a,name:r}){var i,l;let{as:o,...s}=gt(e,["unmount","static"]),d=(i=t.default)==null?void 0:i.call(t,a),u={};if(a){let f=!1,O=[];for(let[g,v]of Object.entries(a))typeof v=="boolean"&&(f=!0),v===!0&&O.push(g);f&&(u["data-headlessui-state"]=O.join(" "))}if(o==="template"){if(d=wn(d??[]),Object.keys(s).length>0||Object.keys(n).length>0){let[f,...O]=d??[];if(!br(f)||O.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(s).concat(Object.keys(n)).map(y=>y.trim()).filter((y,h,w)=>w.indexOf(y)===h).sort((y,h)=>y.localeCompare(h)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let g=xn((l=f.props)!=null?l:{},s,u),v=mn(f,g,!0);for(let y in g)y.startsWith("on")&&(v.props||(v.props={}),v.props[y]=g[y]);return v}return Array.isArray(d)&&d.length===1?d[0]:d}return Xe(o,Object.assign({},s,u),{default:()=>d})}function wn(e){return e.flatMap(n=>n.type===de?wn(n.children):[n])}function xn(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},t={};for(let a of e)for(let r in a)r.startsWith("on")&&typeof a[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(a[r])):n[r]=a[r];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(t).map(a=>[a,void 0])));for(let a in t)Object.assign(n,{[a](r,...i){let l=t[a];for(let o of l){if(r instanceof Event&&r.defaultPrevented)return;o(r,...i)}}});return n}function gr(e){let n=Object.assign({},e);for(let t in n)n[t]===void 0&&delete n[t];return n}function gt(e,n=[]){let t=Object.assign({},e);for(let a of n)a in t&&delete t[a];return t}function br(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var On=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(On||{});let yr=pe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:n,attrs:t}){return()=>{var a;let{features:r,...i}=e,l={"aria-hidden":(r&2)===2?!0:(a=i["aria-hidden"])!=null?a:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ne({ourProps:l,theirProps:i,slot:{},attrs:t,slots:n,name:"Hidden"})}}}),Sn=Symbol("Context");var Ze=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ze||{});function wr(){return at(Sn,null)}function xr(e){nt(Sn,e)}var J=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(J||{}),Cn=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Cn||{});function Or(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let Ae=[];Or(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&Ae[0]!==n.target&&(Ae.unshift(n.target),Ae=Ae.filter(t=>t!=null&&t.isConnected),Ae.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Sr(e){throw new Error("Unexpected object: "+e)}var G=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(G||{});function on(e,n){let t=n.resolveItems();if(t.length<=0)return null;let a=n.resolveActiveIndex(),r=a??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return a}case 1:{r===-1&&(r=t.length);for(let i=r-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return a}case 2:{for(let i=r+1;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return a}case 3:{for(let i=t.length-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return a}case 4:{for(let i=0;i<t.length;++i)if(n.resolveId(t[i],i,t)===e.id)return i;return a}case 5:return null;default:Sr(e)}}function En(e={},n=null,t=[]){for(let[a,r]of Object.entries(e))$n(t,In(n,a),r);return t}function In(e,n){return e?e+"["+n+"]":n}function $n(e,n,t){if(Array.isArray(t))for(let[a,r]of t.entries())$n(e,In(n,a.toString()),r);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):En(t,n,e)}var Cr={};function Er(e,n){return e===n}var Ir=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ir||{}),$r=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($r||{}),kr=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(kr||{});let kn=Symbol("ComboboxContext");function We(e){let n=at(kn,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,We),t}return n}let An=Symbol("VirtualContext"),Ar=pe({name:"VirtualProvider",setup(e,{slots:n}){let t=We("VirtualProvider"),a=S(()=>{let o=F(t.optionsRef);if(!o)return{start:0,end:0};let s=window.getComputedStyle(o);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),r=Ya(S(()=>({scrollPaddingStart:a.value.start,scrollPaddingEnd:a.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return F(t.optionsRef)},overscan:12}))),i=S(()=>{var o;return(o=t.virtual.value)==null?void 0:o.options}),l=j(0);return ye([i],()=>{l.value+=1}),nt(An,t.virtual.value?r:null),()=>[Xe("div",{style:{position:"relative",width:"100%",height:`${r.value.getTotalSize()}px`},ref:o=>{if(o){if(typeof process<"u"&&Cr.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&r.value.scrollToIndex(t.activeOptionIndex.value)}}},r.value.getVirtualItems().map(o=>mn(n.default({option:t.virtual.value.options[o.index],open:t.comboboxState.value===0})[0],{key:`${l.value}-${o.index}`,"data-index":o.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":o.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${o.start}px)`,overflowAnchor:"none"}})))]}}),Mr=pe({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:a}){let r=j(1),i=j(null),l=j(null),o=j(null),s=j(null),d=j({static:!1,hold:!1}),u=j([]),f=j(null),O=j(2),g=j(!1);function v(p=b=>b){let b=f.value!==null?u.value[f.value]:null,$=p(u.value.slice()),k=$.length>0&&$[0].dataRef.order.value!==null?$.sort((D,L)=>D.dataRef.order.value-L.dataRef.order.value):sr($,D=>F(D.dataRef.domRef)),V=b?k.indexOf(b):null;return V===-1&&(V=null),{options:k,activeOptionIndex:V}}let y=S(()=>e.multiple?1:0),h=S(()=>e.nullable),[w,x]=Ga(S(()=>e.modelValue),p=>a("update:modelValue",p),S(()=>e.defaultValue)),M=S(()=>w.value===void 0?be(y.value,{1:[],0:void 0}):w.value),C=null,c=null;function E(p){return be(y.value,{0(){return x==null?void 0:x(p)},1:()=>{let b=ve(m.value.value).slice(),$=ve(p),k=b.findIndex(V=>m.compare($,ve(V)));return k===-1?b.push($):b.splice(k,1),x==null?void 0:x(b)}})}let I=S(()=>{});ye([I],([p],[b])=>{if(m.virtual.value&&p&&b&&f.value!==null){let $=p.indexOf(b[f.value]);$!==-1?f.value=$:f.value=null}});let m={comboboxState:r,value:M,mode:y,compare(p,b){if(typeof e.by=="string"){let $=e.by;return(p==null?void 0:p[$])===(b==null?void 0:b[$])}return e.by===null?Er(p,b):e.by(p,b)},calculateIndex(p){return m.virtual.value?e.by===null?m.virtual.value.options.indexOf(p):m.virtual.value.options.findIndex(b=>m.compare(b,p)):u.value.findIndex(b=>m.compare(b.dataRef.value,p))},defaultValue:S(()=>e.defaultValue),nullable:h,immediate:S(()=>!1),virtual:S(()=>null),inputRef:l,labelRef:i,buttonRef:o,optionsRef:s,disabled:S(()=>e.disabled),options:u,change(p){x(p)},activeOptionIndex:S(()=>{if(g.value&&f.value===null&&(m.virtual.value?m.virtual.value.options.length>0:u.value.length>0)){if(m.virtual.value){let b=m.virtual.value.options.findIndex($=>{var k;return!((k=m.virtual.value)!=null&&k.disabled($))});if(b!==-1)return b}let p=u.value.findIndex(b=>!b.dataRef.disabled);if(p!==-1)return p}return f.value}),activationTrigger:O,optionsPropsRef:d,closeCombobox(){g.value=!1,!e.disabled&&r.value!==1&&(r.value=1,f.value=null)},openCombobox(){if(g.value=!0,!e.disabled&&r.value!==0){if(m.value.value){let p=m.calculateIndex(m.value.value);p!==-1&&(f.value=p)}r.value=0}},setActivationTrigger(p){O.value=p},goToOption(p,b,$){g.value=!1,C!==null&&cancelAnimationFrame(C),C=requestAnimationFrame(()=>{if(e.disabled||s.value&&!d.value.static&&r.value===1)return;if(m.virtual.value){f.value=p===G.Specific?b:on({focus:p},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var D,L;return(L=(D=m.activeOptionIndex.value)!=null?D:m.virtual.value.options.findIndex(U=>{var ae;return!((ae=m.virtual.value)!=null&&ae.disabled(U))}))!=null?L:null},resolveDisabled:D=>m.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),O.value=$??2;return}let k=v();if(k.activeOptionIndex===null){let D=k.options.findIndex(L=>!L.dataRef.disabled);D!==-1&&(k.activeOptionIndex=D)}let V=p===G.Specific?b:on({focus:p},{resolveItems:()=>k.options,resolveActiveIndex:()=>k.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});f.value=V,O.value=$??2,u.value=k.options})},selectOption(p){let b=u.value.find(k=>k.id===p);if(!b)return;let{dataRef:$}=b;E($.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)E(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:p}=u.value[m.activeOptionIndex.value];E(p.value)}m.goToOption(G.Specific,m.activeOptionIndex.value)}},registerOption(p,b){let $=Qn({id:p,dataRef:b});if(m.virtual.value){u.value.push($);return}c&&cancelAnimationFrame(c);let k=v(V=>(V.push($),V));f.value===null&&m.isSelected(b.value.value)&&(k.activeOptionIndex=k.options.indexOf($)),u.value=k.options,f.value=k.activeOptionIndex,O.value=2,k.options.some(V=>!F(V.dataRef.domRef))&&(c=requestAnimationFrame(()=>{let V=v();u.value=V.options,f.value=V.activeOptionIndex}))},unregisterOption(p,b){if(C!==null&&cancelAnimationFrame(C),b&&(g.value=!0),m.virtual.value){u.value=u.value.filter(k=>k.id!==p);return}let $=v(k=>{let V=k.findIndex(D=>D.id===p);return V!==-1&&k.splice(V,1),k});u.value=$.options,f.value=$.activeOptionIndex,O.value=2},isSelected(p){return be(y.value,{0:()=>m.compare(ve(m.value.value),ve(p)),1:()=>ve(m.value.value).some(b=>m.compare(ve(b),ve(p)))})},isActive(p){return f.value===m.calculateIndex(p)}};fr([l,o,s],()=>m.closeCombobox(),S(()=>r.value===0)),nt(kn,m),xr(S(()=>be(r.value,{0:Ze.Open,1:Ze.Closed})));let R=S(()=>{var p;return(p=F(l))==null?void 0:p.closest("form")});return rt(()=>{ye([R],()=>{if(!R.value||e.defaultValue===void 0)return;function p(){m.change(e.defaultValue)}return R.value.addEventListener("reset",p),()=>{var b;(b=R.value)==null||b.removeEventListener("reset",p)}},{immediate:!0})}),()=>{var p,b,$;let{name:k,disabled:V,form:D,...L}=e,U={open:r.value===0,disabled:V,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(p=m.activeOptionIndex.value)!=null?p:0]:($=(b=m.options.value[m.activeOptionIndex.value])==null?void 0:b.dataRef.value)!=null?$:null,value:M.value};return Xe(de,[...k!=null&&M.value!=null?En({[k]:M.value}).map(([ae,le])=>Xe(yr,gr({features:On.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:V,name:ae,value:le}))):[],Ne({theirProps:{...t,...gt(L,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:U,slots:n,attrs:t,name:"Combobox"})])}}}),Rr=pe({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:a}){var r;let i=(r=e.id)!=null?r:`headlessui-combobox-button-${ht()}`,l=We("ComboboxButton");a({el:l.buttonRef,$el:l.buttonRef});function o(u){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(u.preventDefault(),l.openCombobox()),Ie(()=>{var f;return(f=F(l.inputRef))==null?void 0:f.focus({preventScroll:!0})}))}function s(u){switch(u.key){case J.ArrowDown:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),Ie(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case J.ArrowUp:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),Ie(()=>{l.value.value||l.goToOption(G.Last)})),Ie(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case J.Escape:if(l.comboboxState.value!==0)return;u.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&u.stopPropagation(),l.closeCombobox(),Ie(()=>{var f;return(f=l.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return}}let d=pr(S(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var u,f;let O={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...g}=e,v={ref:l.buttonRef,id:i,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=F(l.optionsRef))==null?void 0:u.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(f=F(l.labelRef))==null?void 0:f.id,i].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:s,onClick:o};return Ne({ourProps:v,theirProps:g,slot:O,attrs:n,slots:t,name:"ComboboxButton"})}}}),Tr=pe({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:a,expose:r}){var i;let l=(i=e.id)!=null?i:`headlessui-combobox-input-${ht()}`,o=We("ComboboxInput"),s=S(()=>Rt(F(o.inputRef))),d={value:!1};r({el:o.inputRef,$el:o.inputRef});function u(){o.change(null);let c=F(o.optionsRef);c&&(c.scrollTop=0),o.goToOption(G.Nothing)}let f=S(()=>{var c;let E=o.value.value;return F(o.inputRef)?typeof e.displayValue<"u"&&E!==void 0?(c=e.displayValue(E))!=null?c:"":typeof E=="string"?E:"":""});rt(()=>{ye([f,o.comboboxState,s],([c,E],[I,m])=>{if(d.value)return;let R=F(o.inputRef);R&&((m===0&&E===1||c!==I)&&(R.value=c),requestAnimationFrame(()=>{var p;if(d.value||!R||((p=s.value)==null?void 0:p.activeElement)!==R)return;let{selectionStart:b,selectionEnd:$}=R;Math.abs(($??0)-(b??0))===0&&b===0&&R.setSelectionRange(R.value.length,R.value.length)}))},{immediate:!0}),ye([o.comboboxState],([c],[E])=>{if(c===0&&E===1){if(d.value)return;let I=F(o.inputRef);if(!I)return;let m=I.value,{selectionStart:R,selectionEnd:p,selectionDirection:b}=I;I.value="",I.value=m,b!==null?I.setSelectionRange(R,p,b):I.setSelectionRange(R,p)}})});let O=j(!1);function g(){O.value=!0}function v(){pt().nextFrame(()=>{O.value=!1})}let y=Ja();function h(c){switch(d.value=!0,y(()=>{d.value=!1}),c.key){case J.Enter:if(d.value=!1,o.comboboxState.value!==0||O.value)return;if(c.preventDefault(),c.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case J.ArrowDown:return d.value=!1,c.preventDefault(),c.stopPropagation(),be(o.comboboxState.value,{0:()=>o.goToOption(G.Next),1:()=>o.openCombobox()});case J.ArrowUp:return d.value=!1,c.preventDefault(),c.stopPropagation(),be(o.comboboxState.value,{0:()=>o.goToOption(G.Previous),1:()=>{o.openCombobox(),Ie(()=>{o.value.value||o.goToOption(G.Last)})}});case J.Home:if(c.shiftKey)break;return d.value=!1,c.preventDefault(),c.stopPropagation(),o.goToOption(G.First);case J.PageUp:return d.value=!1,c.preventDefault(),c.stopPropagation(),o.goToOption(G.First);case J.End:if(c.shiftKey)break;return d.value=!1,c.preventDefault(),c.stopPropagation(),o.goToOption(G.Last);case J.PageDown:return d.value=!1,c.preventDefault(),c.stopPropagation(),o.goToOption(G.Last);case J.Escape:if(d.value=!1,o.comboboxState.value!==0)return;c.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&c.stopPropagation(),o.nullable.value&&o.mode.value===0&&o.value.value===null&&u(),o.closeCombobox();break;case J.Tab:if(d.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.activationTrigger.value!==1&&o.selectActiveOption(),o.closeCombobox();break}}function w(c){n("change",c),o.nullable.value&&o.mode.value===0&&c.target.value===""&&u(),o.openCombobox()}function x(c){var E,I,m;let R=(E=c.relatedTarget)!=null?E:Ae.find(p=>p!==c.currentTarget);if(d.value=!1,!((I=F(o.optionsRef))!=null&&I.contains(R))&&!((m=F(o.buttonRef))!=null&&m.contains(R))&&o.comboboxState.value===0)return c.preventDefault(),o.mode.value===0&&(o.nullable.value&&o.value.value===null?u():o.activationTrigger.value!==1&&o.selectActiveOption()),o.closeCombobox()}function M(c){var E,I,m;let R=(E=c.relatedTarget)!=null?E:Ae.find(p=>p!==c.currentTarget);(I=F(o.buttonRef))!=null&&I.contains(R)||(m=F(o.optionsRef))!=null&&m.contains(R)||o.disabled.value||o.immediate.value&&o.comboboxState.value!==0&&(o.openCombobox(),pt().nextFrame(()=>{o.setActivationTrigger(1)}))}let C=S(()=>{var c,E,I,m;return(m=(I=(E=e.defaultValue)!=null?E:o.defaultValue.value!==void 0?(c=e.displayValue)==null?void 0:c.call(e,o.defaultValue.value):null)!=null?I:o.defaultValue.value)!=null?m:""});return()=>{var c,E,I,m,R,p,b;let $={open:o.comboboxState.value===0},{displayValue:k,onChange:V,...D}=e,L={"aria-controls":(c=o.optionsRef.value)==null?void 0:c.id,"aria-expanded":o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null?void 0:o.virtual.value?(E=o.options.value.find(U=>!o.virtual.value.disabled(U.dataRef.value)&&o.compare(U.dataRef.value,o.virtual.value.options[o.activeOptionIndex.value])))==null?void 0:E.id:(I=o.options.value[o.activeOptionIndex.value])==null?void 0:I.id,"aria-labelledby":(p=(m=F(o.labelRef))==null?void 0:m.id)!=null?p:(R=F(o.buttonRef))==null?void 0:R.id,"aria-autocomplete":"list",id:l,onCompositionstart:g,onCompositionend:v,onKeydown:h,onInput:w,onFocus:M,onBlur:x,role:"combobox",type:(b=t.type)!=null?b:"text",tabIndex:0,ref:o.inputRef,defaultValue:C.value,disabled:o.disabled.value===!0?!0:void 0};return Ne({ourProps:L,theirProps:D,slot:$,attrs:t,slots:a,features:Je.RenderStrategy|Je.Static,name:"ComboboxInput"})}}}),zr=pe({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:a}){let r=We("ComboboxOptions"),i=`headlessui-combobox-options-${ht()}`;a({el:r.optionsRef,$el:r.optionsRef}),we(()=>{r.optionsPropsRef.value.static=e.static}),we(()=>{r.optionsPropsRef.value.hold=e.hold});let l=wr(),o=S(()=>l!==null?(l.value&Ze.Open)===Ze.Open:r.comboboxState.value===0);mr({container:S(()=>F(r.optionsRef)),enabled:S(()=>r.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function s(d){d.preventDefault()}return()=>{var d,u,f;let O={open:r.comboboxState.value===0},g={"aria-labelledby":(f=(d=F(r.labelRef))==null?void 0:d.id)!=null?f:(u=F(r.buttonRef))==null?void 0:u.id,id:i,ref:r.optionsRef,role:"listbox","aria-multiselectable":r.mode.value===1?!0:void 0,onMousedown:s},v=gt(e,["hold"]);return Ne({ourProps:g,theirProps:v,slot:O,attrs:n,slots:r.virtual.value&&r.comboboxState.value===0?{...t,default:()=>[Xe(Ar,{},t.default)]}:t,features:Je.RenderStrategy|Je.Static,visible:o.value,name:"ComboboxOptions"})}}}),Pr=pe({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:a}){let r=We("ComboboxOption"),i=`headlessui-combobox-option-${ht()}`,l=j(null),o=S(()=>e.disabled);a({el:l,$el:l});let s=S(()=>{var x;return r.virtual.value?r.activeOptionIndex.value===r.calculateIndex(e.value):r.activeOptionIndex.value===null?!1:((x=r.options.value[r.activeOptionIndex.value])==null?void 0:x.id)===i}),d=S(()=>r.isSelected(e.value)),u=at(An,null),f=S(()=>({disabled:e.disabled,value:e.value,domRef:l,order:S(()=>e.order)}));rt(()=>r.registerOption(i,f)),vn(()=>r.unregisterOption(i,s.value)),we(()=>{let x=F(l);x&&(u==null||u.value.measureElement(x))}),we(()=>{r.comboboxState.value===0&&s.value&&(r.virtual.value||r.activationTrigger.value!==0&&Ie(()=>{var x,M;return(M=(x=F(l))==null?void 0:x.scrollIntoView)==null?void 0:M.call(x,{block:"nearest"})}))});function O(x){x.preventDefault(),x.button===Cn.Left&&(o.value||(r.selectOption(i),yn()||requestAnimationFrame(()=>{var M;return(M=F(r.inputRef))==null?void 0:M.focus({preventScroll:!0})}),r.mode.value===0&&r.closeCombobox()))}function g(){var x;if(e.disabled||(x=r.virtual.value)!=null&&x.disabled(e.value))return r.goToOption(G.Nothing);let M=r.calculateIndex(e.value);r.goToOption(G.Specific,M)}let v=vr();function y(x){v.update(x)}function h(x){var M;if(!v.wasMoved(x)||e.disabled||(M=r.virtual.value)!=null&&M.disabled(e.value)||s.value)return;let C=r.calculateIndex(e.value);r.goToOption(G.Specific,C,0)}function w(x){var M;v.wasMoved(x)&&(e.disabled||(M=r.virtual.value)!=null&&M.disabled(e.value)||s.value&&(r.optionsPropsRef.value.hold||r.goToOption(G.Nothing)))}return()=>{let{disabled:x}=e,M={active:s.value,selected:d.value,disabled:x},C={id:i,ref:l,role:"option",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:O,onFocus:g,onPointerenter:y,onMouseenter:y,onPointermove:h,onMousemove:h,onPointerleave:w,onMouseleave:w},c=gt(e,["order","value"]);return Ne({ourProps:C,theirProps:c,slot:M,attrs:t,slots:n,name:"ComboboxOption"})}}});function ne(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Te(e){var n=ne(e).Element;return e instanceof n||e instanceof Element}function ie(e){var n=ne(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Tt(e){if(typeof ShadowRoot>"u")return!1;var n=ne(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}var Re=Math.max,vt=Math.min,je=Math.round;function $t(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Mn(){return!/^((?!chrome|android).)*safari/i.test($t())}function Ve(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var a=e.getBoundingClientRect(),r=1,i=1;n&&ie(e)&&(r=e.offsetWidth>0&&je(a.width)/e.offsetWidth||1,i=e.offsetHeight>0&&je(a.height)/e.offsetHeight||1);var l=Te(e)?ne(e):window,o=l.visualViewport,s=!Mn()&&t,d=(a.left+(s&&o?o.offsetLeft:0))/r,u=(a.top+(s&&o?o.offsetTop:0))/i,f=a.width/r,O=a.height/i;return{width:f,height:O,top:u,right:d+f,bottom:u+O,left:d,x:d,y:u}}function zt(e){var n=ne(e),t=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:t,scrollTop:a}}function Dr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jr(e){return e===ne(e)||!ie(e)?zt(e):Dr(e)}function he(e){return e?(e.nodeName||"").toLowerCase():null}function Oe(e){return((Te(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pt(e){return Ve(Oe(e)).left+zt(e).scrollLeft}function xe(e){return ne(e).getComputedStyle(e)}function Dt(e){var n=xe(e),t=n.overflow,a=n.overflowX,r=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+a)}function Vr(e){var n=e.getBoundingClientRect(),t=je(n.width)/e.offsetWidth||1,a=je(n.height)/e.offsetHeight||1;return t!==1||a!==1}function Br(e,n,t){t===void 0&&(t=!1);var a=ie(n),r=ie(n)&&Vr(n),i=Oe(n),l=Ve(e,r,t),o={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(a||!a&&!t)&&((he(n)!=="body"||Dt(i))&&(o=jr(n)),ie(n)?(s=Ve(n,!0),s.x+=n.clientLeft,s.y+=n.clientTop):i&&(s.x=Pt(i))),{x:l.left+o.scrollLeft-s.x,y:l.top+o.scrollTop-s.y,width:l.width,height:l.height}}function jt(e){var n=Ve(e),t=e.offsetWidth,a=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:a}}function bt(e){return he(e)==="html"?e:e.assignedSlot||e.parentNode||(Tt(e)?e.host:null)||Oe(e)}function Rn(e){return["html","body","#document"].indexOf(he(e))>=0?e.ownerDocument.body:ie(e)&&Dt(e)?e:Rn(bt(e))}function Ye(e,n){var t;n===void 0&&(n=[]);var a=Rn(e),r=a===((t=e.ownerDocument)==null?void 0:t.body),i=ne(a),l=r?[i].concat(i.visualViewport||[],Dt(a)?a:[]):a,o=n.concat(l);return r?o:o.concat(Ye(bt(l)))}function Fr(e){return["table","td","th"].indexOf(he(e))>=0}function ln(e){return!ie(e)||xe(e).position==="fixed"?null:e.offsetParent}function Lr(e){var n=/firefox/i.test($t()),t=/Trident/i.test($t());if(t&&ie(e)){var a=xe(e);if(a.position==="fixed")return null}var r=bt(e);for(Tt(r)&&(r=r.host);ie(r)&&["html","body"].indexOf(he(r))<0;){var i=xe(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||n&&i.willChange==="filter"||n&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function ot(e){for(var n=ne(e),t=ln(e);t&&Fr(t)&&xe(t).position==="static";)t=ln(t);return t&&(he(t)==="html"||he(t)==="body"&&xe(t).position==="static")?n:t||Lr(e)||n}var ee="top",ce="bottom",fe="right",te="left",Vt="auto",it=[ee,ce,fe,te],Be="start",_e="end",Nr="clippingParents",Tn="viewport",Ke="popper",Wr="reference",sn=it.reduce(function(e,n){return e.concat([n+"-"+Be,n+"-"+_e])},[]),zn=[].concat(it,[Vt]).reduce(function(e,n){return e.concat([n,n+"-"+Be,n+"-"+_e])},[]),qr="beforeRead",Ur="read",Hr="afterRead",Kr="beforeMain",Yr="main",Gr="afterMain",Xr="beforeWrite",Qr="write",Jr="afterWrite",Zr=[qr,Ur,Hr,Kr,Yr,Gr,Xr,Qr,Jr];function _r(e){var n=new Map,t=new Set,a=[];e.forEach(function(i){n.set(i.name,i)});function r(i){t.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(o){if(!t.has(o)){var s=n.get(o);s&&r(s)}}),a.push(i)}return e.forEach(function(i){t.has(i.name)||r(i)}),a}function eo(e){var n=_r(e);return Zr.reduce(function(t,a){return t.concat(n.filter(function(r){return r.phase===a}))},[])}function to(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function no(e){var n=e.reduce(function(t,a){var r=t[a.name];return t[a.name]=r?Object.assign({},r,a,{options:Object.assign({},r.options,a.options),data:Object.assign({},r.data,a.data)}):a,t},{});return Object.keys(n).map(function(t){return n[t]})}function ao(e,n){var t=ne(e),a=Oe(e),r=t.visualViewport,i=a.clientWidth,l=a.clientHeight,o=0,s=0;if(r){i=r.width,l=r.height;var d=Mn();(d||!d&&n==="fixed")&&(o=r.offsetLeft,s=r.offsetTop)}return{width:i,height:l,x:o+Pt(e),y:s}}function ro(e){var n,t=Oe(e),a=zt(e),r=(n=e.ownerDocument)==null?void 0:n.body,i=Re(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=Re(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-a.scrollLeft+Pt(e),s=-a.scrollTop;return xe(r||t).direction==="rtl"&&(o+=Re(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:o,y:s}}function Pn(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&Tt(t)){var a=n;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function kt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oo(e,n){var t=Ve(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function un(e,n,t){return n===Tn?kt(ao(e,t)):Te(n)?oo(n,t):kt(ro(Oe(e)))}function io(e){var n=Ye(bt(e)),t=["absolute","fixed"].indexOf(xe(e).position)>=0,a=t&&ie(e)?ot(e):e;return Te(a)?n.filter(function(r){return Te(r)&&Pn(r,a)&&he(r)!=="body"}):[]}function lo(e,n,t,a){var r=n==="clippingParents"?io(e):[].concat(n),i=[].concat(r,[t]),l=i[0],o=i.reduce(function(s,d){var u=un(e,d,a);return s.top=Re(u.top,s.top),s.right=vt(u.right,s.right),s.bottom=vt(u.bottom,s.bottom),s.left=Re(u.left,s.left),s},un(e,l,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function me(e){return e.split("-")[0]}function Fe(e){return e.split("-")[1]}function Bt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dn(e){var n=e.reference,t=e.element,a=e.placement,r=a?me(a):null,i=a?Fe(a):null,l=n.x+n.width/2-t.width/2,o=n.y+n.height/2-t.height/2,s;switch(r){case ee:s={x:l,y:n.y-t.height};break;case ce:s={x:l,y:n.y+n.height};break;case fe:s={x:n.x+n.width,y:o};break;case te:s={x:n.x-t.width,y:o};break;default:s={x:n.x,y:n.y}}var d=r?Bt(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case Be:s[d]=s[d]-(n[u]/2-t[u]/2);break;case _e:s[d]=s[d]+(n[u]/2-t[u]/2);break}}return s}function jn(){return{top:0,right:0,bottom:0,left:0}}function Vn(e){return Object.assign({},jn(),e)}function Bn(e,n){return n.reduce(function(t,a){return t[a]=e,t},{})}function Ft(e,n){n===void 0&&(n={});var t=n,a=t.placement,r=a===void 0?e.placement:a,i=t.strategy,l=i===void 0?e.strategy:i,o=t.boundary,s=o===void 0?Nr:o,d=t.rootBoundary,u=d===void 0?Tn:d,f=t.elementContext,O=f===void 0?Ke:f,g=t.altBoundary,v=g===void 0?!1:g,y=t.padding,h=y===void 0?0:y,w=Vn(typeof h!="number"?h:Bn(h,it)),x=O===Ke?Wr:Ke,M=e.rects.popper,C=e.elements[v?x:O],c=lo(Te(C)?C:C.contextElement||Oe(e.elements.popper),s,u,l),E=Ve(e.elements.reference),I=Dn({reference:E,element:M,strategy:"absolute",placement:r}),m=kt(Object.assign({},M,I)),R=O===Ke?m:E,p={top:c.top-R.top+w.top,bottom:R.bottom-c.bottom+w.bottom,left:c.left-R.left+w.left,right:R.right-c.right+w.right},b=e.modifiersData.offset;if(O===Ke&&b){var $=b[r];Object.keys(p).forEach(function(k){var V=[fe,ce].indexOf(k)>=0?1:-1,D=[ee,ce].indexOf(k)>=0?"y":"x";p[k]+=$[D]*V})}return p}var dn={placement:"bottom",modifiers:[],strategy:"absolute"};function cn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function so(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,a=t===void 0?[]:t,r=n.defaultOptions,i=r===void 0?dn:r;return function(o,s,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},dn,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},f=[],O=!1,g={state:u,setOptions:function(w){var x=typeof w=="function"?w(u.options):w;y(),u.options=Object.assign({},i,u.options,x),u.scrollParents={reference:Te(o)?Ye(o):o.contextElement?Ye(o.contextElement):[],popper:Ye(s)};var M=eo(no([].concat(a,u.options.modifiers)));return u.orderedModifiers=M.filter(function(C){return C.enabled}),v(),g.update()},forceUpdate:function(){if(!O){var w=u.elements,x=w.reference,M=w.popper;if(cn(x,M)){u.rects={reference:Br(x,ot(M),u.options.strategy==="fixed"),popper:jt(M)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(p){return u.modifiersData[p.name]=Object.assign({},p.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var c=u.orderedModifiers[C],E=c.fn,I=c.options,m=I===void 0?{}:I,R=c.name;typeof E=="function"&&(u=E({state:u,options:m,name:R,instance:g})||u)}}}},update:to(function(){return new Promise(function(h){g.forceUpdate(),h(u)})}),destroy:function(){y(),O=!0}};if(!cn(o,s))return g;g.setOptions(d).then(function(h){!O&&d.onFirstUpdate&&d.onFirstUpdate(h)});function v(){u.orderedModifiers.forEach(function(h){var w=h.name,x=h.options,M=x===void 0?{}:x,C=h.effect;if(typeof C=="function"){var c=C({state:u,name:w,instance:g,options:M}),E=function(){};f.push(c||E)}})}function y(){f.forEach(function(h){return h()}),f=[]}return g}}var dt={passive:!0};function uo(e){var n=e.state,t=e.instance,a=e.options,r=a.scroll,i=r===void 0?!0:r,l=a.resize,o=l===void 0?!0:l,s=ne(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",t.update,dt)}),o&&s.addEventListener("resize",t.update,dt),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",t.update,dt)}),o&&s.removeEventListener("resize",t.update,dt)}}const Fn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uo,data:{}};function co(e){var n=e.state,t=e.name;n.modifiersData[t]=Dn({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const fo={name:"popperOffsets",enabled:!0,phase:"read",fn:co,data:{}};var po={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vo(e,n){var t=e.x,a=e.y,r=n.devicePixelRatio||1;return{x:je(t*r)/r||0,y:je(a*r)/r||0}}function fn(e){var n,t=e.popper,a=e.popperRect,r=e.placement,i=e.variation,l=e.offsets,o=e.position,s=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,f=e.isFixed,O=l.x,g=O===void 0?0:O,v=l.y,y=v===void 0?0:v,h=typeof u=="function"?u({x:g,y}):{x:g,y};g=h.x,y=h.y;var w=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),M=te,C=ee,c=window;if(d){var E=ot(t),I="clientHeight",m="clientWidth";if(E===ne(t)&&(E=Oe(t),xe(E).position!=="static"&&o==="absolute"&&(I="scrollHeight",m="scrollWidth")),E=E,r===ee||(r===te||r===fe)&&i===_e){C=ce;var R=f&&E===c&&c.visualViewport?c.visualViewport.height:E[I];y-=R-a.height,y*=s?1:-1}if(r===te||(r===ee||r===ce)&&i===_e){M=fe;var p=f&&E===c&&c.visualViewport?c.visualViewport.width:E[m];g-=p-a.width,g*=s?1:-1}}var b=Object.assign({position:o},d&&po),$=u===!0?vo({x:g,y},ne(t)):{x:g,y};if(g=$.x,y=$.y,s){var k;return Object.assign({},b,(k={},k[C]=x?"0":"",k[M]=w?"0":"",k.transform=(c.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",k))}return Object.assign({},b,(n={},n[C]=x?y+"px":"",n[M]=w?g+"px":"",n.transform="",n))}function mo(e){var n=e.state,t=e.options,a=t.gpuAcceleration,r=a===void 0?!0:a,i=t.adaptive,l=i===void 0?!0:i,o=t.roundOffsets,s=o===void 0?!0:o,d={placement:me(n.placement),variation:Fe(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,fn(Object.assign({},d,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:l,roundOffsets:s})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,fn(Object.assign({},d,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const Ln={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mo,data:{}};function ho(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var a=n.styles[t]||{},r=n.attributes[t]||{},i=n.elements[t];!ie(i)||!he(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(l){var o=r[l];o===!1?i.removeAttribute(l):i.setAttribute(l,o===!0?"":o)}))})}function go(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(a){var r=n.elements[a],i=n.attributes[a]||{},l=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:t[a]),o=l.reduce(function(s,d){return s[d]="",s},{});!ie(r)||!he(r)||(Object.assign(r.style,o),Object.keys(i).forEach(function(s){r.removeAttribute(s)}))})}}const bo={name:"applyStyles",enabled:!0,phase:"write",fn:ho,effect:go,requires:["computeStyles"]};var yo=[Fn,fo,Ln,bo],wo={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(e){return e.replace(/left|right|bottom|top/g,function(n){return wo[n]})}var xo={start:"end",end:"start"};function pn(e){return e.replace(/start|end/g,function(n){return xo[n]})}function Oo(e,n){n===void 0&&(n={});var t=n,a=t.placement,r=t.boundary,i=t.rootBoundary,l=t.padding,o=t.flipVariations,s=t.allowedAutoPlacements,d=s===void 0?zn:s,u=Fe(a),f=u?o?sn:sn.filter(function(v){return Fe(v)===u}):it,O=f.filter(function(v){return d.indexOf(v)>=0});O.length===0&&(O=f);var g=O.reduce(function(v,y){return v[y]=Ft(e,{placement:y,boundary:r,rootBoundary:i,padding:l})[me(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function So(e){if(me(e)===Vt)return[];var n=ct(e);return[pn(e),n,pn(n)]}function Co(e){var n=e.state,t=e.options,a=e.name;if(!n.modifiersData[a]._skip){for(var r=t.mainAxis,i=r===void 0?!0:r,l=t.altAxis,o=l===void 0?!0:l,s=t.fallbackPlacements,d=t.padding,u=t.boundary,f=t.rootBoundary,O=t.altBoundary,g=t.flipVariations,v=g===void 0?!0:g,y=t.allowedAutoPlacements,h=n.options.placement,w=me(h),x=w===h,M=s||(x||!v?[ct(h)]:So(h)),C=[h].concat(M).reduce(function(N,Y){return N.concat(me(Y)===Vt?Oo(n,{placement:Y,boundary:u,rootBoundary:f,padding:d,flipVariations:v,allowedAutoPlacements:y}):Y)},[]),c=n.rects.reference,E=n.rects.popper,I=new Map,m=!0,R=C[0],p=0;p<C.length;p++){var b=C[p],$=me(b),k=Fe(b)===Be,V=[ee,ce].indexOf($)>=0,D=V?"width":"height",L=Ft(n,{placement:b,boundary:u,rootBoundary:f,altBoundary:O,padding:d}),U=V?k?fe:te:k?ce:ee;c[D]>E[D]&&(U=ct(U));var ae=ct(U),le=[];if(i&&le.push(L[$]<=0),o&&le.push(L[U]<=0,L[ae]<=0),le.every(function(N){return N})){R=b,m=!1;break}I.set(b,le)}if(m)for(var se=v?3:1,qe=function(Y){var ue=C.find(function(lt){var Se=I.get(lt);if(Se)return Se.slice(0,Y).every(function(yt){return yt})});if(ue)return R=ue,"break"},P=se;P>0;P--){var K=qe(P);if(K==="break")break}n.placement!==R&&(n.modifiersData[a]._skip=!0,n.placement=R,n.reset=!0)}}const Eo={name:"flip",enabled:!0,phase:"main",fn:Co,requiresIfExists:["offset"],data:{_skip:!1}};function Io(e,n,t){var a=me(e),r=[te,ee].indexOf(a)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,l=i[0],o=i[1];return l=l||0,o=(o||0)*r,[te,fe].indexOf(a)>=0?{x:o,y:l}:{x:l,y:o}}function $o(e){var n=e.state,t=e.options,a=e.name,r=t.offset,i=r===void 0?[0,0]:r,l=zn.reduce(function(u,f){return u[f]=Io(f,n.rects,i),u},{}),o=l[n.placement],s=o.x,d=o.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=s,n.modifiersData.popperOffsets.y+=d),n.modifiersData[a]=l}const ko={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$o};function Ao(e){return e==="x"?"y":"x"}function Ge(e,n,t){return Re(e,vt(n,t))}function Mo(e,n,t){var a=Ge(e,n,t);return a>t?t:a}function Ro(e){var n=e.state,t=e.options,a=e.name,r=t.mainAxis,i=r===void 0?!0:r,l=t.altAxis,o=l===void 0?!1:l,s=t.boundary,d=t.rootBoundary,u=t.altBoundary,f=t.padding,O=t.tether,g=O===void 0?!0:O,v=t.tetherOffset,y=v===void 0?0:v,h=Ft(n,{boundary:s,rootBoundary:d,padding:f,altBoundary:u}),w=me(n.placement),x=Fe(n.placement),M=!x,C=Bt(w),c=Ao(C),E=n.modifiersData.popperOffsets,I=n.rects.reference,m=n.rects.popper,R=typeof y=="function"?y(Object.assign({},n.rects,{placement:n.placement})):y,p=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),b=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,$={x:0,y:0};if(E){if(i){var k,V=C==="y"?ee:te,D=C==="y"?ce:fe,L=C==="y"?"height":"width",U=E[C],ae=U+h[V],le=U-h[D],se=g?-m[L]/2:0,qe=x===Be?I[L]:m[L],P=x===Be?-m[L]:-I[L],K=n.elements.arrow,N=g&&K?jt(K):{width:0,height:0},Y=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:jn(),ue=Y[V],lt=Y[D],Se=Ge(0,I[L],N[L]),yt=M?I[L]/2-se-Se-ue-p.mainAxis:qe-Se-ue-p.mainAxis,Nn=M?-I[L]/2+se+Se+lt+p.mainAxis:P+Se+lt+p.mainAxis,wt=n.elements.arrow&&ot(n.elements.arrow),Wn=wt?C==="y"?wt.clientTop||0:wt.clientLeft||0:0,Lt=(k=b==null?void 0:b[C])!=null?k:0,qn=U+yt-Lt-Wn,Un=U+Nn-Lt,Nt=Ge(g?vt(ae,qn):ae,U,g?Re(le,Un):le);E[C]=Nt,$[C]=Nt-U}if(o){var Wt,Hn=C==="x"?ee:te,Kn=C==="x"?ce:fe,Ce=E[c],st=c==="y"?"height":"width",qt=Ce+h[Hn],Ut=Ce-h[Kn],xt=[ee,te].indexOf(w)!==-1,Ht=(Wt=b==null?void 0:b[c])!=null?Wt:0,Kt=xt?qt:Ce-I[st]-m[st]-Ht+p.altAxis,Yt=xt?Ce+I[st]+m[st]-Ht-p.altAxis:Ut,Gt=g&&xt?Mo(Kt,Ce,Yt):Ge(g?Kt:qt,Ce,g?Yt:Ut);E[c]=Gt,$[c]=Gt-Ce}n.modifiersData[a]=$}}const To={name:"preventOverflow",enabled:!0,phase:"main",fn:Ro,requiresIfExists:["offset"]};var zo=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,Vn(typeof n!="number"?n:Bn(n,it))};function Po(e){var n,t=e.state,a=e.name,r=e.options,i=t.elements.arrow,l=t.modifiersData.popperOffsets,o=me(t.placement),s=Bt(o),d=[te,fe].indexOf(o)>=0,u=d?"height":"width";if(!(!i||!l)){var f=zo(r.padding,t),O=jt(i),g=s==="y"?ee:te,v=s==="y"?ce:fe,y=t.rects.reference[u]+t.rects.reference[s]-l[s]-t.rects.popper[u],h=l[s]-t.rects.reference[s],w=ot(i),x=w?s==="y"?w.clientHeight||0:w.clientWidth||0:0,M=y/2-h/2,C=f[g],c=x-O[u]-f[v],E=x/2-O[u]/2+M,I=Ge(C,E,c),m=s;t.modifiersData[a]=(n={},n[m]=I,n.centerOffset=I-E,n)}}function Do(e){var n=e.state,t=e.options,a=t.element,r=a===void 0?"[data-popper-arrow]":a;r!=null&&(typeof r=="string"&&(r=n.elements.popper.querySelector(r),!r)||Pn(n.elements.popper,r)&&(n.elements.arrow=r))}const jo={name:"arrow",enabled:!0,phase:"main",fn:Po,effect:Do,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Vo=so({defaultModifiers:[...yo,ko,Eo,To,Ln,Fn,jo]});function Bo({locked:e=!1,overflowPadding:n=8,offsetDistance:t=8,offsetSkid:a=0,gpuAcceleration:r=!0,adaptive:i=!0,scroll:l=!0,resize:o=!0,arrow:s=!1,placement:d,strategy:u},f){const O=j(null),g=j(null),v=j(null);return rt(()=>{we(y=>{if(!g.value||!O.value)return;const h=Jt(g),w=Jt(O);if(!(h instanceof HTMLElement)||!w)return;const x={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:n}},{name:"offset",options:{offset:[a,t]}},{name:"computeStyles",options:{adaptive:i,gpuAcceleration:r}},{name:"eventListeners",options:{scroll:l,resize:o}},{name:"arrow",enabled:s}]};d&&(x.placement=d),u&&(x.strategy=u),v.value=Vo(w,h,x),y(v.value.destroy)})}),[O,g,v]}const ge=et(Q.ui.strategy,Q.ui.input,ta),Ct=et(Q.ui.strategy,Q.ui.inputMenu,na),Fo=pe({components:{HCombobox:Mr,HComboboxButton:Rr,HComboboxOptions:zr,HComboboxOption:Pr,HComboboxInput:Tr,UIcon:Le,UAvatar:mt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ge.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Ct.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Ct.default.selectedIcon},disabled:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ge.size).includes(e)}},color:{type:String,default:()=>ge.default.color,validator(e){return[...Q.ui.colors,...Object.keys(ge.color)].includes(e)}},variant:{type:String,default:()=>ge.default.variant,validator(e){return[...Object.keys(ge.variant),...Object.values(ge.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},search:{type:Function,default:void 0},searchAttributes:{type:Array,default:null},searchLazy:{type:Boolean,default:!1},debounce:{type:Number,default:200},popper:{type:Object,default:()=>({})},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:t}){const{ui:a,attrs:r}=Qe("input",Me(e,"ui"),ge,Me(e,"class")),{ui:i}=Qe("inputMenu",Me(e,"uiMenu"),Ct),l=S(()=>Jn({},e.popper,i.value.popper)),[o,s]=Bo(l.value),{size:d,rounded:u}=aa({ui:a,props:e}),{emitFormBlur:f,emitFormChange:O,inputId:g,color:v,size:y,name:h}=ra(e,ge),w=S(()=>d.value??y.value),x=S(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const P=e.by;return P.indexOf(".")>0?(N,Y)=>se(N,P)===se(Y,P):P}),M=j(""),C=S({get(){return e.query??M.value},set(P){M.value=P,n("update:query",P)}}),c=S(()=>{if(!e.modelValue)return null;function P(N){return e.valueAttribute?se(N,e.valueAttribute):N}function K(N,Y){return x.value&&typeof x.value!="function"&&typeof N=="object"&&typeof Y=="object"?Zt(N[e.by],Y[e.by]):Zt(N,Y)}if(e.valueAttribute){const N=L.value.find(Y=>{const ue=P(Y);return K(ue,e.modelValue)});return N?se(N,e.optionAttribute):null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:se(e.modelValue,e.optionAttribute)}),E=S(()=>{var K,N;const P=((N=(K=a.value.color)==null?void 0:K[v.value])==null?void 0:N[e.variant])||a.value.variant[e.variant];return ft(oe(a.value.base,a.value.form,u.value,a.value.placeholder,a.value.size[w.value],e.padded?a.value.padding[w.value]:"p-0",P==null?void 0:P.replaceAll("{color}",v.value),(I.value||t.leading)&&a.value.leading.padding[w.value],(m.value||t.trailing)&&a.value.trailing.padding[w.value]),e.inputClass)}),I=S(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),m=S(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),R=S(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),p=S(()=>e.loading&&!I.value?e.loadingIcon:e.trailingIcon||e.icon),b=S(()=>oe(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[w.value])),$=S(()=>oe(a.value.icon.base,v.value&&Q.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[w.value],e.loading&&a.value.icon.loading)),k=S(()=>oe(a.value.icon.trailing.wrapper,a.value.icon.trailing.padding[w.value])),V=S(()=>oe(a.value.icon.base,v.value&&Q.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[w.value],e.loading&&!I.value&&a.value.icon.loading)),D=e.search&&typeof e.search=="function"?oa(e.search,e.debounce):void 0,L=ia(async()=>D?await D(C.value):e.options||[],[],{lazy:e.searchLazy});function U(P){return P.replace(/[.*+?^${}()|[\]\\]/g,K=>`\\${K}`)}const ae=S(()=>{if(!C.value||D)return L.value;const P=U(C.value);return L.value.filter(K=>{var N;return((N=e.searchAttributes)!=null&&N.length?e.searchAttributes:[e.optionAttribute]).some(Y=>{if(["string","number"].includes(typeof K))return String(K).search(new RegExp(P,"i"))!==-1;const ue=Qt(K,Y);return ue!=null&&String(ue).search(new RegExp(P,"i"))!==-1})})});ye(s,P=>{P?n("open"):(n("close"),f())});function le(P){C.value="",ve(e.modelValue)!==ve(P)&&(n("update:modelValue",P),n("change",P),O())}function se(P,K){return Qt(P,K)}function qe(P){C.value=P.target.value}return _a(()=>At()),{ui:a,uiMenu:i,attrs:r,name:h,inputId:g,popper:l,trigger:o,container:s,label:c,isLeading:I,isTrailing:m,inputClass:E,leadingIconName:R,leadingIconClass:$,leadingWrapperIconClass:b,trailingIconName:p,trailingIconClass:V,trailingWrapperIconClass:k,filteredOptions:ae,query:C,accessor:se,onUpdate:le,onQueryChange:qe,by:x}}}),Lo={class:"truncate"};function No(e,n,t,a,r,i){const l=Ue("HComboboxInput"),o=Le,s=Ue("HComboboxButton"),d=mt,u=Ue("HComboboxOption"),f=Ue("HComboboxOptions"),O=Ue("HCombobox");return A(),H(O,{by:e.by,name:e.name,"model-value":e.modelValue,disabled:e.disabled,nullable:e.nullable,as:"div",class:z(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:$e(({open:g})=>[T("div",{class:z(e.uiMenu.trigger)},[_(l,re({id:e.inputId,name:e.name,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass,autocomplete:"off"},e.attrs,{"display-value":()=>e.query?e.query:e.label,onChange:e.onQueryChange}),null,16,["id","name","required","placeholder","disabled","class","display-value","onChange"]),e.isLeading&&e.leadingIconName||e.$slots.leading?(A(),B("span",{key:0,class:z(e.leadingWrapperIconClass)},[Z(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[_(o,{name:e.leadingIconName,class:z(e.leadingIconClass)},null,8,["name","class"])])],2)):X("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(A(),H(s,{key:1,ref:"trigger",class:z(e.trailingWrapperIconClass)},{default:$e(()=>[Z(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[_(o,{name:e.trailingIconName,class:z(e.trailingIconClass)},null,8,["name","class"])])]),_:3},8,["class"])):X("",!0)],2),g?(A(),B("div",{key:0,ref:"container",class:z([e.uiMenu.container,e.uiMenu.width])},[_(Zn,re({appear:""},e.uiMenu.transition),{default:$e(()=>[T("div",null,[e.popper.arrow?(A(),B("div",{key:0,"data-popper-arrow":"",class:z(Object.values(e.uiMenu.arrow))},null,2)):X("",!0),_(f,{static:"",class:z([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:$e(()=>[(A(!0),B(de,null,It(e.filteredOptions,(v,y)=>(A(),H(u,{key:y,as:"template",value:e.valueAttribute?e.accessor(v,e.valueAttribute):v,disabled:v.disabled},{default:$e(({active:h,selected:w,disabled:x})=>[T("li",{class:z([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,h?e.uiMenu.option.active:e.uiMenu.option.inactive,w&&e.uiMenu.option.selected,x&&e.uiMenu.option.disabled])},[T("div",{class:z(e.uiMenu.option.container)},[Z(e.$slots,"option",{option:v,active:h,selected:w},()=>[v.icon?(A(),H(o,{key:0,name:v.icon,class:z([e.uiMenu.option.icon.base,h?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,v.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):v.avatar?(A(),H(d,re({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...v.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):v.chip?(A(),B("span",{key:2,class:z(e.uiMenu.option.chip.base),style:_n({background:`#${v.chip}`})},null,6)):X("",!0),T("span",Lo,q(["string","number"].includes(typeof v)?v:e.accessor(v,e.optionAttribute)),1)])],2),w?(A(),B("span",{key:0,class:z([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[_(o,{name:e.selectedIcon,class:z(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):X("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.query&&!e.filteredOptions.length?(A(),B("p",{key:0,class:z(e.uiMenu.option.empty)},[Z(e.$slots,"option-empty",{query:e.query},()=>[ke(q(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):e.filteredOptions.length?X("",!0):(A(),B("p",{key:1,class:z(e.uiMenu.empty)},[Z(e.$slots,"empty",{query:e.query},()=>[ke(q(e.uiMenu.default.empty.label),1)])],2))]),_:3},8,["class"])])]),_:3},16)],2)):X("",!0)]),_:3},8,["by","name","model-value","disabled","nullable","class","onUpdate:modelValue"])}const Wo=tt(Fo,[["render",No]]),Et=et(Q.ui.strategy,Q.ui.formGroup,ca),qo=pe({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(Et.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:n,attrs:t}=Qe("formGroup",Me(e,"ui"),Et,Me(e,"class")),a=at("form-errors",null),r=S(()=>{var o,s;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(s=(o=a==null?void 0:a.value)==null?void 0:o.find(d=>d.path===e.name))==null?void 0:s.message}),i=S(()=>n.value.size[e.size??Et.default.size]),l=j(At());return nt("form-group",{error:r,inputId:l,name:S(()=>e.name),size:S(()=>e.size),eagerValidation:S(()=>e.eagerValidation)}),{ui:n,attrs:t,inputId:l,size:i,error:r}}}),Uo=["for"];function Ho(e,n,t,a,r,i){return A(),B("div",re({class:e.ui.wrapper},e.attrs),[T("div",{class:z(e.ui.inner)},[e.label||e.$slots.label?(A(),B("div",{key:0,class:z([e.ui.label.wrapper,e.size])},[T("label",{for:e.inputId,class:z([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?Z(e.$slots,"label",ze(re({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(A(),B(de,{key:1},[ke(q(e.label),1)],64))],10,Uo),e.hint||e.$slots.hint?(A(),B("span",{key:0,class:z([e.ui.hint])},[e.$slots.hint?Z(e.$slots,"hint",ze(re({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(A(),B(de,{key:1},[ke(q(e.hint),1)],64))],2)):X("",!0)],2)):X("",!0),e.description||e.$slots.description?(A(),B("p",{key:1,class:z([e.ui.description,e.size])},[e.$slots.description?Z(e.$slots,"description",ze(re({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(A(),B(de,{key:1},[ke(q(e.description),1)],64))],2)):X("",!0)],2),T("div",{class:z([e.label?e.ui.container:""])},[Z(e.$slots,"default",ze(ea({error:e.error}))),typeof e.error=="string"&&e.error?(A(),B("p",{key:0,class:z([e.ui.error,e.size])},[e.$slots.error?Z(e.$slots,"error",ze(re({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(A(),B(de,{key:1},[ke(q(e.error),1)],64))],2)):e.help||e.$slots.help?(A(),B("p",{key:1,class:z([e.ui.help,e.size])},[e.$slots.help?Z(e.$slots,"help",ze(re({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(A(),B(de,{key:1},[ke(q(e.help),1)],64))],2)):X("",!0)],2)],16)}const Ko=tt(qo,[["render",Ho]]),Yo={class:"flex mb-4 w-full justify-between"},Go={class:""},Xo={class:"ml-2"},Qo={class:"ml-2"},Jo={class:"ml-2"},Zo={class:"ml-2"},_o={class:"mb-4"},ei={__name:"DrugForm",emits:["add-drug"],setup(e,{emit:n}){const t=n,a=j(null),r=j(null),i=j(null),l=j(null),o=j(null),s=j(null),d=j(null),u=j(null),f=j(!1),O=()=>{console.log(r),console.log(r.value);const y={name:a.value.name,brand:i.value,dose:l.value,when:o.value,frequency:s.value,duration:d.value,notes:u.value};t("add-drug",y),r.value=null,l.value=null,o.value=null,s.value=null,d.value=null,u.value=null},g=async y=>{a.value=y,s.value=null,i.value=null,o.value=null,l.value=null,d.value=null,u.value=null};async function v(y){f.value=!0;try{const h=await $fetch(`https://mcq-db.dakakean.com/api/collections/drugs/records?filter=name~"${y}"&expand=doses,frequency`);return h.items.length===0?(f.value=!1,[]):(f.value=!1,console.log(h.items[0]),a.value=h.items[0],h.items)}catch(h){console.log(h),f.value=!1}}return(y,h)=>{const w=Wo,x=la,M=sa,C=Ko;return A(),H(C,{label:"New Drug"},{default:$e(()=>[T("div",Yo,[T("div",Go,[_(w,{search:v,loading:W(f),placeholder:"search for a drug",trailing:"",by:"id",onChange:g,modelValue:W(r),"onUpdate:modelValue":h[0]||(h[0]=c=>Pe(r)?r.value=c:null),"option-attribute":"name"},null,8,["loading","modelValue"])]),T("div",Xo,[W(a)&&W(a).dose?(A(),H(w,{key:0,placeholder:"Dose",modelValue:W(l),"onUpdate:modelValue":h[1]||(h[1]=c=>Pe(l)?l.value=c:null),options:W(a).dose},null,8,["modelValue","options"])):(A(),H(w,{key:1,placeholder:"Dose",disabled:""}))]),T("div",Qo,[W(a)&&W(a).when?(A(),H(w,{key:0,placeholder:"When",modelValue:W(o),"onUpdate:modelValue":h[2]||(h[2]=c=>Pe(o)?o.value=c:null),options:W(a).when},null,8,["modelValue","options"])):(A(),H(w,{key:1,placeholder:"When",disabled:""}))]),T("div",Jo,[W(a)&&W(a).frequency?(A(),H(w,{key:0,placeholder:"Frequency",modelValue:W(s),"onUpdate:modelValue":h[3]||(h[3]=c=>Pe(s)?s.value=c:null),options:W(a).frequency},null,8,["modelValue","options"])):(A(),H(w,{key:1,placeholder:"Dose",disabled:""}))]),T("div",Zo,[W(a)&&W(a).duration?(A(),H(w,{key:0,placeholder:"Duration",modelValue:W(d),"onUpdate:modelValue":h[4]||(h[4]=c=>Pe(d)?d.value=c:null),options:W(a).duration},null,8,["modelValue","options"])):(A(),H(w,{key:1,placeholder:"Duration",disabled:""}))])]),T("div",_o,[_(x,{placeholder:"Notes",modelValue:W(u),"onUpdate:modelValue":h[5]||(h[5]=c=>Pe(u)?u.value=c:null)},null,8,["modelValue"])]),T("div",null,[_(M,{class:"w-auto",label:"Add",color:"primary",onClick:O})])]),_:1})}}},ti={__name:"DrugManagement",setup(e){const n=j([{id:1,name:"Amlodipine",brand:"Amlodipine",dose:"100mg",when:"morning",frequency:"1x1",duration:"3 days",notes:"This is a star-sized column. The next column over, an auto-sized column, will not wrap to accomodate all the text in this cell, because it has been given the noWrap style"},{id:2,name:"Metformin",brand:"Amlodipine",dose:"50mg",when:"night",frequency:"2x2",duration:"60 days",notes:"This is a star-sized column. The next column over, an auto-sized column, will not wrap to accomodate all the text in this cell, because it has been given the noWrap style"}]),t=["#","Name","Brand","Dose","When","Frequency","Duration"],a=r=>{console.log(r),n.value.push(r)};return(r,i)=>{const l=Aa,o=Pa,s=ei,d=ua;return A(),H(d,null,{default:$e(()=>[_(l,{drugs:W(n),header:t},null,8,["drugs"]),_(o,{class:"my-10"}),_(s,{onAddDrug:a})]),_:1})}}},ni={};function ai(e,n){const t=ti;return A(),B("div",null,[_(t)])}const ui=tt(ni,[["render",ai]]);export{ui as default};
