import{h as sv,b as ma,u as aa,j as cl,k as ov,l as iv,m as lv,a as uv,n as cv,i as dl,o as dv,C as bc,p as fv,q as hv,_ as vv,d as mv,e as pv,f as gv}from"./DdDq4e1Z.js";import{m as pa,e as vt,_ as ga,f as le,c as j,o as T,G as ge,z as ie,r as ht,g as Ve,N as Zo,n as ne,t as re,h as Ot,q as $,s as bo,v as ln,i as W,l as me,K as v,O as wc,P as fl,Q as yv,R as Ze,S as We,y as $s,T as Fe,U as Ie,k as Ce,V as _c,W as $e,F as fe,p as _t,X as ya,J as qt,Y as bv,Z as wv,M as Le,w as q,a as A,b as Y,$ as sa,E as Te,C as ke,d as at,j as $c,I as hl,D as Qr,a0 as wo,L as st,a1 as _v,H as Dc,a2 as vl,A as Sc,a3 as $v,a4 as Dv,a5 as xe}from"./2OMgjxI6.js";import"./B_8LxUlp.js";import"./D0O7RrFh.js";const Sv={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-full",text:"font-medium leading-none text-gray-900 dark:text-white truncate",placeholder:"font-medium leading-none text-gray-500 dark:text-gray-400 truncate",size:{"3xs":"h-4 w-4 text-[8px]","2xs":"h-5 w-5 text-[10px]",xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-14 w-14 text-xl","2xl":"h-16 w-16 text-2xl","3xl":"h-20 w-20 text-3xl"},chip:{base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"}},icon:{base:"text-gray-500 dark:text-gray-400 flex-shrink-0",size:{"3xs":"h-2 w-2","2xs":"h-2.5 w-2.5",xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7","2xl":"h-8 w-8","3xl":"h-10 w-10"}},default:{size:"sm",icon:null,chipColor:null,chipPosition:"top-right"}},xv={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}},Ov={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:sv},In=pa(vt.ui.strategy,vt.ui.avatar,Sv),Pv=le({components:{UIcon:ma},inheritAttrs:!1,props:{as:{type:[String,Object],default:"img"},src:{type:[String,Boolean],default:null},alt:{type:String,default:null},text:{type:String,default:null},icon:{type:String,default:()=>In.default.icon},size:{type:String,default:()=>In.default.size,validator(e){return Object.keys(In.size).includes(e)}},chipColor:{type:String,default:()=>In.default.chipColor,validator(e){return["gray",...vt.ui.colors].includes(e)}},chipPosition:{type:String,default:()=>In.default.chipPosition,validator(e){return Object.keys(In.chip.position).includes(e)}},chipText:{type:[String,Number],default:null},imgClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=aa("avatar",Ot(e,"ui"),In),r=$(()=>typeof e.src=="boolean"?null:e.src),a=$(()=>(e.alt||"").split(" ").map(d=>d.charAt(0)).join("").substring(0,2)),s=$(()=>bo(ln(t.value.wrapper,(u.value||!r.value)&&t.value.background,t.value.rounded,t.value.size[e.size]),e.class)),o=$(()=>bo(ln(t.value.rounded,t.value.size[e.size]),e.imgClass)),i=$(()=>ln(t.value.icon.base,t.value.icon.size[e.size])),l=$(()=>ln(t.value.chip.base,t.value.chip.size[e.size],t.value.chip.position[e.chipPosition],t.value.chip.background.replaceAll("{color}",e.chipColor))),u=W(!1);me(()=>e.src,()=>{u.value&&(u.value=!1)});function c(){u.value=!0}return{ui:t,attrs:n,wrapperClass:s,imgClass:o,iconClass:i,chipClass:l,url:r,placeholder:a,error:u,onError:c}}});function Cv(e,t,n,r,a,s){const o=ma;return T(),j("span",{class:ne(e.wrapperClass)},[e.url&&!e.error?(T(),ge(Zo(e.as),Ve({key:0,class:e.imgClass,alt:e.alt,src:e.url},e.attrs,{onError:e.onError}),null,16,["class","alt","src","onError"])):e.text?(T(),j("span",{key:1,class:ne(e.ui.text)},re(e.text),3)):e.icon?(T(),ge(o,{key:2,name:e.icon,class:ne(e.iconClass)},null,8,["name","class"])):e.placeholder?(T(),j("span",{key:3,class:ne(e.ui.placeholder)},re(e.placeholder),3)):ie("",!0),e.chipColor?(T(),j("span",{key:4,class:ne(e.chipClass)},re(e.chipText),3)):ie("",!0),ht(e.$slots,"default")],2)}const xc=ga(Pv,[["render",Cv]]);function er(e,t,n){let r=n.initialDeps??[],a;return()=>{var s,o,i,l;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,m)=>r[m]!==h)))return a;r=c;let f;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now()),a=t(...c),n.key&&((i=n.debug)!=null&&i.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,g=m/16,y=(x,w)=>{for(x=String(x);x.length<w;)x=" "+x;return x};console.info(`%c⏱ ${y(m,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,a),a}}function qs(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Mv=(e,t)=>Math.abs(e-t)<1,kv=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},Ev=e=>e,Av=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let a=t;a<=n;a++)r.push(a);return r},Tv=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=o=>{const{width:i,height:l}=o;t({width:Math.round(i),height:Math.round(l)})};if(a(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const i=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},ml={passive:!0},pl=typeof window>"u"?!0:"onscrollend"in window,Iv=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const s=e.options.useScrollendEvent&&pl?()=>{}:kv(r,()=>{t(a,!1)},e.options.isScrollingResetDelay),o=c=>()=>{const{horizontal:d,isRtl:f}=e.options;a=d?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),t(a,c)},i=o(!0),l=o(!1);l(),n.addEventListener("scroll",i,ml);const u=e.options.useScrollendEvent&&pl;return u&&n.addEventListener("scrollend",l,ml),()=>{n.removeEventListener("scroll",i),u&&n.removeEventListener("scrollend",l)}},Rv=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Fv=(e,{adjustments:t=0,behavior:n},r)=>{var a,s;const o=e+t;(s=(a=r.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Nv{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var a;(a=r())==null||a.disconnect(),n=null},observe:a=>{var s;return(s=r())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=r())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,a])=>{typeof a>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ev,rangeExtractor:Av,onChange:()=>{},measureElement:Rv,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,a;(a=(r=this.options).onChange)==null||a.call(r,this,n)},this.maybeNotify=er(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const a=new Map,s=new Map;for(let o=r-1;o>=0;o--){const i=n[o];if(a.has(i.lane))continue;const l=s.get(i.lane);if(l==null||i.end>l.end?s.set(i.lane,i):i.end<l.end&&a.set(i.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,i)=>o.end===i.end?o.index-i.index:o.end-i.end)[0]:void 0},this.getMeasurementOptions=er(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,a,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:a,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=er(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:a,getItemKey:s,enabled:o},i)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=s(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+a,m=i.get(d),g=typeof m=="number"?m:this.options.estimateSize(c),y=h+g,x=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:g,end:y,key:d,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=er(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,a)=>this.range=n.length>0&&r>0?Lv({measurements:n,outerSize:r,scrollOffset:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=er(()=>{let n=null,r=null;const a=this.calculateRange();return a&&(n=a.startIndex,r=a.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,a,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,a=n.getAttribute(r);return a?parseInt(a,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const a=this.indexFromElement(n),s=this.measurementsCache[a];if(!s)return;const o=s.key,i=this.elementsCache.get(o);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(a,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const a=this.measurementsCache[n];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,o,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,a)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(a))});return}this._measureElement(n,void 0)},this.getVirtualItems=er(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const a=[];for(let s=0,o=n.length;s<o;s++){const i=n[s],l=r[i];a.push(l)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return qs(r[Oc(0,r.length-1,a=>qs(r[a]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&n>=s+a&&(r="end"),r==="end"&&(n-=a);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-a;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const a=this.measurementsCache[n];if(!a)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(a.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(a.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const i=a.start-this.options.scrollPaddingStart+(a.size-s)/2;switch(r){case"center":return[this.getOffsetForAlignment(i,r),r];case"end":return[this.getOffsetForAlignment(a.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(a.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:a})},this.scrollToIndex=(n,{align:r="auto",behavior:a}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,i]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=qs(this.getOffsetForIndex(n,i));Mv(u,this.getScrollOffset())||this.scrollToIndex(n,{align:i,behavior:a})}else this.scrollToIndex(n,{align:i,behavior:a})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let a;return r.length===0?a=this.options.paddingStart:a=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:a})=>{this.options.scrollToFn(n,{behavior:a,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Oc=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,s=n(a);if(s<r)e=a+1;else if(s>r)t=a-1;else return a}return e>0?e-1:0};function Lv({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=Oc(0,r,i=>e[i].start,n);let o=s;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:s,endIndex:o}}function Yv(e){const t=new Nv(v(e)),n=wc(t),r=t._didMount();return me(()=>v(e).getScrollElement(),a=>{a&&t._willUpdate()},{immediate:!0}),me(()=>v(e),a=>{t.setOptions({...a,onChange:(s,o)=>{var i;fl(n),(i=a.onChange)==null||i.call(a,s,o)}}),t._willUpdate(),fl(n)},{immediate:!0}),yv(r),n}function Wv(e){return Yv($(()=>({observeElementRect:Tv,observeElementOffset:Iv,scrollToFn:Fv,...v(e)})))}function Bv(e,t,n){let r=W(n==null?void 0:n.value),a=$(()=>e.value!==void 0);return[$(()=>a.value?e.value:r.value),function(s){return a.value||(r.value=s),t==null?void 0:t(s)}]}function Qo(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function On(){let e=[],t={addEventListener(n,r,a,s){return n.addEventListener(r,a,s),t.add(()=>n.removeEventListener(r,a,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Qo(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=On();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function jv(){let e=On();return Ze(()=>e.dispose()),e}function Hv(){let e=jv();return t=>{e.dispose(),e.nextFrame(t)}}var gl;let Pc=Symbol("headlessui.useid"),Vv=0;const Pt=(gl=$s)!=null?gl:function(){return Fe(Pc,()=>`${++Vv}`)()};function ei(e){We(Pc,e)}function z(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function Re(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Re),r}var Uv=Object.defineProperty,zv=(e,t,n)=>t in e?Uv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yl=(e,t,n)=>(zv(e,typeof t!="symbol"?t+"":t,n),n);let qv=class{constructor(){yl(this,"current",this.detect()),yl(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},ba=new qv;function Yt(e){if(ba.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=z(e);if(t)return t.ownerDocument}return document}let _o=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Je=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Je||{}),oa=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(oa||{}),Gv=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Gv||{});function Ds(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(_o)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ti=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ti||{});function Cc(e,t=0){var n;return e===((n=Yt(e))==null?void 0:n.body)?!1:Re(t,{0(){return e.matches(_o)},1(){let r=e;for(;r!==null;){if(r.matches(_o))return!0;r=r.parentElement}return!1}})}var Kv=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Kv||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Hn(e){e==null||e.focus({preventScroll:!0})}let Xv=["textarea","input"].join(",");function Jv(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Xv))!=null?n:!1}function Mc(e,t=n=>n){return e.slice().sort((n,r)=>{let a=t(n),s=t(r);if(a===null||s===null)return 0;let o=a.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Rt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){var s;let o=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,i=Array.isArray(e)?n?Mc(e):e:Ds(e);a.length>0&&i.length>1&&(i=i.filter(m=>!a.includes(m))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,f=i.length,h;do{if(d>=f||d+f<=0)return 0;let m=u+d;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=i[m],h==null||h.focus(c),d+=l}while(h!==o.activeElement);return t&6&&Jv(h)&&h.select(),2}function kc(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Zv(){return/Android/gi.test(window.navigator.userAgent)}function Ec(){return kc()||Zv()}function Ra(e,t,n){ba.isServer||Ie(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function Ac(e,t,n){ba.isServer||Ie(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function ni(e,t,n=$(()=>!0)){function r(s,o){if(!n.value||s.defaultPrevented)return;let i=o(s);if(i===null||!i.getRootNode().contains(i))return;let l=function u(c){return typeof c=="function"?u(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let u of l){if(u===null)continue;let c=u instanceof HTMLElement?u:z(u);if(c!=null&&c.contains(i)||s.composed&&s.composedPath().includes(c))return}return!Cc(i,ti.Loose)&&i.tabIndex!==-1&&s.preventDefault(),t(s,i)}let a=W(null);Ra("pointerdown",s=>{var o,i;n.value&&(a.value=((i=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:i[0])||s.target)},!0),Ra("mousedown",s=>{var o,i;n.value&&(a.value=((i=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:i[0])||s.target)},!0),Ra("click",s=>{Ec()||a.value&&(r(s,()=>a.value),a.value=null)},!0),Ra("touchend",s=>r(s,()=>s.target instanceof HTMLElement?s.target:null),!0),Ac("blur",s=>r(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function bl(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Tc(e,t){let n=W(bl(e.value.type,e.value.as));return Ce(()=>{n.value=bl(e.value.type,e.value.as)}),Ie(()=>{var r;n.value||z(t)&&z(t)instanceof HTMLButtonElement&&!((r=z(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}function wl(e){return[e.screenX,e.screenY]}function Qv(){let e=W([-1,-1]);return{wasMoved(t){let n=wl(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=wl(t)}}}function em({container:e,accept:t,walk:n,enabled:r}){Ie(()=>{let a=e.value;if(!a||r!==void 0&&!r.value)return;let s=Yt(e);if(!s)return;let o=Object.assign(l=>t(l),{acceptNode:t}),i=s.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,o,!1);for(;i.nextNode();)n(i.currentNode)})}var en=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(en||{}),xn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xn||{});function Ge({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...a}){var s;let o=Rc(r,n),i=Object.assign(a,{props:o});if(e||t&2&&o.static)return Gs(i);if(t&1){let l=(s=o.unmount)==null||s?0:1;return Re(l,{0(){return null},1(){return Gs({...a,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Gs(i)}function Gs({props:e,attrs:t,slots:n,slot:r,name:a}){var s,o;let{as:i,...l}=wa(e,["unmount","static"]),u=(s=n.default)==null?void 0:s.call(n,r),c={};if(r){let d=!1,f=[];for(let[h,m]of Object.entries(r))typeof m=="boolean"&&(d=!0),m===!0&&f.push(h);d&&(c["data-headlessui-state"]=f.join(" "))}if(i==="template"){if(u=Ic(u??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[d,...f]=u??[];if(!nm(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(g=>g.trim()).filter((g,y,x)=>x.indexOf(g)===y).sort((g,y)=>g.localeCompare(y)).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let h=Rc((o=d.props)!=null?o:{},l,c),m=_c(d,h,!0);for(let g in h)g.startsWith("on")&&(m.props||(m.props={}),m.props[g]=h[g]);return m}return Array.isArray(u)&&u.length===1?u[0]:u}return $e(i,Object.assign({},l,c),{default:()=>u})}function Ic(e){return e.flatMap(t=>t.type===fe?Ic(t.children):[t])}function Rc(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](a,...s){let o=n[r];for(let i of o){if(a instanceof Event&&a.defaultPrevented)return;i(a,...s)}}});return t}function tm(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function wa(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function nm(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Pn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Pn||{});let Un=le({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var r;let{features:a,...s}=e,o={"aria-hidden":(a&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return Ge({ourProps:o,theirProps:s,slot:{},attrs:n,slots:t,name:"Hidden"})}}}),Fc=Symbol("Context");var Ye=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ye||{});function rm(){return _a()!==null}function _a(){return Fe(Fc,null)}function ri(e){We(Fc,e)}var Ne=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ne||{}),Nc=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Nc||{});function am(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let un=[];am(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&un[0]!==t.target&&(un.unshift(t.target),un=un.filter(n=>n!=null&&n.isConnected),un.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function sm(e){throw new Error("Unexpected object: "+e)}var ze=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ze||{});function _l(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),a=r??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 1:{a===-1&&(a=n.length);for(let s=a-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=a+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return r}case 5:return null;default:sm(e)}}function Lc(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))Wc(n,Yc(t,r),a);return n}function Yc(e,t){return e?e+"["+t+"]":t}function Wc(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())Wc(e,Yc(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Lc(n,t,e)}var om={};function im(e,t){return e===t}var lm=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lm||{}),um=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(um||{}),cm=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(cm||{});let Bc=Symbol("ComboboxContext");function $r(e){let t=Fe(Bc,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$r),n}return t}let jc=Symbol("VirtualContext"),dm=le({name:"VirtualProvider",setup(e,{slots:t}){let n=$r("VirtualProvider"),r=$(()=>{let i=z(n.optionsRef);if(!i)return{start:0,end:0};let l=window.getComputedStyle(i);return{start:parseFloat(l.paddingBlockStart||l.paddingTop),end:parseFloat(l.paddingBlockEnd||l.paddingBottom)}}),a=Wv($(()=>({scrollPaddingStart:r.value.start,scrollPaddingEnd:r.value.end,count:n.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return z(n.optionsRef)},overscan:12}))),s=$(()=>{var i;return(i=n.virtual.value)==null?void 0:i.options}),o=W(0);return me([s],()=>{o.value+=1}),We(jc,n.virtual.value?a:null),()=>[$e("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&om.JEST_WORKER_ID!==void 0||n.activationTrigger.value===0)return;n.activeOptionIndex.value!==null&&n.virtual.value.options.length>n.activeOptionIndex.value&&a.value.scrollToIndex(n.activeOptionIndex.value)}}},a.value.getVirtualItems().map(i=>_c(t.default({option:n.virtual.value.options[i.index],open:n.comboboxState.value===0})[0],{key:`${o.value}-${i.index}`,"data-index":i.index,"aria-setsize":n.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),fm=le({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:r}){let a=W(1),s=W(null),o=W(null),i=W(null),l=W(null),u=W({static:!1,hold:!1}),c=W([]),d=W(null),f=W(2),h=W(!1);function m(E=O=>O){let O=d.value!==null?c.value[d.value]:null,P=E(c.value.slice()),I=P.length>0&&P[0].dataRef.order.value!==null?P.sort((V,Z)=>V.dataRef.order.value-Z.dataRef.order.value):Mc(P,V=>z(V.dataRef.domRef)),K=O?I.indexOf(O):null;return K===-1&&(K=null),{options:I,activeOptionIndex:K}}let g=$(()=>e.multiple?1:0),y=$(()=>e.nullable),[x,w]=Bv($(()=>e.modelValue),E=>r("update:modelValue",E),$(()=>e.defaultValue)),C=$(()=>x.value===void 0?Re(g.value,{1:[],0:void 0}):x.value),S=null,D=null;function k(E){return Re(g.value,{0(){return w==null?void 0:w(E)},1:()=>{let O=qt(M.value.value).slice(),P=qt(E),I=O.findIndex(K=>M.compare(P,qt(K)));return I===-1?O.push(P):O.splice(I,1),w==null?void 0:w(O)}})}let _=$(()=>{});me([_],([E],[O])=>{if(M.virtual.value&&E&&O&&d.value!==null){let P=E.indexOf(O[d.value]);P!==-1?d.value=P:d.value=null}});let M={comboboxState:a,value:C,mode:g,compare(E,O){if(typeof e.by=="string"){let P=e.by;return(E==null?void 0:E[P])===(O==null?void 0:O[P])}return e.by===null?im(E,O):e.by(E,O)},calculateIndex(E){return M.virtual.value?e.by===null?M.virtual.value.options.indexOf(E):M.virtual.value.options.findIndex(O=>M.compare(O,E)):c.value.findIndex(O=>M.compare(O.dataRef.value,E))},defaultValue:$(()=>e.defaultValue),nullable:y,immediate:$(()=>!1),virtual:$(()=>null),inputRef:o,labelRef:s,buttonRef:i,optionsRef:l,disabled:$(()=>e.disabled),options:c,change(E){w(E)},activeOptionIndex:$(()=>{if(h.value&&d.value===null&&(M.virtual.value?M.virtual.value.options.length>0:c.value.length>0)){if(M.virtual.value){let O=M.virtual.value.options.findIndex(P=>{var I;return!((I=M.virtual.value)!=null&&I.disabled(P))});if(O!==-1)return O}let E=c.value.findIndex(O=>!O.dataRef.disabled);if(E!==-1)return E}return d.value}),activationTrigger:f,optionsPropsRef:u,closeCombobox(){h.value=!1,!e.disabled&&a.value!==1&&(a.value=1,d.value=null)},openCombobox(){if(h.value=!0,!e.disabled&&a.value!==0){if(M.value.value){let E=M.calculateIndex(M.value.value);E!==-1&&(d.value=E)}a.value=0}},setActivationTrigger(E){f.value=E},goToOption(E,O,P){h.value=!1,S!==null&&cancelAnimationFrame(S),S=requestAnimationFrame(()=>{if(e.disabled||l.value&&!u.value.static&&a.value===1)return;if(M.virtual.value){d.value=E===ze.Specific?O:_l({focus:E},{resolveItems:()=>M.virtual.value.options,resolveActiveIndex:()=>{var V,Z;return(Z=(V=M.activeOptionIndex.value)!=null?V:M.virtual.value.options.findIndex(se=>{var ve;return!((ve=M.virtual.value)!=null&&ve.disabled(se))}))!=null?Z:null},resolveDisabled:V=>M.virtual.value.disabled(V),resolveId(){throw new Error("Function not implemented.")}}),f.value=P??2;return}let I=m();if(I.activeOptionIndex===null){let V=I.options.findIndex(Z=>!Z.dataRef.disabled);V!==-1&&(I.activeOptionIndex=V)}let K=E===ze.Specific?O:_l({focus:E},{resolveItems:()=>I.options,resolveActiveIndex:()=>I.activeOptionIndex,resolveId:V=>V.id,resolveDisabled:V=>V.dataRef.disabled});d.value=K,f.value=P??2,c.value=I.options})},selectOption(E){let O=c.value.find(I=>I.id===E);if(!O)return;let{dataRef:P}=O;k(P.value)},selectActiveOption(){if(M.activeOptionIndex.value!==null){if(M.virtual.value)k(M.virtual.value.options[M.activeOptionIndex.value]);else{let{dataRef:E}=c.value[M.activeOptionIndex.value];k(E.value)}M.goToOption(ze.Specific,M.activeOptionIndex.value)}},registerOption(E,O){let P=ya({id:E,dataRef:O});if(M.virtual.value){c.value.push(P);return}D&&cancelAnimationFrame(D);let I=m(K=>(K.push(P),K));d.value===null&&M.isSelected(O.value.value)&&(I.activeOptionIndex=I.options.indexOf(P)),c.value=I.options,d.value=I.activeOptionIndex,f.value=2,I.options.some(K=>!z(K.dataRef.domRef))&&(D=requestAnimationFrame(()=>{let K=m();c.value=K.options,d.value=K.activeOptionIndex}))},unregisterOption(E,O){if(S!==null&&cancelAnimationFrame(S),O&&(h.value=!0),M.virtual.value){c.value=c.value.filter(I=>I.id!==E);return}let P=m(I=>{let K=I.findIndex(V=>V.id===E);return K!==-1&&I.splice(K,1),I});c.value=P.options,d.value=P.activeOptionIndex,f.value=2},isSelected(E){return Re(g.value,{0:()=>M.compare(qt(M.value.value),qt(E)),1:()=>qt(M.value.value).some(O=>M.compare(qt(O),qt(E)))})},isActive(E){return d.value===M.calculateIndex(E)}};ni([o,i,l],()=>M.closeCombobox(),$(()=>a.value===0)),We(Bc,M),ri($(()=>Re(a.value,{0:Ye.Open,1:Ye.Closed})));let L=$(()=>{var E;return(E=z(o))==null?void 0:E.closest("form")});return Ce(()=>{me([L],()=>{if(!L.value||e.defaultValue===void 0)return;function E(){M.change(e.defaultValue)}return L.value.addEventListener("reset",E),()=>{var O;(O=L.value)==null||O.removeEventListener("reset",E)}},{immediate:!0})}),()=>{var E,O,P;let{name:I,disabled:K,form:V,...Z}=e,se={open:a.value===0,disabled:K,activeIndex:M.activeOptionIndex.value,activeOption:M.activeOptionIndex.value===null?null:M.virtual.value?M.virtual.value.options[(E=M.activeOptionIndex.value)!=null?E:0]:(P=(O=M.options.value[M.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?P:null,value:C.value};return $e(fe,[...I!=null&&C.value!=null?Lc({[I]:C.value}).map(([ve,he])=>$e(Un,tm({features:Pn.Hidden,key:ve,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:V,disabled:K,name:ve,value:he}))):[],Ge({theirProps:{...n,...wa(Z,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:se,slots:t,attrs:n,name:"Combobox"})])}}}),hm=le({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var a;let s=(a=e.id)!=null?a:`headlessui-combobox-button-${Pt()}`,o=$r("ComboboxButton");r({el:o.buttonRef,$el:o.buttonRef});function i(c){o.disabled.value||(o.comboboxState.value===0?o.closeCombobox():(c.preventDefault(),o.openCombobox()),_t(()=>{var d;return(d=z(o.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function l(c){switch(c.key){case Ne.ArrowDown:c.preventDefault(),c.stopPropagation(),o.comboboxState.value===1&&o.openCombobox(),_t(()=>{var d;return(d=o.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case Ne.ArrowUp:c.preventDefault(),c.stopPropagation(),o.comboboxState.value===1&&(o.openCombobox(),_t(()=>{o.value.value||o.goToOption(ze.Last)})),_t(()=>{var d;return(d=o.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case Ne.Escape:if(o.comboboxState.value!==0)return;c.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&c.stopPropagation(),o.closeCombobox(),_t(()=>{var d;return(d=o.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let u=Tc($(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var c,d;let f={open:o.comboboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...h}=e,m={ref:o.buttonRef,id:s,type:u.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(c=z(o.optionsRef))==null?void 0:c.id,"aria-expanded":o.comboboxState.value===0,"aria-labelledby":o.labelRef.value?[(d=z(o.labelRef))==null?void 0:d.id,s].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:l,onClick:i};return Ge({ourProps:m,theirProps:h,slot:f,attrs:t,slots:n,name:"ComboboxButton"})}}}),vm=le({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-combobox-input-${Pt()}`,i=$r("ComboboxInput"),l=$(()=>Yt(z(i.inputRef))),u={value:!1};a({el:i.inputRef,$el:i.inputRef});function c(){i.change(null);let D=z(i.optionsRef);D&&(D.scrollTop=0),i.goToOption(ze.Nothing)}let d=$(()=>{var D;let k=i.value.value;return z(i.inputRef)?typeof e.displayValue<"u"&&k!==void 0?(D=e.displayValue(k))!=null?D:"":typeof k=="string"?k:"":""});Ce(()=>{me([d,i.comboboxState,l],([D,k],[_,M])=>{if(u.value)return;let L=z(i.inputRef);L&&((M===0&&k===1||D!==_)&&(L.value=D),requestAnimationFrame(()=>{var E;if(u.value||!L||((E=l.value)==null?void 0:E.activeElement)!==L)return;let{selectionStart:O,selectionEnd:P}=L;Math.abs((P??0)-(O??0))===0&&O===0&&L.setSelectionRange(L.value.length,L.value.length)}))},{immediate:!0}),me([i.comboboxState],([D],[k])=>{if(D===0&&k===1){if(u.value)return;let _=z(i.inputRef);if(!_)return;let M=_.value,{selectionStart:L,selectionEnd:E,selectionDirection:O}=_;_.value="",_.value=M,O!==null?_.setSelectionRange(L,E,O):_.setSelectionRange(L,E)}})});let f=W(!1);function h(){f.value=!0}function m(){On().nextFrame(()=>{f.value=!1})}let g=Hv();function y(D){switch(u.value=!0,g(()=>{u.value=!1}),D.key){case Ne.Enter:if(u.value=!1,i.comboboxState.value!==0||f.value)return;if(D.preventDefault(),D.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case Ne.ArrowDown:return u.value=!1,D.preventDefault(),D.stopPropagation(),Re(i.comboboxState.value,{0:()=>i.goToOption(ze.Next),1:()=>i.openCombobox()});case Ne.ArrowUp:return u.value=!1,D.preventDefault(),D.stopPropagation(),Re(i.comboboxState.value,{0:()=>i.goToOption(ze.Previous),1:()=>{i.openCombobox(),_t(()=>{i.value.value||i.goToOption(ze.Last)})}});case Ne.Home:if(D.shiftKey)break;return u.value=!1,D.preventDefault(),D.stopPropagation(),i.goToOption(ze.First);case Ne.PageUp:return u.value=!1,D.preventDefault(),D.stopPropagation(),i.goToOption(ze.First);case Ne.End:if(D.shiftKey)break;return u.value=!1,D.preventDefault(),D.stopPropagation(),i.goToOption(ze.Last);case Ne.PageDown:return u.value=!1,D.preventDefault(),D.stopPropagation(),i.goToOption(ze.Last);case Ne.Escape:if(u.value=!1,i.comboboxState.value!==0)return;D.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&D.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&c(),i.closeCombobox();break;case Ne.Tab:if(u.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function x(D){t("change",D),i.nullable.value&&i.mode.value===0&&D.target.value===""&&c(),i.openCombobox()}function w(D){var k,_,M;let L=(k=D.relatedTarget)!=null?k:un.find(E=>E!==D.currentTarget);if(u.value=!1,!((_=z(i.optionsRef))!=null&&_.contains(L))&&!((M=z(i.buttonRef))!=null&&M.contains(L))&&i.comboboxState.value===0)return D.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?c():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function C(D){var k,_,M;let L=(k=D.relatedTarget)!=null?k:un.find(E=>E!==D.currentTarget);(_=z(i.buttonRef))!=null&&_.contains(L)||(M=z(i.optionsRef))!=null&&M.contains(L)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),On().nextFrame(()=>{i.setActivationTrigger(1)}))}let S=$(()=>{var D,k,_,M;return(M=(_=(k=e.defaultValue)!=null?k:i.defaultValue.value!==void 0?(D=e.displayValue)==null?void 0:D.call(e,i.defaultValue.value):null)!=null?_:i.defaultValue.value)!=null?M:""});return()=>{var D,k,_,M,L,E,O;let P={open:i.comboboxState.value===0},{displayValue:I,onChange:K,...V}=e,Z={"aria-controls":(D=i.optionsRef.value)==null?void 0:D.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(k=i.options.value.find(se=>!i.virtual.value.disabled(se.dataRef.value)&&i.compare(se.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:k.id:(_=i.options.value[i.activeOptionIndex.value])==null?void 0:_.id,"aria-labelledby":(E=(M=z(i.labelRef))==null?void 0:M.id)!=null?E:(L=z(i.buttonRef))==null?void 0:L.id,"aria-autocomplete":"list",id:o,onCompositionstart:h,onCompositionend:m,onKeydown:y,onInput:x,onFocus:C,onBlur:w,role:"combobox",type:(O=n.type)!=null?O:"text",tabIndex:0,ref:i.inputRef,defaultValue:S.value,disabled:i.disabled.value===!0?!0:void 0};return Ge({ourProps:Z,theirProps:V,slot:P,attrs:n,slots:r,features:en.RenderStrategy|en.Static,name:"ComboboxInput"})}}}),mm=le({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:r}){let a=$r("ComboboxOptions"),s=`headlessui-combobox-options-${Pt()}`;r({el:a.optionsRef,$el:a.optionsRef}),Ie(()=>{a.optionsPropsRef.value.static=e.static}),Ie(()=>{a.optionsPropsRef.value.hold=e.hold});let o=_a(),i=$(()=>o!==null?(o.value&Ye.Open)===Ye.Open:a.comboboxState.value===0);em({container:$(()=>z(a.optionsRef)),enabled:$(()=>a.comboboxState.value===0),accept(u){return u.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function l(u){u.preventDefault()}return()=>{var u,c,d;let f={open:a.comboboxState.value===0},h={"aria-labelledby":(d=(u=z(a.labelRef))==null?void 0:u.id)!=null?d:(c=z(a.buttonRef))==null?void 0:c.id,id:s,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:l},m=wa(e,["hold"]);return Ge({ourProps:h,theirProps:m,slot:f,attrs:t,slots:a.virtual.value&&a.comboboxState.value===0?{...n,default:()=>[$e(dm,{},n.default)]}:n,features:en.RenderStrategy|en.Static,visible:i.value,name:"ComboboxOptions"})}}}),pm=le({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:t,attrs:n,expose:r}){let a=$r("ComboboxOption"),s=`headlessui-combobox-option-${Pt()}`,o=W(null),i=$(()=>e.disabled);r({el:o,$el:o});let l=$(()=>{var w;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:((w=a.options.value[a.activeOptionIndex.value])==null?void 0:w.id)===s}),u=$(()=>a.isSelected(e.value)),c=Fe(jc,null),d=$(()=>({disabled:e.disabled,value:e.value,domRef:o,order:$(()=>e.order)}));Ce(()=>a.registerOption(s,d)),Ze(()=>a.unregisterOption(s,l.value)),Ie(()=>{let w=z(o);w&&(c==null||c.value.measureElement(w))}),Ie(()=>{a.comboboxState.value===0&&l.value&&(a.virtual.value||a.activationTrigger.value!==0&&_t(()=>{var w,C;return(C=(w=z(o))==null?void 0:w.scrollIntoView)==null?void 0:C.call(w,{block:"nearest"})}))});function f(w){w.preventDefault(),w.button===Nc.Left&&(i.value||(a.selectOption(s),Ec()||requestAnimationFrame(()=>{var C;return(C=z(a.inputRef))==null?void 0:C.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function h(){var w;if(e.disabled||(w=a.virtual.value)!=null&&w.disabled(e.value))return a.goToOption(ze.Nothing);let C=a.calculateIndex(e.value);a.goToOption(ze.Specific,C)}let m=Qv();function g(w){m.update(w)}function y(w){var C;if(!m.wasMoved(w)||e.disabled||(C=a.virtual.value)!=null&&C.disabled(e.value)||l.value)return;let S=a.calculateIndex(e.value);a.goToOption(ze.Specific,S,0)}function x(w){var C;m.wasMoved(w)&&(e.disabled||(C=a.virtual.value)!=null&&C.disabled(e.value)||l.value&&(a.optionsPropsRef.value.hold||a.goToOption(ze.Nothing)))}return()=>{let{disabled:w}=e,C={active:l.value,selected:u.value,disabled:w},S={id:s,ref:o,role:"option",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onMousedown:f,onFocus:h,onPointerenter:g,onMouseenter:g,onPointermove:y,onMousemove:y,onPointerleave:x,onMouseleave:x},D=wa(e,["order","value"]);return Ge({ourProps:S,theirProps:D,slot:C,attrs:n,slots:t,name:"ComboboxOption"})}}});function ai(e,t,n,r){ba.isServer||Ie(a=>{e=e??window,e.addEventListener(t,n,r),a(()=>e.removeEventListener(t,n,r))})}var $t=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))($t||{});function si(){let e=W(0);return Ac("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Hc(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let r=z(n);r instanceof HTMLElement&&t.add(r)}return t}var Vc=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Vc||{});let Nr=Object.assign(le({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:W(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let a=W(null);r({el:a,$el:a});let s=$(()=>Yt(a)),o=W(!1);Ce(()=>o.value=!0),Ze(()=>o.value=!1),ym({ownerDocument:s},$(()=>o.value&&!!(e.features&16)));let i=bm({ownerDocument:s,container:a,initialFocus:$(()=>e.initialFocus)},$(()=>o.value&&!!(e.features&2)));wm({ownerDocument:s,container:a,containers:e.containers,previousActiveElement:i},$(()=>o.value&&!!(e.features&8)));let l=si();function u(h){let m=z(a);m&&(g=>g())(()=>{Re(l.value,{[$t.Forwards]:()=>{Rt(m,Je.First,{skipElements:[h.relatedTarget]})},[$t.Backwards]:()=>{Rt(m,Je.Last,{skipElements:[h.relatedTarget]})}})})}let c=W(!1);function d(h){h.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function f(h){if(!o.value)return;let m=Hc(e.containers);z(a)instanceof HTMLElement&&m.add(z(a));let g=h.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(Uc(m,g)||(c.value?Rt(z(a),Re(l.value,{[$t.Forwards]:()=>Je.Next,[$t.Backwards]:()=>Je.Previous})|Je.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Hn(h.target)))}return()=>{let h={},m={ref:a,onKeydown:d,onFocusout:f},{features:g,initialFocus:y,containers:x,...w}=e;return $e(fe,[!!(g&4)&&$e(Un,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Pn.Focusable}),Ge({ourProps:m,theirProps:{...t,...w},slot:h,attrs:t,slots:n,name:"FocusTrap"}),!!(g&4)&&$e(Un,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Pn.Focusable})])}}}),{features:Vc});function gm(e){let t=W(un.slice());return me([e],([n],[r])=>{r===!0&&n===!1?Qo(()=>{t.value.splice(0)}):r===!1&&n===!0&&(t.value=un.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function ym({ownerDocument:e},t){let n=gm(t);Ce(()=>{Ie(()=>{var r,a;t.value||((r=e.value)==null?void 0:r.activeElement)===((a=e.value)==null?void 0:a.body)&&Hn(n())},{flush:"post"})}),Ze(()=>{t.value&&Hn(n())})}function bm({ownerDocument:e,container:t,initialFocus:n},r){let a=W(null),s=W(!1);return Ce(()=>s.value=!0),Ze(()=>s.value=!1),Ce(()=>{me([t,n,r],(o,i)=>{if(o.every((u,c)=>(i==null?void 0:i[c])===u)||!r.value)return;let l=z(t);l&&Qo(()=>{var u,c;if(!s.value)return;let d=z(n),f=(u=e.value)==null?void 0:u.activeElement;if(d){if(d===f){a.value=f;return}}else if(l.contains(f)){a.value=f;return}d?Hn(d):Rt(l,Je.First|Je.NoScroll)===oa.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.value=(c=e.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),a}function wm({ownerDocument:e,container:t,containers:n,previousActiveElement:r},a){var s;ai((s=e.value)==null?void 0:s.defaultView,"focus",o=>{if(!a.value)return;let i=Hc(n);z(t)instanceof HTMLElement&&i.add(z(t));let l=r.value;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?Uc(i,u)?(r.value=u,Hn(u)):(o.preventDefault(),o.stopPropagation(),Hn(l)):Hn(r.value)},!0)}function Uc(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function _m(e){let t=wc(e.getSnapshot());return Ze(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function $m(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...s){let o=t[a].call(n,...s);o&&(n=o,r.forEach(i=>i()))}}}function Dm(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,a=r.clientWidth-r.offsetWidth,s=e-a;n.style(r,"paddingRight",`${s}px`)}}}function Sm(){return kc()?{before({doc:e,d:t,meta:n}){function r(a){return n.containers.flatMap(s=>s()).some(s=>s.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=On();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let l=i.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!r(c)&&(o=c)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let l=i.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement){if(i.target.tagName==="INPUT")return;if(r(i.target)){let l=i.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let l=(i=window.scrollY)!=null?i:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function xm(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Om(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Wn=$m(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:On(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Om(n)},a=[Sm(),Dm(),xm()];a.forEach(({before:s})=>s==null?void 0:s(r)),a.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Wn.subscribe(()=>{let e=Wn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&Wn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Wn.dispatch("TEARDOWN",n)}});function Pm(e,t,n){let r=_m(Wn),a=$(()=>{let s=e.value?r.value.get(e.value):void 0;return s?s.count>0:!1});return me([e,t],([s,o],[i],l)=>{if(!s||!o)return;Wn.dispatch("PUSH",s,n);let u=!1;l(()=>{u||(Wn.dispatch("POP",i??s,n),u=!0)})},{immediate:!0}),a}let Ks=new Map,Lr=new Map;function $l(e,t=W(!0)){Ie(n=>{var r;if(!t.value)return;let a=z(e);if(!a)return;n(function(){var o;if(!a)return;let i=(o=Lr.get(a))!=null?o:1;if(i===1?Lr.delete(a):Lr.set(a,i-1),i!==1)return;let l=Ks.get(a);l&&(l["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",l["aria-hidden"]),a.inert=l.inert,Ks.delete(a))});let s=(r=Lr.get(a))!=null?r:0;Lr.set(a,s+1),s===0&&(Ks.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0)})}function zc({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=W(null),a=Yt(r);function s(){var o,i,l;let u=[];for(let c of e)c!==null&&(c instanceof HTMLElement?u.push(c):"value"in c&&c.value instanceof HTMLElement&&u.push(c.value));if(t!=null&&t.value)for(let c of t.value)u.push(c);for(let c of(o=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(z(r))||c.contains((l=(i=z(r))==null?void 0:i.getRootNode())==null?void 0:l.host)||u.some(d=>c.contains(d))||u.push(c));return u}return{resolveContainers:s,contains(o){return s().some(i=>i.contains(o))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:$e(Un,{features:Pn.Hidden,ref:r})}}}let qc=Symbol("ForcePortalRootContext");function Cm(){return Fe(qc,!1)}let Dl=le({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return We(qc,e.force),()=>{let{force:r,...a}=e;return Ge({theirProps:a,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}}),Gc=Symbol("StackContext");var $o=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))($o||{});function Mm(){return Fe(Gc,()=>{})}function km({type:e,enabled:t,element:n,onUpdate:r}){let a=Mm();function s(...o){r==null||r(...o),a(...o)}Ce(()=>{me(t,(o,i)=>{o?s(0,e,n):i===!0&&s(1,e,n)},{immediate:!0,flush:"sync"})}),Ze(()=>{t.value&&s(1,e,n)}),We(Gc,s)}let Em=Symbol("DescriptionContext");function Am({slot:e=W({}),name:t="Description",props:n={}}={}){let r=W([]);function a(s){return r.value.push(s),()=>{let o=r.value.indexOf(s);o!==-1&&r.value.splice(o,1)}}return We(Em,{register:a,slot:e,name:t,props:n}),$(()=>r.value.length>0?r.value.join(" "):void 0)}function Tm(e){let t=Yt(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}const Do=new WeakMap;function Im(e){var t;return(t=Do.get(e))!=null?t:0}function Sl(e,t){let n=t(Im(e));return n<=0?Do.delete(e):Do.set(e,n),n}let Rm=le({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=W(null),a=$(()=>Yt(r)),s=Cm(),o=Fe(Xc,null),i=W(s===!0||o==null?Tm(r.value):o.resolveTarget());i.value&&Sl(i.value,f=>f+1);let l=W(!1);Ce(()=>{l.value=!0}),Ie(()=>{s||o!=null&&(i.value=o.resolveTarget())});let u=Fe(So,null),c=!1,d=bv();return me(r,()=>{if(c||!u)return;let f=z(r);f&&(Ze(u.register(f),d),c=!0)}),Ze(()=>{var f,h;let m=(f=a.value)==null?void 0:f.getElementById("headlessui-portal-root");!m||i.value!==m||Sl(i.value,g=>g-1)||i.value.children.length>0||(h=i.value.parentElement)==null||h.removeChild(i.value)}),()=>{if(!l.value||i.value===null)return null;let f={ref:r,"data-headlessui-portal":""};return $e(wv,{to:i.value},Ge({ourProps:f,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),So=Symbol("PortalParentContext");function Kc(){let e=Fe(So,null),t=W([]);function n(s){return t.value.push(s),e&&e.register(s),()=>r(s)}function r(s){let o=t.value.indexOf(s);o!==-1&&t.value.splice(o,1),e&&e.unregister(s)}let a={register:n,unregister:r,portals:t};return[t,le({name:"PortalWrapper",setup(s,{slots:o}){return We(So,a),()=>{var i;return(i=o.default)==null?void 0:i.call(o)}}})]}let Xc=Symbol("PortalGroupContext"),Fm=le({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=ya({resolveTarget(){return e.target}});return We(Xc,r),()=>{let{target:a,...s}=e;return Ge({theirProps:s,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}});var Nm=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Nm||{});let xo=Symbol("DialogContext");function Jc(e){let t=Fe(xo,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jc),n}return t}let Fa="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Lm=le({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Fa},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){var s,o;let i=(s=e.id)!=null?s:`headlessui-dialog-${Pt()}`,l=W(!1);Ce(()=>{l.value=!0});let u=!1,c=$(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(u||(u=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=W(0),f=_a(),h=$(()=>e.open===Fa&&f!==null?(f.value&Ye.Open)===Ye.Open:e.open),m=W(null),g=$(()=>Yt(m));if(a({el:m,$el:m}),!(e.open!==Fa||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Fa?void 0:e.open}`);let y=$(()=>l.value&&h.value?0:1),x=$(()=>y.value===0),w=$(()=>d.value>1),C=Fe(xo,null)!==null,[S,D]=Kc(),{resolveContainers:k,mainTreeNodeRef:_,MainTreeNode:M}=zc({portals:S,defaultContainers:[$(()=>{var J;return(J=se.panelRef.value)!=null?J:m.value})]}),L=$(()=>w.value?"parent":"leaf"),E=$(()=>f!==null?(f.value&Ye.Closing)===Ye.Closing:!1),O=$(()=>C||E.value?!1:x.value),P=$(()=>{var J,F,ae;return(ae=Array.from((F=(J=g.value)==null?void 0:J.querySelectorAll("body > *"))!=null?F:[]).find(R=>R.id==="headlessui-portal-root"?!1:R.contains(z(_))&&R instanceof HTMLElement))!=null?ae:null});$l(P,O);let I=$(()=>w.value?!0:x.value),K=$(()=>{var J,F,ae;return(ae=Array.from((F=(J=g.value)==null?void 0:J.querySelectorAll("[data-headlessui-portal]"))!=null?F:[]).find(R=>R.contains(z(_))&&R instanceof HTMLElement))!=null?ae:null});$l(K,I),km({type:"Dialog",enabled:$(()=>y.value===0),element:m,onUpdate:(J,F)=>{if(F==="Dialog")return Re(J,{[$o.Add]:()=>d.value+=1,[$o.Remove]:()=>d.value-=1})}});let V=Am({name:"DialogDescription",slot:$(()=>({open:h.value}))}),Z=W(null),se={titleId:Z,panelRef:W(null),dialogState:y,setTitleId(J){Z.value!==J&&(Z.value=J)},close(){t("close",!1)}};We(xo,se);let ve=$(()=>!(!x.value||w.value));ni(k,(J,F)=>{J.preventDefault(),se.close(),_t(()=>F==null?void 0:F.focus())},ve);let he=$(()=>!(w.value||y.value!==0));ai((o=g.value)==null?void 0:o.defaultView,"keydown",J=>{he.value&&(J.defaultPrevented||J.key===Ne.Escape&&(J.preventDefault(),J.stopPropagation(),se.close()))});let B=$(()=>!(E.value||y.value!==0||C));return Pm(g,B,J=>{var F;return{containers:[...(F=J.containers)!=null?F:[],k]}}),Ie(J=>{if(y.value!==0)return;let F=z(m);if(!F)return;let ae=new ResizeObserver(R=>{for(let p of R){let X=p.target.getBoundingClientRect();X.x===0&&X.y===0&&X.width===0&&X.height===0&&se.close()}});ae.observe(F),J(()=>ae.disconnect())}),()=>{let{open:J,initialFocus:F,...ae}=e,R={...n,ref:m,id:i,role:c.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":Z.value,"aria-describedby":V.value},p={open:y.value===0};return $e(Dl,{force:!0},()=>[$e(Rm,()=>$e(Fm,{target:m.value},()=>$e(Dl,{force:!1},()=>$e(Nr,{initialFocus:F,containers:k,features:x.value?Re(L.value,{parent:Nr.features.RestoreFocus,leaf:Nr.features.All&~Nr.features.FocusLock}):Nr.features.None},()=>$e(D,{},()=>Ge({ourProps:R,theirProps:{...ae,...n},slot:p,attrs:n,slots:r,visible:y.value===0,features:en.RenderStrategy|en.Static,name:"Dialog"})))))),$e(M)])}}}),Ym=le({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var a;let s=(a=e.id)!=null?a:`headlessui-dialog-panel-${Pt()}`,o=Jc("DialogPanel");r({el:o.panelRef,$el:o.panelRef});function i(l){l.stopPropagation()}return()=>{let{...l}=e,u={id:s,ref:o.panelRef,onClick:i};return Ge({ourProps:u,theirProps:l,slot:{open:o.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});var Wm=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wm||{});let Zc=Symbol("PopoverContext");function oi(e){let t=Fe(Zc,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <${td.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,oi),n}return t}let Bm=Symbol("PopoverGroupContext");function Qc(){return Fe(Bm,null)}let ed=Symbol("PopoverPanelContext");function jm(){return Fe(ed,null)}let td=le({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n,expose:r}){var a;let s=W(null);r({el:s,$el:s});let o=W(1),i=W(null),l=W(null),u=W(null),c=W(null),d=$(()=>Yt(s)),f=$(()=>{var D,k;if(!z(i)||!z(c))return!1;for(let I of document.querySelectorAll("body > *"))if(Number(I==null?void 0:I.contains(z(i)))^Number(I==null?void 0:I.contains(z(c))))return!0;let _=Ds(),M=_.indexOf(z(i)),L=(M+_.length-1)%_.length,E=(M+1)%_.length,O=_[L],P=_[E];return!((D=z(c))!=null&&D.contains(O))&&!((k=z(c))!=null&&k.contains(P))}),h={popoverState:o,buttonId:W(null),panelId:W(null),panel:c,button:i,isPortalled:f,beforePanelSentinel:l,afterPanelSentinel:u,togglePopover(){o.value=Re(o.value,{0:1,1:0})},closePopover(){o.value!==1&&(o.value=1)},close(D){h.closePopover();let k=D?D instanceof HTMLElement?D:D.value instanceof HTMLElement?z(D):z(h.button):z(h.button);k==null||k.focus()}};We(Zc,h),ri($(()=>Re(o.value,{0:Ye.Open,1:Ye.Closed})));let m={buttonId:h.buttonId,panelId:h.panelId,close(){h.closePopover()}},g=Qc(),y=g==null?void 0:g.registerPopover,[x,w]=Kc(),C=zc({mainTreeNodeRef:g==null?void 0:g.mainTreeNodeRef,portals:x,defaultContainers:[i,c]});function S(){var D,k,_,M;return(M=g==null?void 0:g.isFocusWithinPopoverGroup())!=null?M:((D=d.value)==null?void 0:D.activeElement)&&(((k=z(i))==null?void 0:k.contains(d.value.activeElement))||((_=z(c))==null?void 0:_.contains(d.value.activeElement)))}return Ie(()=>y==null?void 0:y(m)),ai((a=d.value)==null?void 0:a.defaultView,"focus",D=>{var k,_;D.target!==window&&D.target instanceof HTMLElement&&o.value===0&&(S()||i&&c&&(C.contains(D.target)||(k=z(h.beforePanelSentinel))!=null&&k.contains(D.target)||(_=z(h.afterPanelSentinel))!=null&&_.contains(D.target)||h.closePopover()))},!0),ni(C.resolveContainers,(D,k)=>{var _;h.closePopover(),Cc(k,ti.Loose)||(D.preventDefault(),(_=z(i))==null||_.focus())},$(()=>o.value===0)),()=>{let D={open:o.value===0,close:h.close};return $e(fe,[$e(w,{},()=>Ge({theirProps:{...e,...n},ourProps:{ref:s},slot:D,slots:t,attrs:n,name:"Popover"})),$e(C.MainTreeNode)])}}}),Hm=le({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){var a;let s=(a=e.id)!=null?a:`headlessui-popover-button-${Pt()}`,o=oi("PopoverButton"),i=$(()=>Yt(o.button));r({el:o.button,$el:o.button}),Ce(()=>{o.buttonId.value=s}),Ze(()=>{o.buttonId.value=null});let l=Qc(),u=l==null?void 0:l.closeOthers,c=jm(),d=$(()=>c===null?!1:c.value===o.panelId.value),f=W(null),h=`headlessui-focus-sentinel-${Pt()}`;d.value||Ie(()=>{o.button.value=z(f)});let m=Tc($(()=>({as:e.as,type:t.type})),f);function g(D){var k,_,M,L,E;if(d.value){if(o.popoverState.value===1)return;switch(D.key){case Ne.Space:case Ne.Enter:D.preventDefault(),(_=(k=D.target).click)==null||_.call(k),o.closePopover(),(M=z(o.button))==null||M.focus();break}}else switch(D.key){case Ne.Space:case Ne.Enter:D.preventDefault(),D.stopPropagation(),o.popoverState.value===1&&(u==null||u(o.buttonId.value)),o.togglePopover();break;case Ne.Escape:if(o.popoverState.value!==0)return u==null?void 0:u(o.buttonId.value);if(!z(o.button)||(L=i.value)!=null&&L.activeElement&&!((E=z(o.button))!=null&&E.contains(i.value.activeElement)))return;D.preventDefault(),D.stopPropagation(),o.closePopover();break}}function y(D){d.value||D.key===Ne.Space&&D.preventDefault()}function x(D){var k,_;e.disabled||(d.value?(o.closePopover(),(k=z(o.button))==null||k.focus()):(D.preventDefault(),D.stopPropagation(),o.popoverState.value===1&&(u==null||u(o.buttonId.value)),o.togglePopover(),(_=z(o.button))==null||_.focus()))}function w(D){D.preventDefault(),D.stopPropagation()}let C=si();function S(){let D=z(o.panel);if(!D)return;function k(){Re(C.value,{[$t.Forwards]:()=>Rt(D,Je.First),[$t.Backwards]:()=>Rt(D,Je.Last)})===oa.Error&&Rt(Ds().filter(_=>_.dataset.headlessuiFocusGuard!=="true"),Re(C.value,{[$t.Forwards]:Je.Next,[$t.Backwards]:Je.Previous}),{relativeTo:z(o.button)})}k()}return()=>{let D=o.popoverState.value===0,k={open:D},{..._}=e,M=d.value?{ref:f,type:m.value,onKeydown:g,onClick:x}:{ref:f,id:s,type:m.value,"aria-expanded":o.popoverState.value===0,"aria-controls":z(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:g,onKeyup:y,onClick:x,onMousedown:w};return $e(fe,[Ge({ourProps:M,theirProps:{...t,..._},slot:k,attrs:t,slots:n,name:"PopoverButton"}),D&&!d.value&&o.isPortalled.value&&$e(Un,{id:h,features:Pn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S})])}}}),Vm=le({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){var a;let s=(a=e.id)!=null?a:`headlessui-popover-panel-${Pt()}`,{focus:o}=e,i=oi("PopoverPanel"),l=$(()=>Yt(i.panel)),u=`headlessui-focus-sentinel-before-${Pt()}`,c=`headlessui-focus-sentinel-after-${Pt()}`;r({el:i.panel,$el:i.panel}),Ce(()=>{i.panelId.value=s}),Ze(()=>{i.panelId.value=null}),We(ed,i.panelId),Ie(()=>{var w,C;if(!o||i.popoverState.value!==0||!i.panel)return;let S=(w=l.value)==null?void 0:w.activeElement;(C=z(i.panel))!=null&&C.contains(S)||Rt(z(i.panel),Je.First)});let d=_a(),f=$(()=>d!==null?(d.value&Ye.Open)===Ye.Open:i.popoverState.value===0);function h(w){var C,S;switch(w.key){case Ne.Escape:if(i.popoverState.value!==0||!z(i.panel)||l.value&&!((C=z(i.panel))!=null&&C.contains(l.value.activeElement)))return;w.preventDefault(),w.stopPropagation(),i.closePopover(),(S=z(i.button))==null||S.focus();break}}function m(w){var C,S,D,k,_;let M=w.relatedTarget;M&&z(i.panel)&&((C=z(i.panel))!=null&&C.contains(M)||(i.closePopover(),((D=(S=z(i.beforePanelSentinel))==null?void 0:S.contains)!=null&&D.call(S,M)||(_=(k=z(i.afterPanelSentinel))==null?void 0:k.contains)!=null&&_.call(k,M))&&M.focus({preventScroll:!0})))}let g=si();function y(){let w=z(i.panel);if(!w)return;function C(){Re(g.value,{[$t.Forwards]:()=>{var S;Rt(w,Je.First)===oa.Error&&((S=z(i.afterPanelSentinel))==null||S.focus())},[$t.Backwards]:()=>{var S;(S=z(i.button))==null||S.focus({preventScroll:!0})}})}C()}function x(){let w=z(i.panel);if(!w)return;function C(){Re(g.value,{[$t.Forwards]:()=>{let S=z(i.button),D=z(i.panel);if(!S)return;let k=Ds(),_=k.indexOf(S),M=k.slice(0,_+1),L=[...k.slice(_+1),...M];for(let E of L.slice())if(E.dataset.headlessuiFocusGuard==="true"||D!=null&&D.contains(E)){let O=L.indexOf(E);O!==-1&&L.splice(O,1)}Rt(L,Je.First,{sorted:!1})},[$t.Backwards]:()=>{var S;Rt(w,Je.Previous)===oa.Error&&((S=z(i.button))==null||S.focus())}})}C()}return()=>{let w={open:i.popoverState.value===0,close:i.close},{focus:C,...S}=e,D={ref:i.panel,id:s,onKeydown:h,onFocusout:o&&i.popoverState.value===0?m:void 0,tabIndex:-1};return Ge({ourProps:D,theirProps:{...t,...S},attrs:t,slot:w,slots:{...n,default:(...k)=>{var _;return[$e(fe,[f.value&&i.isPortalled.value&&$e(Un,{id:u,ref:i.beforePanelSentinel,features:Pn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:y}),(_=n.default)==null?void 0:_.call(n,...k),f.value&&i.isPortalled.value&&$e(Un,{id:c,ref:i.afterPanelSentinel,features:Pn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x})])]}},features:en.RenderStrategy|en.Static,visible:f.value,name:"PopoverPanel"})}}});function Um(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Xs(e,...t){e&&t.length>0&&e.classList.add(...t)}function Na(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Oo=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Oo||{});function zm(e,t){let n=On();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:a}=getComputedStyle(e),[s,o]=[r,a].map(i=>{let[l=0]=i.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return l});return s!==0?n.setTimeout(()=>t("finished"),s+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function xl(e,t,n,r,a,s){let o=On(),i=s!==void 0?Um(s):()=>{};return Na(e,...a),Xs(e,...t,...n),o.nextFrame(()=>{Na(e,...n),Xs(e,...r),o.add(zm(e,l=>(Na(e,...r,...t),Xs(e,...a),i(l))))}),o.add(()=>Na(e,...t,...n,...r,...a)),o.add(()=>i("cancelled")),o.dispose}function Rn(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ii=Symbol("TransitionContext");var qm=(e=>(e.Visible="visible",e.Hidden="hidden",e))(qm||{});function Gm(){return Fe(ii,null)!==null}function Km(){let e=Fe(ii,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Xm(){let e=Fe(li,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let li=Symbol("NestingContext");function Ss(e){return"children"in e?Ss(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function nd(e){let t=W([]),n=W(!1);Ce(()=>n.value=!0),Ze(()=>n.value=!1);function r(s,o=xn.Hidden){let i=t.value.findIndex(({id:l})=>l===s);i!==-1&&(Re(o,{[xn.Unmount](){t.value.splice(i,1)},[xn.Hidden](){t.value[i].state="hidden"}}),!Ss(t)&&n.value&&(e==null||e()))}function a(s){let o=t.value.find(({id:i})=>i===s);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:s,state:"visible"}),()=>r(s,xn.Unmount)}return{children:t,register:a,unregister:r}}let rd=en.RenderStrategy,ad=le({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){let s=W(0);function o(){s.value|=Ye.Opening,t("beforeEnter")}function i(){s.value&=~Ye.Opening,t("afterEnter")}function l(){s.value|=Ye.Closing,t("beforeLeave")}function u(){s.value&=~Ye.Closing,t("afterLeave")}if(!Gm()&&rm())return()=>$e(sd,{...e,onBeforeEnter:o,onAfterEnter:i,onBeforeLeave:l,onAfterLeave:u},r);let c=W(null),d=$(()=>e.unmount?xn.Unmount:xn.Hidden);a({el:c,$el:c});let{show:f,appear:h}=Km(),{register:m,unregister:g}=Xm(),y=W(f.value?"visible":"hidden"),x={value:!0},w=Pt(),C={value:!1},S=nd(()=>{!C.value&&y.value!=="hidden"&&(y.value="hidden",g(w),u())});Ce(()=>{let I=m(w);Ze(I)}),Ie(()=>{if(d.value===xn.Hidden&&w){if(f.value&&y.value!=="visible"){y.value="visible";return}Re(y.value,{hidden:()=>g(w),visible:()=>m(w)})}});let D=Rn(e.enter),k=Rn(e.enterFrom),_=Rn(e.enterTo),M=Rn(e.entered),L=Rn(e.leave),E=Rn(e.leaveFrom),O=Rn(e.leaveTo);Ce(()=>{Ie(()=>{if(y.value==="visible"){let I=z(c);if(I instanceof Comment&&I.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function P(I){let K=x.value&&!h.value,V=z(c);!V||!(V instanceof HTMLElement)||K||(C.value=!0,f.value&&o(),f.value||l(),I(f.value?xl(V,D,k,_,M,Z=>{C.value=!1,Z===Oo.Finished&&i()}):xl(V,L,E,O,M,Z=>{C.value=!1,Z===Oo.Finished&&(Ss(S)||(y.value="hidden",g(w),u()))})))}return Ce(()=>{me([f],(I,K,V)=>{P(V),x.value=!1},{immediate:!0})}),We(li,S),ri($(()=>Re(y.value,{visible:Ye.Open,hidden:Ye.Closed})|s.value)),()=>{let{appear:I,show:K,enter:V,enterFrom:Z,enterTo:se,entered:ve,leave:he,leaveFrom:B,leaveTo:J,...F}=e,ae={ref:c},R={...F,...h.value&&f.value&&ba.isServer?{class:ne([n.class,F.class,...D,...k])}:{}};return Ge({theirProps:R,ourProps:ae,slot:{},slots:r,attrs:n,features:rd,visible:y.value==="visible",name:"TransitionChild"})}}}),Jm=ad,sd=le({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let a=_a(),s=$(()=>e.show===null&&a!==null?(a.value&Ye.Open)===Ye.Open:e.show);Ie(()=>{if(![!0,!1].includes(s.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=W(s.value?"visible":"hidden"),i=nd(()=>{o.value="hidden"}),l=W(!0),u={show:s,appear:$(()=>e.appear||!l.value)};return Ce(()=>{Ie(()=>{l.value=!1,s.value?o.value="visible":Ss(i)||(o.value="hidden")})}),We(li,i),We(ii,u),()=>{let c=wa(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:e.unmount};return Ge({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[$e(Jm,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...d,...c},r.default)]},attrs:{},features:rd,visible:o.value==="visible",name:"Transition"})}}});function Dt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zn(e){var t=Dt(e).Element;return e instanceof t||e instanceof Element}function Ct(e){var t=Dt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ui(e){if(typeof ShadowRoot>"u")return!1;var t=Dt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Vn=Math.max,os=Math.min,mr=Math.round;function Po(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function od(){return!/^((?!chrome|android).)*safari/i.test(Po())}function pr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&Ct(e)&&(a=e.offsetWidth>0&&mr(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&mr(r.height)/e.offsetHeight||1);var o=zn(e)?Dt(e):window,i=o.visualViewport,l=!od()&&n,u=(r.left+(l&&i?i.offsetLeft:0))/a,c=(r.top+(l&&i?i.offsetTop:0))/s,d=r.width/a,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function ci(e){var t=Dt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Zm(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Qm(e){return e===Dt(e)||!Ct(e)?ci(e):Zm(e)}function tn(e){return e?(e.nodeName||"").toLowerCase():null}function kn(e){return((zn(e)?e.ownerDocument:e.document)||window.document).documentElement}function di(e){return pr(kn(e)).left+ci(e).scrollLeft}function dn(e){return Dt(e).getComputedStyle(e)}function fi(e){var t=dn(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function ep(e){var t=e.getBoundingClientRect(),n=mr(t.width)/e.offsetWidth||1,r=mr(t.height)/e.offsetHeight||1;return n!==1||r!==1}function tp(e,t,n){n===void 0&&(n=!1);var r=Ct(t),a=Ct(t)&&ep(t),s=kn(t),o=pr(e,a,n),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((tn(t)!=="body"||fi(s))&&(i=Qm(t)),Ct(t)?(l=pr(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=di(s))),{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function hi(e){var t=pr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function xs(e){return tn(e)==="html"?e:e.assignedSlot||e.parentNode||(ui(e)?e.host:null)||kn(e)}function id(e){return["html","body","#document"].indexOf(tn(e))>=0?e.ownerDocument.body:Ct(e)&&fi(e)?e:id(xs(e))}function ea(e,t){var n;t===void 0&&(t=[]);var r=id(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),s=Dt(r),o=a?[s].concat(s.visualViewport||[],fi(r)?r:[]):r,i=t.concat(o);return a?i:i.concat(ea(xs(o)))}function np(e){return["table","td","th"].indexOf(tn(e))>=0}function Ol(e){return!Ct(e)||dn(e).position==="fixed"?null:e.offsetParent}function rp(e){var t=/firefox/i.test(Po()),n=/Trident/i.test(Po());if(n&&Ct(e)){var r=dn(e);if(r.position==="fixed")return null}var a=xs(e);for(ui(a)&&(a=a.host);Ct(a)&&["html","body"].indexOf(tn(a))<0;){var s=dn(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function $a(e){for(var t=Dt(e),n=Ol(e);n&&np(n)&&dn(n).position==="static";)n=Ol(n);return n&&(tn(n)==="html"||tn(n)==="body"&&dn(n).position==="static")?t:n||rp(e)||t}var mt="top",kt="bottom",Et="right",pt="left",vi="auto",Da=[mt,kt,Et,pt],gr="start",ia="end",ap="clippingParents",ld="viewport",Yr="popper",sp="reference",Pl=Da.reduce(function(e,t){return e.concat([t+"-"+gr,t+"-"+ia])},[]),ud=[].concat(Da,[vi]).reduce(function(e,t){return e.concat([t,t+"-"+gr,t+"-"+ia])},[]),op="beforeRead",ip="read",lp="afterRead",up="beforeMain",cp="main",dp="afterMain",fp="beforeWrite",hp="write",vp="afterWrite",mp=[op,ip,lp,up,cp,dp,fp,hp,vp];function pp(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function a(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(i){if(!n.has(i)){var l=t.get(i);l&&a(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||a(s)}),r}function gp(e){var t=pp(e);return mp.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function yp(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function bp(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function wp(e,t){var n=Dt(e),r=kn(e),a=n.visualViewport,s=r.clientWidth,o=r.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;var u=od();(u||!u&&t==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i+di(e),y:l}}function _p(e){var t,n=kn(e),r=ci(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=Vn(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Vn(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-r.scrollLeft+di(e),l=-r.scrollTop;return dn(a||n).direction==="rtl"&&(i+=Vn(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:i,y:l}}function cd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ui(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Co(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $p(e,t){var n=pr(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Cl(e,t,n){return t===ld?Co(wp(e,n)):zn(t)?$p(t,n):Co(_p(kn(e)))}function Dp(e){var t=ea(xs(e)),n=["absolute","fixed"].indexOf(dn(e).position)>=0,r=n&&Ct(e)?$a(e):e;return zn(r)?t.filter(function(a){return zn(a)&&cd(a,r)&&tn(a)!=="body"}):[]}function Sp(e,t,n,r){var a=t==="clippingParents"?Dp(e):[].concat(t),s=[].concat(a,[n]),o=s[0],i=s.reduce(function(l,u){var c=Cl(e,u,r);return l.top=Vn(c.top,l.top),l.right=os(c.right,l.right),l.bottom=os(c.bottom,l.bottom),l.left=Vn(c.left,l.left),l},Cl(e,o,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Qt(e){return e.split("-")[0]}function yr(e){return e.split("-")[1]}function mi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dd(e){var t=e.reference,n=e.element,r=e.placement,a=r?Qt(r):null,s=r?yr(r):null,o=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,l;switch(a){case mt:l={x:o,y:t.y-n.height};break;case kt:l={x:o,y:t.y+t.height};break;case Et:l={x:t.x+t.width,y:i};break;case pt:l={x:t.x-n.width,y:i};break;default:l={x:t.x,y:t.y}}var u=a?mi(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case gr:l[u]=l[u]-(t[c]/2-n[c]/2);break;case ia:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function fd(){return{top:0,right:0,bottom:0,left:0}}function hd(e){return Object.assign({},fd(),e)}function vd(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function la(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,i=n.boundary,l=i===void 0?ap:i,u=n.rootBoundary,c=u===void 0?ld:u,d=n.elementContext,f=d===void 0?Yr:d,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,x=hd(typeof y!="number"?y:vd(y,Da)),w=f===Yr?sp:Yr,C=e.rects.popper,S=e.elements[m?w:f],D=Sp(zn(S)?S:S.contextElement||kn(e.elements.popper),l,c,o),k=pr(e.elements.reference),_=dd({reference:k,element:C,placement:a}),M=Co(Object.assign({},C,_)),L=f===Yr?M:k,E={top:D.top-L.top+x.top,bottom:L.bottom-D.bottom+x.bottom,left:D.left-L.left+x.left,right:L.right-D.right+x.right},O=e.modifiersData.offset;if(f===Yr&&O){var P=O[a];Object.keys(E).forEach(function(I){var K=[Et,kt].indexOf(I)>=0?1:-1,V=[mt,kt].indexOf(I)>=0?"y":"x";E[I]+=P[V]*K})}return E}var Ml={placement:"bottom",modifiers:[],strategy:"absolute"};function kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function md(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,s=a===void 0?Ml:a;return function(i,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ml,s),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(x){var w=typeof x=="function"?x(c.options):x;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:zn(i)?ea(i):i.contextElement?ea(i.contextElement):[],popper:ea(l)};var C=gp(bp([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(S){return S.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var x=c.elements,w=x.reference,C=x.popper;if(kl(w,C)){c.rects={reference:tp(w,$a(C),c.options.strategy==="fixed"),popper:hi(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(E){return c.modifiersData[E.name]=Object.assign({},E.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var D=c.orderedModifiers[S],k=D.fn,_=D.options,M=_===void 0?{}:_,L=D.name;typeof k=="function"&&(c=k({state:c,options:M,name:L,instance:h})||c)}}}},update:yp(function(){return new Promise(function(y){h.forceUpdate(),y(c)})}),destroy:function(){g(),f=!0}};if(!kl(i,l))return h;h.setOptions(u).then(function(y){!f&&u.onFirstUpdate&&u.onFirstUpdate(y)});function m(){c.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,C=w===void 0?{}:w,S=y.effect;if(typeof S=="function"){var D=S({state:c,name:x,instance:h,options:C}),k=function(){};d.push(D||k)}})}function g(){d.forEach(function(y){return y()}),d=[]}return h}}var La={passive:!0};function xp(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=a===void 0?!0:a,o=r.resize,i=o===void 0?!0:o,l=Dt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,La)}),i&&l.addEventListener("resize",n.update,La),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,La)}),i&&l.removeEventListener("resize",n.update,La)}}const pi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xp,data:{}};function Op(e){var t=e.state,n=e.name;t.modifiersData[n]=dd({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const pd={name:"popperOffsets",enabled:!0,phase:"read",fn:Op,data:{}};var Pp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cp(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:mr(n*a)/a||0,y:mr(r*a)/a||0}}function El(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,i=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,g=m===void 0?0:m,y=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=pt,S=mt,D=window;if(u){var k=$a(n),_="clientHeight",M="clientWidth";if(k===Dt(n)&&(k=kn(n),dn(k).position!=="static"&&i==="absolute"&&(_="scrollHeight",M="scrollWidth")),k=k,a===mt||(a===pt||a===Et)&&s===ia){S=kt;var L=d&&k===D&&D.visualViewport?D.visualViewport.height:k[_];g-=L-r.height,g*=l?1:-1}if(a===pt||(a===mt||a===kt)&&s===ia){C=Et;var E=d&&k===D&&D.visualViewport?D.visualViewport.width:k[M];h-=E-r.width,h*=l?1:-1}}var O=Object.assign({position:i},u&&Pp),P=c===!0?Cp({x:h,y:g},Dt(n)):{x:h,y:g};if(h=P.x,g=P.y,l){var I;return Object.assign({},O,(I={},I[S]=w?"0":"",I[C]=x?"0":"",I.transform=(D.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",I))}return Object.assign({},O,(t={},t[S]=w?g+"px":"",t[C]=x?h+"px":"",t.transform="",t))}function Mp(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,i=n.roundOffsets,l=i===void 0?!0:i,u={placement:Qt(t.placement),variation:yr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,El(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,El(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Mp,data:{}};function kp(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},s=t.elements[n];!Ct(s)||!tn(s)||(Object.assign(s.style,r),Object.keys(a).forEach(function(o){var i=a[o];i===!1?s.removeAttribute(o):s.setAttribute(o,i===!0?"":i)}))})}function Ep(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),i=o.reduce(function(l,u){return l[u]="",l},{});!Ct(a)||!tn(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(l){a.removeAttribute(l)}))})}}const gd={name:"applyStyles",enabled:!0,phase:"write",fn:kp,effect:Ep,requires:["computeStyles"]};var Ap=[pi,pd,gi,gd],Tp={left:"right",right:"left",bottom:"top",top:"bottom"};function Ka(e){return e.replace(/left|right|bottom|top/g,function(t){return Tp[t]})}var Ip={start:"end",end:"start"};function Al(e){return e.replace(/start|end/g,function(t){return Ip[t]})}function Rp(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,o=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?ud:l,c=yr(r),d=c?i?Pl:Pl.filter(function(m){return yr(m)===c}):Da,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,g){return m[g]=la(e,{placement:g,boundary:a,rootBoundary:s,padding:o})[Qt(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function Fp(e){if(Qt(e)===vi)return[];var t=Ka(e);return[Al(e),t,Al(t)]}function Np(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,i=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,y=t.options.placement,x=Qt(y),w=x===y,C=l||(w||!m?[Ka(y)]:Fp(y)),S=[y].concat(C).reduce(function(R,p){return R.concat(Qt(p)===vi?Rp(t,{placement:p,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):p)},[]),D=t.rects.reference,k=t.rects.popper,_=new Map,M=!0,L=S[0],E=0;E<S.length;E++){var O=S[E],P=Qt(O),I=yr(O)===gr,K=[mt,kt].indexOf(P)>=0,V=K?"width":"height",Z=la(t,{placement:O,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),se=K?I?Et:pt:I?kt:mt;D[V]>k[V]&&(se=Ka(se));var ve=Ka(se),he=[];if(s&&he.push(Z[P]<=0),i&&he.push(Z[se]<=0,Z[ve]<=0),he.every(function(R){return R})){L=O,M=!1;break}_.set(O,he)}if(M)for(var B=m?3:1,J=function(p){var X=S.find(function(Me){var de=_.get(Me);if(de)return de.slice(0,p).every(function(tt){return tt})});if(X)return L=X,"break"},F=B;F>0;F--){var ae=J(F);if(ae==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const yd={name:"flip",enabled:!0,phase:"main",fn:Np,requiresIfExists:["offset"],data:{_skip:!1}};function Lp(e,t,n){var r=Qt(e),a=[pt,mt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],i=s[1];return o=o||0,i=(i||0)*a,[pt,Et].indexOf(r)>=0?{x:i,y:o}:{x:o,y:i}}function Yp(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=a===void 0?[0,0]:a,o=ud.reduce(function(c,d){return c[d]=Lp(d,t.rects,s),c},{}),i=o[t.placement],l=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const bd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yp};function Wp(e){return e==="x"?"y":"x"}function ta(e,t,n){return Vn(e,os(t,n))}function Bp(e,t,n){var r=ta(e,t,n);return r>n?n:r}function jp(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,i=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,y=la(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),x=Qt(t.placement),w=yr(t.placement),C=!w,S=mi(x),D=Wp(S),k=t.modifiersData.popperOffsets,_=t.rects.reference,M=t.rects.popper,L=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,E=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(k){if(s){var I,K=S==="y"?mt:pt,V=S==="y"?kt:Et,Z=S==="y"?"height":"width",se=k[S],ve=se+y[K],he=se-y[V],B=h?-M[Z]/2:0,J=w===gr?_[Z]:M[Z],F=w===gr?-M[Z]:-_[Z],ae=t.elements.arrow,R=h&&ae?hi(ae):{width:0,height:0},p=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fd(),X=p[K],Me=p[V],de=ta(0,_[Z],R[Z]),tt=C?_[Z]/2-B-de-X-E.mainAxis:J-de-X-E.mainAxis,At=C?-_[Z]/2+B+de+Me+E.mainAxis:F+de+Me+E.mainAxis,Oe=t.elements.arrow&&$a(t.elements.arrow),nt=Oe?S==="y"?Oe.clientTop||0:Oe.clientLeft||0:0,lt=(I=O==null?void 0:O[S])!=null?I:0,U=se+tt-lt-nt,Se=se+At-lt,ut=ta(h?os(ve,U):ve,se,h?Vn(he,Se):he);k[S]=ut,P[S]=ut-se}if(i){var Ht,Vt=S==="x"?mt:pt,Ut=S==="x"?kt:Et,ct=k[D],Q=D==="y"?"height":"width",ye=ct+y[Vt],pn=ct-y[Ut],gn=[mt,pt].indexOf(x)!==-1,yn=(Ht=O==null?void 0:O[D])!=null?Ht:0,bn=gn?ye:ct-_[Q]-M[Q]-yn+E.altAxis,Tn=gn?ct+_[Q]+M[Q]-yn-E.altAxis:pn,Jn=h&&gn?Bp(bn,ct,Tn):ta(h?bn:ye,ct,h?Tn:pn);k[D]=Jn,P[D]=Jn-ct}t.modifiersData[r]=P}}const wd={name:"preventOverflow",enabled:!0,phase:"main",fn:jp,requiresIfExists:["offset"]};var Hp=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,hd(typeof t!="number"?t:vd(t,Da))};function Vp(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,i=Qt(n.placement),l=mi(i),u=[pt,Et].indexOf(i)>=0,c=u?"height":"width";if(!(!s||!o)){var d=Hp(a.padding,n),f=hi(s),h=l==="y"?mt:pt,m=l==="y"?kt:Et,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],y=o[l]-n.rects.reference[l],x=$a(s),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,C=g/2-y/2,S=d[h],D=w-f[c]-d[m],k=w/2-f[c]/2+C,_=ta(S,k,D),M=l;n.modifiersData[r]=(t={},t[M]=_,t.centerOffset=_-k,t)}}function Up(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||cd(t.elements.popper,a)&&(t.elements.arrow=a))}const _d={name:"arrow",enabled:!0,phase:"main",fn:Vp,effect:Up,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},zp=md({defaultModifiers:[...Ap,bd,yd,wd,gi,pi,_d]});function $d({locked:e=!1,overflowPadding:t=8,offsetDistance:n=8,offsetSkid:r=0,gpuAcceleration:a=!0,adaptive:s=!0,scroll:o=!0,resize:i=!0,arrow:l=!1,placement:u,strategy:c},d){const f=W(null),h=W(null),m=W(null);return Ce(()=>{Ie(g=>{if(!h.value||!f.value)return;const y=cl(h),x=cl(f);if(!(y instanceof HTMLElement)||!x)return;const w={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:t}},{name:"offset",options:{offset:[r,n]}},{name:"computeStyles",options:{adaptive:s,gpuAcceleration:a}},{name:"eventListeners",options:{scroll:o,resize:i}},{name:"arrow",enabled:l}]};u&&(w.placement=u),c&&(w.strategy=c),m.value=zp(x,y,w),g(m.value.destroy)})}),[f,h,m]}const an=pa(vt.ui.strategy,vt.ui.input,ov),Js=pa(vt.ui.strategy,vt.ui.inputMenu,iv),qp=le({components:{HCombobox:fm,HComboboxButton:hm,HComboboxOptions:mm,HComboboxOption:pm,HComboboxInput:vm,UIcon:ma,UAvatar:xc},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>an.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Js.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Js.default.selectedIcon},disabled:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(an.size).includes(e)}},color:{type:String,default:()=>an.default.color,validator(e){return[...vt.ui.colors,...Object.keys(an.color)].includes(e)}},variant:{type:String,default:()=>an.default.variant,validator(e){return[...Object.keys(an.variant),...Object.values(an.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},search:{type:Function,default:void 0},searchAttributes:{type:Array,default:null},searchLazy:{type:Boolean,default:!1},debounce:{type:Number,default:200},popper:{type:Object,default:()=>({})},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:t,slots:n}){const{ui:r,attrs:a}=aa("input",Ot(e,"ui"),an,Ot(e,"class")),{ui:s}=aa("inputMenu",Ot(e,"uiMenu"),Js),o=$(()=>$c({},e.popper,s.value.popper)),[i,l]=$d(o.value),{size:u,rounded:c}=lv({ui:r,props:e}),{emitFormBlur:d,emitFormChange:f,inputId:h,color:m,size:g,name:y}=uv(e,an),x=$(()=>u.value??g.value),w=$(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const F=e.by;return F.indexOf(".")>0?(R,p)=>B(R,F)===B(p,F):F}),C=W(""),S=$({get(){return e.query??C.value},set(F){C.value=F,t("update:query",F)}}),D=$(()=>{if(!e.modelValue)return null;function F(R){return e.valueAttribute?B(R,e.valueAttribute):R}function ae(R,p){return w.value&&typeof w.value!="function"&&typeof R=="object"&&typeof p=="object"?dl(R[e.by],p[e.by]):dl(R,p)}if(e.valueAttribute){const R=Z.value.find(p=>{const X=F(p);return ae(X,e.modelValue)});return R?B(R,e.optionAttribute):null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:B(e.modelValue,e.optionAttribute)}),k=$(()=>{var ae,R;const F=((R=(ae=r.value.color)==null?void 0:ae[m.value])==null?void 0:R[e.variant])||r.value.variant[e.variant];return bo(ln(r.value.base,r.value.form,c.value,r.value.placeholder,r.value.size[x.value],e.padded?r.value.padding[x.value]:"p-0",F==null?void 0:F.replaceAll("{color}",m.value),(_.value||n.leading)&&r.value.leading.padding[x.value],(M.value||n.trailing)&&r.value.trailing.padding[x.value]),e.inputClass)}),_=$(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),M=$(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),L=$(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),E=$(()=>e.loading&&!_.value?e.loadingIcon:e.trailingIcon||e.icon),O=$(()=>ln(r.value.icon.leading.wrapper,r.value.icon.leading.pointer,r.value.icon.leading.padding[x.value])),P=$(()=>ln(r.value.icon.base,m.value&&vt.ui.colors.includes(m.value)&&r.value.icon.color.replaceAll("{color}",m.value),r.value.icon.size[x.value],e.loading&&r.value.icon.loading)),I=$(()=>ln(r.value.icon.trailing.wrapper,r.value.icon.trailing.padding[x.value])),K=$(()=>ln(r.value.icon.base,m.value&&vt.ui.colors.includes(m.value)&&r.value.icon.color.replaceAll("{color}",m.value),r.value.icon.size[x.value],e.loading&&!_.value&&r.value.icon.loading)),V=e.search&&typeof e.search=="function"?dv(e.search,e.debounce):void 0,Z=cv(async()=>V?await V(S.value):e.options||[],[],{lazy:e.searchLazy});function se(F){return F.replace(/[.*+?^${}()|[\]\\]/g,ae=>`\\${ae}`)}const ve=$(()=>{if(!S.value||V)return Z.value;const F=se(S.value);return Z.value.filter(ae=>{var R;return((R=e.searchAttributes)!=null&&R.length?e.searchAttributes:[e.optionAttribute]).some(p=>{if(["string","number"].includes(typeof ae))return String(ae).search(new RegExp(F,"i"))!==-1;const X=hl(ae,p);return X!=null&&String(X).search(new RegExp(F,"i"))!==-1})})});me(l,F=>{F?t("open"):(t("close"),d())});function he(F){S.value="",qt(e.modelValue)!==qt(F)&&(t("update:modelValue",F),t("change",F),f())}function B(F,ae){return hl(F,ae)}function J(F){S.value=F.target.value}return ei(()=>$s()),{ui:r,uiMenu:s,attrs:a,name:y,inputId:h,popper:o,trigger:i,container:l,label:D,isLeading:_,isTrailing:M,inputClass:k,leadingIconName:L,leadingIconClass:P,leadingWrapperIconClass:O,trailingIconName:E,trailingIconClass:K,trailingWrapperIconClass:I,filteredOptions:ve,query:S,accessor:B,onUpdate:he,onQueryChange:J,by:w}}}),Gp={class:"truncate"};function Kp(e,t,n,r,a,s){const o=Le("HComboboxInput"),i=ma,l=Le("HComboboxButton"),u=xc,c=Le("HComboboxOption"),d=Le("HComboboxOptions"),f=Le("HCombobox");return T(),ge(f,{by:e.by,name:e.name,"model-value":e.modelValue,disabled:e.disabled,nullable:e.nullable,as:"div",class:ne(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:q(({open:h})=>[A("div",{class:ne(e.uiMenu.trigger)},[Y(o,Ve({id:e.inputId,name:e.name,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass,autocomplete:"off"},e.attrs,{"display-value":()=>e.query?e.query:e.label,onChange:e.onQueryChange}),null,16,["id","name","required","placeholder","disabled","class","display-value","onChange"]),e.isLeading&&e.leadingIconName||e.$slots.leading?(T(),j("span",{key:0,class:ne(e.leadingWrapperIconClass)},[ht(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[Y(i,{name:e.leadingIconName,class:ne(e.leadingIconClass)},null,8,["name","class"])])],2)):ie("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(T(),ge(l,{key:1,ref:"trigger",class:ne(e.trailingWrapperIconClass)},{default:q(()=>[ht(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[Y(i,{name:e.trailingIconName,class:ne(e.trailingIconClass)},null,8,["name","class"])])]),_:3},8,["class"])):ie("",!0)],2),h?(T(),j("div",{key:0,ref:"container",class:ne([e.uiMenu.container,e.uiMenu.width])},[Y(sa,Ve({appear:""},e.uiMenu.transition),{default:q(()=>[A("div",null,[e.popper.arrow?(T(),j("div",{key:0,"data-popper-arrow":"",class:ne(Object.values(e.uiMenu.arrow))},null,2)):ie("",!0),Y(d,{static:"",class:ne([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:q(()=>[(T(!0),j(fe,null,Te(e.filteredOptions,(m,g)=>(T(),ge(c,{key:g,as:"template",value:e.valueAttribute?e.accessor(m,e.valueAttribute):m,disabled:m.disabled},{default:q(({active:y,selected:x,disabled:w})=>[A("li",{class:ne([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,y?e.uiMenu.option.active:e.uiMenu.option.inactive,x&&e.uiMenu.option.selected,w&&e.uiMenu.option.disabled])},[A("div",{class:ne(e.uiMenu.option.container)},[ht(e.$slots,"option",{option:m,active:y,selected:x},()=>[m.icon?(T(),ge(i,{key:0,name:m.icon,class:ne([e.uiMenu.option.icon.base,y?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,m.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):m.avatar?(T(),ge(u,Ve({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...m.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):m.chip?(T(),j("span",{key:2,class:ne(e.uiMenu.option.chip.base),style:ke({background:`#${m.chip}`})},null,6)):ie("",!0),A("span",Gp,re(["string","number"].includes(typeof m)?m:e.accessor(m,e.optionAttribute)),1)])],2),x?(T(),j("span",{key:0,class:ne([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Y(i,{name:e.selectedIcon,class:ne(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):ie("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.query&&!e.filteredOptions.length?(T(),j("p",{key:0,class:ne(e.uiMenu.option.empty)},[ht(e.$slots,"option-empty",{query:e.query},()=>[at(re(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):e.filteredOptions.length?ie("",!0):(T(),j("p",{key:1,class:ne(e.uiMenu.empty)},[ht(e.$slots,"empty",{query:e.query},()=>[at(re(e.uiMenu.default.empty.label),1)])],2))]),_:3},8,["class"])])]),_:3},16)],2)):ie("",!0)]),_:3},8,["by","name","model-value","disabled","nullable","class","onUpdate:modelValue"])}const Xp=ga(qp,[["render",Kp]]);function Tl(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Il(e){return[mt,Et,kt,pt].some(function(t){return e[t]>=0})}function Jp(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=la(t,{elementContext:"reference"}),i=la(t,{altBoundary:!0}),l=Tl(o,r),u=Tl(i,a,s),c=Il(l),d=Il(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Zp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jp};var Qp=[pi,pd,gi,gd,bd,yd,wd,_d,Zp],eg=md({defaultModifiers:Qp}),tg=Object.defineProperty,ng=(e,t,n)=>t in e?tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t,n)=>(ng(e,typeof t!="symbol"?t+"":t,n),n),Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rg=Object.prototype,ag=rg.hasOwnProperty;function sg(e,t){return e!=null&&ag.call(e,t)}var og=sg,ig=Array.isArray,Wt=ig,lg=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,Sd=lg,ug=Sd,cg=typeof self=="object"&&self&&self.Object===Object&&self,dg=ug||cg||Function("return this")(),nn=dg,fg=nn,hg=fg.Symbol,Os=hg,Rl=Os,xd=Object.prototype,vg=xd.hasOwnProperty,mg=xd.toString,Wr=Rl?Rl.toStringTag:void 0;function pg(e){var t=vg.call(e,Wr),n=e[Wr];try{e[Wr]=void 0;var r=!0}catch{}var a=mg.call(e);return r&&(t?e[Wr]=n:delete e[Wr]),a}var gg=pg,yg=Object.prototype,bg=yg.toString;function wg(e){return bg.call(e)}var _g=wg,Fl=Os,$g=gg,Dg=_g,Sg="[object Null]",xg="[object Undefined]",Nl=Fl?Fl.toStringTag:void 0;function Og(e){return e==null?e===void 0?xg:Sg:Nl&&Nl in Object(e)?$g(e):Dg(e)}var rn=Og;function Pg(e){return e!=null&&typeof e=="object"}var Bt=Pg,Cg=rn,Mg=Bt,kg="[object Symbol]";function Eg(e){return typeof e=="symbol"||Mg(e)&&Cg(e)==kg}var yi=Eg,Ag=Wt,Tg=yi,Ig=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rg=/^\w*$/;function Fg(e,t){if(Ag(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Tg(e)?!0:Rg.test(e)||!Ig.test(e)||t!=null&&e in Object(t)}var bi=Fg;function Ng(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vn=Ng,Lg=rn,Yg=vn,Wg="[object AsyncFunction]",Bg="[object Function]",jg="[object GeneratorFunction]",Hg="[object Proxy]";function Vg(e){if(!Yg(e))return!1;var t=Lg(e);return t==Bg||t==jg||t==Wg||t==Hg}var Gn=Vg,Ug=nn,zg=Ug["__core-js_shared__"],qg=zg,Zs=qg,Ll=function(){var e=/[^.]+$/.exec(Zs&&Zs.keys&&Zs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gg(e){return!!Ll&&Ll in e}var Kg=Gg,Xg=Function.prototype,Jg=Xg.toString;function Zg(e){if(e!=null){try{return Jg.call(e)}catch{}try{return e+""}catch{}}return""}var Od=Zg,Qg=Gn,ey=Kg,ty=vn,ny=Od,ry=/[\\^$.*+?()[\]{}|]/g,ay=/^\[object .+?Constructor\]$/,sy=Function.prototype,oy=Object.prototype,iy=sy.toString,ly=oy.hasOwnProperty,uy=RegExp("^"+iy.call(ly).replace(ry,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cy(e){if(!ty(e)||ey(e))return!1;var t=Qg(e)?uy:ay;return t.test(ny(e))}var dy=cy;function fy(e,t){return e==null?void 0:e[t]}var hy=fy,vy=dy,my=hy;function py(e,t){var n=my(e,t);return vy(n)?n:void 0}var Kn=py,gy=Kn,yy=gy(Object,"create"),Ps=yy,Yl=Ps;function by(){this.__data__=Yl?Yl(null):{},this.size=0}var wy=by;function _y(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $y=_y,Dy=Ps,Sy="__lodash_hash_undefined__",xy=Object.prototype,Oy=xy.hasOwnProperty;function Py(e){var t=this.__data__;if(Dy){var n=t[e];return n===Sy?void 0:n}return Oy.call(t,e)?t[e]:void 0}var Cy=Py,My=Ps,ky=Object.prototype,Ey=ky.hasOwnProperty;function Ay(e){var t=this.__data__;return My?t[e]!==void 0:Ey.call(t,e)}var Ty=Ay,Iy=Ps,Ry="__lodash_hash_undefined__";function Fy(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Iy&&t===void 0?Ry:t,this}var Ny=Fy,Ly=wy,Yy=$y,Wy=Cy,By=Ty,jy=Ny;function Dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dr.prototype.clear=Ly;Dr.prototype.delete=Yy;Dr.prototype.get=Wy;Dr.prototype.has=By;Dr.prototype.set=jy;var Hy=Dr;function Vy(){this.__data__=[],this.size=0}var Uy=Vy;function zy(e,t){return e===t||e!==e&&t!==t}var Sr=zy,qy=Sr;function Gy(e,t){for(var n=e.length;n--;)if(qy(e[n][0],t))return n;return-1}var Cs=Gy,Ky=Cs,Xy=Array.prototype,Jy=Xy.splice;function Zy(e){var t=this.__data__,n=Ky(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Jy.call(t,n,1),--this.size,!0}var Qy=Zy,eb=Cs;function tb(e){var t=this.__data__,n=eb(t,e);return n<0?void 0:t[n][1]}var nb=tb,rb=Cs;function ab(e){return rb(this.__data__,e)>-1}var sb=ab,ob=Cs;function ib(e,t){var n=this.__data__,r=ob(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var lb=ib,ub=Uy,cb=Qy,db=nb,fb=sb,hb=lb;function xr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xr.prototype.clear=ub;xr.prototype.delete=cb;xr.prototype.get=db;xr.prototype.has=fb;xr.prototype.set=hb;var Ms=xr,vb=Kn,mb=nn,pb=vb(mb,"Map"),wi=pb,Wl=Hy,gb=Ms,yb=wi;function bb(){this.size=0,this.__data__={hash:new Wl,map:new(yb||gb),string:new Wl}}var wb=bb;function _b(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $b=_b,Db=$b;function Sb(e,t){var n=e.__data__;return Db(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ks=Sb,xb=ks;function Ob(e){var t=xb(this,e).delete(e);return this.size-=t?1:0,t}var Pb=Ob,Cb=ks;function Mb(e){return Cb(this,e).get(e)}var kb=Mb,Eb=ks;function Ab(e){return Eb(this,e).has(e)}var Tb=Ab,Ib=ks;function Rb(e,t){var n=Ib(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Fb=Rb,Nb=wb,Lb=Pb,Yb=kb,Wb=Tb,Bb=Fb;function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Nb;Or.prototype.delete=Lb;Or.prototype.get=Yb;Or.prototype.has=Wb;Or.prototype.set=Bb;var _i=Or,Pd=_i,jb="Expected a function";function $i(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jb);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new($i.Cache||Pd),n}$i.Cache=Pd;var Hb=$i,Vb=Hb,Ub=500;function zb(e){var t=Vb(e,function(r){return n.size===Ub&&n.clear(),r}),n=t.cache;return t}var qb=zb,Gb=qb,Kb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xb=/\\(\\)?/g,Jb=Gb(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Kb,function(n,r,a,s){t.push(a?s.replace(Xb,"$1"):r||n)}),t}),Zb=Jb;function Qb(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var ew=Qb,Bl=Os,tw=ew,nw=Wt,rw=yi,jl=Bl?Bl.prototype:void 0,Hl=jl?jl.toString:void 0;function Cd(e){if(typeof e=="string")return e;if(nw(e))return tw(e,Cd)+"";if(rw(e))return Hl?Hl.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var aw=Cd,sw=aw;function ow(e){return e==null?"":sw(e)}var iw=ow,lw=Wt,uw=bi,cw=Zb,dw=iw;function fw(e,t){return lw(e)?e:uw(e,t)?[e]:cw(dw(e))}var Md=fw,hw=rn,vw=Bt,mw="[object Arguments]";function pw(e){return vw(e)&&hw(e)==mw}var gw=pw,Vl=gw,yw=Bt,kd=Object.prototype,bw=kd.hasOwnProperty,ww=kd.propertyIsEnumerable,_w=Vl(function(){return arguments}())?Vl:function(e){return yw(e)&&bw.call(e,"callee")&&!ww.call(e,"callee")},Di=_w,$w=9007199254740991,Dw=/^(?:0|[1-9]\d*)$/;function Sw(e,t){var n=typeof e;return t=t??$w,!!t&&(n=="number"||n!="symbol"&&Dw.test(e))&&e>-1&&e%1==0&&e<t}var Si=Sw,xw=9007199254740991;function Ow(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xw}var xi=Ow,Pw=yi;function Cw(e){if(typeof e=="string"||Pw(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Es=Cw,Mw=Md,kw=Di,Ew=Wt,Aw=Si,Tw=xi,Iw=Es;function Rw(e,t,n){t=Mw(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var o=Iw(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=a?s:(a=e==null?0:e.length,!!a&&Tw(a)&&Aw(o,a)&&(Ew(e)||kw(e)))}var Ed=Rw,Fw=og,Nw=Ed;function Lw(e,t){return e!=null&&Nw(e,t,Fw)}var Ad=Lw,Yw=rn,Ww=Bt,Bw="[object Date]";function jw(e){return Ww(e)&&Yw(e)==Bw}var Hw=jw;function Vw(e){return function(t){return e(t)}}var Td=Vw,ua={},Uw={get exports(){return ua},set exports(e){ua=e}};(function(e,t){var n=Sd,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s&&n.process,i=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=i})(Uw,ua);var zw=Hw,qw=Td,Ul=ua,zl=Ul&&Ul.isDate,Gw=zl?qw(zl):zw,Kw=Gw,Xw=rn,Jw=Wt,Zw=Bt,Qw="[object String]";function e0(e){return typeof e=="string"||!Jw(e)&&Zw(e)&&Xw(e)==Qw}var Xt=e0;function t0(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Id=t0,n0=Ms;function r0(){this.__data__=new n0,this.size=0}var a0=r0;function s0(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var o0=s0;function i0(e){return this.__data__.get(e)}var l0=i0;function u0(e){return this.__data__.has(e)}var c0=u0,d0=Ms,f0=wi,h0=_i,v0=200;function m0(e,t){var n=this.__data__;if(n instanceof d0){var r=n.__data__;if(!f0||r.length<v0-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new h0(r)}return n.set(e,t),this.size=n.size,this}var p0=m0,g0=Ms,y0=a0,b0=o0,w0=l0,_0=c0,$0=p0;function Pr(e){var t=this.__data__=new g0(e);this.size=t.size}Pr.prototype.clear=y0;Pr.prototype.delete=b0;Pr.prototype.get=w0;Pr.prototype.has=_0;Pr.prototype.set=$0;var Oi=Pr,D0="__lodash_hash_undefined__";function S0(e){return this.__data__.set(e,D0),this}var x0=S0;function O0(e){return this.__data__.has(e)}var P0=O0,C0=_i,M0=x0,k0=P0;function is(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new C0;++t<n;)this.add(e[t])}is.prototype.add=is.prototype.push=M0;is.prototype.has=k0;var E0=is;function A0(e,t){return e.has(t)}var T0=A0,I0=E0,R0=Id,F0=T0,N0=1,L0=2;function Y0(e,t,n,r,a,s){var o=n&N0,i=e.length,l=t.length;if(i!=l&&!(o&&l>i))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&L0?new I0:void 0;for(s.set(e,t),s.set(t,e);++d<i;){var m=e[d],g=t[d];if(r)var y=o?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!R0(t,function(x,w){if(!F0(h,w)&&(m===x||a(m,x,n,r,s)))return h.push(w)})){f=!1;break}}else if(!(m===g||a(m,g,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}var Rd=Y0,W0=nn,B0=W0.Uint8Array,Fd=B0;function j0(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var H0=j0;function V0(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var U0=V0,ql=Os,Gl=Fd,z0=Sr,q0=Rd,G0=H0,K0=U0,X0=1,J0=2,Z0="[object Boolean]",Q0="[object Date]",e1="[object Error]",t1="[object Map]",n1="[object Number]",r1="[object RegExp]",a1="[object Set]",s1="[object String]",o1="[object Symbol]",i1="[object ArrayBuffer]",l1="[object DataView]",Kl=ql?ql.prototype:void 0,Qs=Kl?Kl.valueOf:void 0;function u1(e,t,n,r,a,s,o){switch(n){case l1:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i1:return!(e.byteLength!=t.byteLength||!s(new Gl(e),new Gl(t)));case Z0:case Q0:case n1:return z0(+e,+t);case e1:return e.name==t.name&&e.message==t.message;case r1:case s1:return e==t+"";case t1:var i=G0;case a1:var l=r&X0;if(i||(i=K0),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=J0,o.set(e,t);var c=q0(i(e),i(t),r,a,s,o);return o.delete(e),c;case o1:if(Qs)return Qs.call(e)==Qs.call(t)}return!1}var c1=u1;function d1(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var f1=d1,h1=f1,v1=Wt;function m1(e,t,n){var r=t(e);return v1(e)?r:h1(r,n(e))}var p1=m1;function g1(e,t){for(var n=-1,r=e==null?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}var y1=g1;function b1(){return[]}var w1=b1,_1=y1,$1=w1,D1=Object.prototype,S1=D1.propertyIsEnumerable,Xl=Object.getOwnPropertySymbols,x1=Xl?function(e){return e==null?[]:(e=Object(e),_1(Xl(e),function(t){return S1.call(e,t)}))}:$1,O1=x1;function P1(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var C1=P1,br={},M1={get exports(){return br},set exports(e){br=e}};function k1(){return!1}var E1=k1;(function(e,t){var n=nn,r=E1,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,i=o?n.Buffer:void 0,l=i?i.isBuffer:void 0,u=l||r;e.exports=u})(M1,br);var A1=rn,T1=xi,I1=Bt,R1="[object Arguments]",F1="[object Array]",N1="[object Boolean]",L1="[object Date]",Y1="[object Error]",W1="[object Function]",B1="[object Map]",j1="[object Number]",H1="[object Object]",V1="[object RegExp]",U1="[object Set]",z1="[object String]",q1="[object WeakMap]",G1="[object ArrayBuffer]",K1="[object DataView]",X1="[object Float32Array]",J1="[object Float64Array]",Z1="[object Int8Array]",Q1="[object Int16Array]",e_="[object Int32Array]",t_="[object Uint8Array]",n_="[object Uint8ClampedArray]",r_="[object Uint16Array]",a_="[object Uint32Array]",Pe={};Pe[X1]=Pe[J1]=Pe[Z1]=Pe[Q1]=Pe[e_]=Pe[t_]=Pe[n_]=Pe[r_]=Pe[a_]=!0;Pe[R1]=Pe[F1]=Pe[G1]=Pe[N1]=Pe[K1]=Pe[L1]=Pe[Y1]=Pe[W1]=Pe[B1]=Pe[j1]=Pe[H1]=Pe[V1]=Pe[U1]=Pe[z1]=Pe[q1]=!1;function s_(e){return I1(e)&&T1(e.length)&&!!Pe[A1(e)]}var o_=s_,i_=o_,l_=Td,Jl=ua,Zl=Jl&&Jl.isTypedArray,u_=Zl?l_(Zl):i_,Pi=u_,c_=C1,d_=Di,f_=Wt,h_=br,v_=Si,m_=Pi,p_=Object.prototype,g_=p_.hasOwnProperty;function y_(e,t){var n=f_(e),r=!n&&d_(e),a=!n&&!r&&h_(e),s=!n&&!r&&!a&&m_(e),o=n||r||a||s,i=o?c_(e.length,String):[],l=i.length;for(var u in e)(t||g_.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||v_(u,l)))&&i.push(u);return i}var Nd=y_,b_=Object.prototype;function w_(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||b_;return e===n}var Ci=w_;function __(e,t){return function(n){return e(t(n))}}var Ld=__,$_=Ld,D_=$_(Object.keys,Object),S_=D_,x_=Ci,O_=S_,P_=Object.prototype,C_=P_.hasOwnProperty;function M_(e){if(!x_(e))return O_(e);var t=[];for(var n in Object(e))C_.call(e,n)&&n!="constructor"&&t.push(n);return t}var k_=M_,E_=Gn,A_=xi;function T_(e){return e!=null&&A_(e.length)&&!E_(e)}var Sa=T_,I_=Nd,R_=k_,F_=Sa;function N_(e){return F_(e)?I_(e):R_(e)}var Mi=N_,L_=p1,Y_=O1,W_=Mi;function B_(e){return L_(e,W_,Y_)}var j_=B_,Ql=j_,H_=1,V_=Object.prototype,U_=V_.hasOwnProperty;function z_(e,t,n,r,a,s){var o=n&H_,i=Ql(e),l=i.length,u=Ql(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=i[d];if(!(o?f in t:U_.call(t,f)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);for(var y=o;++d<l;){f=i[d];var x=e[f],w=t[f];if(r)var C=o?r(w,x,f,t,e,s):r(x,w,f,e,t,s);if(!(C===void 0?x===w||a(x,w,n,r,s):C)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var S=e.constructor,D=t.constructor;S!=D&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof D=="function"&&D instanceof D)&&(g=!1)}return s.delete(e),s.delete(t),g}var q_=z_,G_=Kn,K_=nn,X_=G_(K_,"DataView"),J_=X_,Z_=Kn,Q_=nn,e$=Z_(Q_,"Promise"),t$=e$,n$=Kn,r$=nn,a$=n$(r$,"Set"),s$=a$,o$=Kn,i$=nn,l$=o$(i$,"WeakMap"),u$=l$,Mo=J_,ko=wi,Eo=t$,Ao=s$,To=u$,Yd=rn,Cr=Od,eu="[object Map]",c$="[object Object]",tu="[object Promise]",nu="[object Set]",ru="[object WeakMap]",au="[object DataView]",d$=Cr(Mo),f$=Cr(ko),h$=Cr(Eo),v$=Cr(Ao),m$=Cr(To),Nn=Yd;(Mo&&Nn(new Mo(new ArrayBuffer(1)))!=au||ko&&Nn(new ko)!=eu||Eo&&Nn(Eo.resolve())!=tu||Ao&&Nn(new Ao)!=nu||To&&Nn(new To)!=ru)&&(Nn=function(e){var t=Yd(e),n=t==c$?e.constructor:void 0,r=n?Cr(n):"";if(r)switch(r){case d$:return au;case f$:return eu;case h$:return tu;case v$:return nu;case m$:return ru}return t});var p$=Nn,eo=Oi,g$=Rd,y$=c1,b$=q_,su=p$,ou=Wt,iu=br,w$=Pi,_$=1,lu="[object Arguments]",uu="[object Array]",Wa="[object Object]",$$=Object.prototype,cu=$$.hasOwnProperty;function D$(e,t,n,r,a,s){var o=ou(e),i=ou(t),l=o?uu:su(e),u=i?uu:su(t);l=l==lu?Wa:l,u=u==lu?Wa:u;var c=l==Wa,d=u==Wa,f=l==u;if(f&&iu(e)){if(!iu(t))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new eo),o||w$(e)?g$(e,t,n,r,a,s):y$(e,t,l,n,r,a,s);if(!(n&_$)){var h=c&&cu.call(e,"__wrapped__"),m=d&&cu.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,y=m?t.value():t;return s||(s=new eo),a(g,y,n,r,s)}}return f?(s||(s=new eo),b$(e,t,n,r,a,s)):!1}var S$=D$,x$=S$,du=Bt;function Wd(e,t,n,r,a){return e===t?!0:e==null||t==null||!du(e)&&!du(t)?e!==e&&t!==t:x$(e,t,n,r,Wd,a)}var Bd=Wd,O$=Oi,P$=Bd,C$=1,M$=2;function k$(e,t,n,r){var a=n.length,s=a,o=!r;if(e==null)return!s;for(e=Object(e);a--;){var i=n[a];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<s;){i=n[a];var l=i[0],u=e[l],c=i[1];if(o&&i[2]){if(u===void 0&&!(l in e))return!1}else{var d=new O$;if(r)var f=r(u,c,l,e,t,d);if(!(f===void 0?P$(c,u,C$|M$,r,d):f))return!1}}return!0}var E$=k$,A$=vn;function T$(e){return e===e&&!A$(e)}var jd=T$,I$=jd,R$=Mi;function F$(e){for(var t=R$(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,I$(a)]}return t}var N$=F$;function L$(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Hd=L$,Y$=E$,W$=N$,B$=Hd;function j$(e){var t=W$(e);return t.length==1&&t[0][2]?B$(t[0][0],t[0][1]):function(n){return n===e||Y$(n,e,t)}}var H$=j$,V$=Md,U$=Es;function z$(e,t){t=V$(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[U$(t[n++])];return n&&n==r?e:void 0}var Vd=z$,q$=Vd;function G$(e,t,n){var r=e==null?void 0:q$(e,t);return r===void 0?n:r}var Bn=G$;function K$(e,t){return e!=null&&t in Object(e)}var X$=K$,J$=X$,Z$=Ed;function Q$(e,t){return e!=null&&Z$(e,t,J$)}var eD=Q$,tD=Bd,nD=Bn,rD=eD,aD=bi,sD=jd,oD=Hd,iD=Es,lD=1,uD=2;function cD(e,t){return aD(e)&&sD(t)?oD(iD(e),t):function(n){var r=nD(n,e);return r===void 0&&r===t?rD(n,e):tD(t,r,lD|uD)}}var dD=cD;function fD(e){return e}var ki=fD;function hD(e){return function(t){return t==null?void 0:t[e]}}var vD=hD,mD=Vd;function pD(e){return function(t){return mD(t,e)}}var gD=pD,yD=vD,bD=gD,wD=bi,_D=Es;function $D(e){return wD(e)?yD(_D(e)):bD(e)}var DD=$D,SD=H$,xD=dD,OD=ki,PD=Wt,CD=DD;function MD(e){return typeof e=="function"?e:e==null?OD:typeof e=="object"?PD(e)?xD(e[0],e[1]):SD(e):CD(e)}var Ud=MD;function kD(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(n(s[l],l,s)===!1)break}return t}}var ED=kD,AD=ED,TD=AD(),zd=TD,ID=zd,RD=Mi;function FD(e,t){return e&&ID(e,t,RD)}var qd=FD,ND=Sa;function LD(e,t){return function(n,r){if(n==null)return n;if(!ND(n))return e(n,r);for(var a=n.length,s=t?a:-1,o=Object(n);(t?s--:++s<a)&&r(o[s],s,o)!==!1;);return n}}var YD=LD,WD=qd,BD=YD,jD=BD(WD),HD=jD,VD=HD;function UD(e,t){var n;return VD(e,function(r,a,s){return n=t(r,a,s),!n}),!!n}var zD=UD,qD=Sr,GD=Sa,KD=Si,XD=vn;function JD(e,t,n){if(!XD(n))return!1;var r=typeof t;return(r=="number"?GD(n)&&KD(t,n.length):r=="string"&&t in n)?qD(n[t],e):!1}var Ei=JD,ZD=Id,QD=Ud,eS=zD,tS=Wt,nS=Ei;function rS(e,t,n){var r=tS(e)?ZD:eS;return n&&nS(e,t,n)&&(t=void 0),r(e,QD(t))}var aS=rS,sS=rn,oS=Bt,iS="[object Boolean]";function lS(e){return e===!0||e===!1||oS(e)&&sS(e)==iS}var uS=lS,cS=rn,dS=Bt,fS="[object Number]";function hS(e){return typeof e=="number"||dS(e)&&cS(e)==fS}var Lt=hS,vS=Kn,mS=function(){try{var e=vS(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gd=mS,fu=Gd;function pS(e,t,n){t=="__proto__"&&fu?fu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var As=pS,gS=As,yS=Sr,bS=Object.prototype,wS=bS.hasOwnProperty;function _S(e,t,n){var r=e[t];(!(wS.call(e,t)&&yS(r,n))||n===void 0&&!(t in e))&&gS(e,t,n)}var $S=_S,DS=As,SS=qd,xS=Ud;function OS(e,t){var n={};return t=xS(t),SS(e,function(r,a,s){DS(n,a,t(r,a,s))}),n}var PS=OS;function CS(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Kd=CS,MS=Kd,hu=Math.max;function kS(e,t,n){return t=hu(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=hu(r.length-t,0),o=Array(s);++a<s;)o[a]=r[t+a];a=-1;for(var i=Array(t+1);++a<t;)i[a]=r[a];return i[t]=n(o),MS(e,this,i)}}var ES=kS;function AS(e){return function(){return e}}var TS=AS,IS=TS,vu=Gd,RS=ki,FS=vu?function(e,t){return vu(e,"toString",{configurable:!0,enumerable:!1,value:IS(t),writable:!0})}:RS,NS=FS,LS=800,YS=16,WS=Date.now;function BS(e){var t=0,n=0;return function(){var r=WS(),a=YS-(r-n);if(n=r,a>0){if(++t>=LS)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var jS=BS,HS=NS,VS=jS,US=VS(HS),zS=US,qS=ki,GS=ES,KS=zS;function XS(e,t){return KS(GS(e,t,qS),e+"")}var Ai=XS;function JS(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ZS=JS,QS=vn,ex=Ci,tx=ZS,nx=Object.prototype,rx=nx.hasOwnProperty;function ax(e){if(!QS(e))return tx(e);var t=ex(e),n=[];for(var r in e)r=="constructor"&&(t||!rx.call(e,r))||n.push(r);return n}var sx=ax,ox=Nd,ix=sx,lx=Sa;function ux(e){return lx(e)?ox(e,!0):ix(e)}var Ti=ux,cx=Ai,dx=Sr,fx=Ei,hx=Ti,Xd=Object.prototype,vx=Xd.hasOwnProperty,mx=cx(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&fx(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],o=hx(s),i=-1,l=o.length;++i<l;){var u=o[i],c=e[u];(c===void 0||dx(c,Xd[u])&&!vx.call(e,u))&&(e[u]=s[u])}return e}),mu=mx,px=As,gx=Sr;function yx(e,t,n){(n!==void 0&&!gx(e[t],n)||n===void 0&&!(t in e))&&px(e,t,n)}var Jd=yx,ls={},bx={get exports(){return ls},set exports(e){ls=e}};(function(e,t){var n=nn,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?n.Buffer:void 0,i=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=i?i(d):new u.constructor(d);return u.copy(f),f}e.exports=l})(bx,ls);var pu=Fd;function wx(e){var t=new e.constructor(e.byteLength);return new pu(t).set(new pu(e)),t}var _x=wx,$x=_x;function Dx(e,t){var n=t?$x(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Sx=Dx;function xx(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Ox=xx,Px=vn,gu=Object.create,Cx=function(){function e(){}return function(t){if(!Px(t))return{};if(gu)return gu(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Mx=Cx,kx=Ld,Ex=kx(Object.getPrototypeOf,Object),Zd=Ex,Ax=Mx,Tx=Zd,Ix=Ci;function Rx(e){return typeof e.constructor=="function"&&!Ix(e)?Ax(Tx(e)):{}}var Fx=Rx,Nx=Sa,Lx=Bt;function Yx(e){return Lx(e)&&Nx(e)}var Wx=Yx,Bx=rn,jx=Zd,Hx=Bt,Vx="[object Object]",Ux=Function.prototype,zx=Object.prototype,Qd=Ux.toString,qx=zx.hasOwnProperty,Gx=Qd.call(Object);function Kx(e){if(!Hx(e)||Bx(e)!=Vx)return!1;var t=jx(e);if(t===null)return!0;var n=qx.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qd.call(n)==Gx}var Xx=Kx;function Jx(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ef=Jx,Zx=$S,Qx=As;function eO(e,t,n,r){var a=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var i=t[s],l=r?r(n[i],e[i],i,n,e):void 0;l===void 0&&(l=e[i]),a?Qx(n,i,l):Zx(n,i,l)}return n}var tO=eO,nO=tO,rO=Ti;function aO(e){return nO(e,rO(e))}var sO=aO,yu=Jd,oO=ls,iO=Sx,lO=Ox,uO=Fx,bu=Di,wu=Wt,cO=Wx,dO=br,fO=Gn,hO=vn,vO=Xx,mO=Pi,_u=ef,pO=sO;function gO(e,t,n,r,a,s,o){var i=_u(e,n),l=_u(t,n),u=o.get(l);if(u){yu(e,n,u);return}var c=s?s(i,l,n+"",e,t,o):void 0,d=c===void 0;if(d){var f=wu(l),h=!f&&dO(l),m=!f&&!h&&mO(l);c=l,f||h||m?wu(i)?c=i:cO(i)?c=lO(i):h?(d=!1,c=oO(l,!0)):m?(d=!1,c=iO(l,!0)):c=[]:vO(l)||bu(l)?(c=i,bu(i)?c=pO(i):(!hO(i)||fO(i))&&(c=uO(l))):d=!1}d&&(o.set(l,c),a(c,l,r,s,o),o.delete(l)),yu(e,n,c)}var yO=gO,bO=Oi,wO=Jd,_O=zd,$O=yO,DO=vn,SO=Ti,xO=ef;function tf(e,t,n,r,a){e!==t&&_O(t,function(s,o){if(a||(a=new bO),DO(s))$O(e,t,o,n,tf,r,a);else{var i=r?r(xO(e,o),s,o+"",e,t,a):void 0;i===void 0&&(i=s),wO(e,o,i)}},SO)}var nf=tf,OO=nf,$u=vn;function rf(e,t,n,r,a,s){return $u(e)&&$u(t)&&(s.set(t,e),OO(e,t,void 0,rf,s),s.delete(t)),e}var PO=rf,CO=Ai,MO=Ei;function kO(e){return CO(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,o&&MO(n[0],n[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++r<a;){var i=n[r];i&&e(t,i,r,s)}return t})}var EO=kO,AO=nf,TO=EO,IO=TO(function(e,t,n,r){AO(e,t,n,r)}),RO=IO,FO=Kd,NO=Ai,LO=PO,YO=RO,WO=NO(function(e){return e.push(void 0,LO),FO(YO,void 0,e)}),ca=WO;function BO(e){return e&&e.length?e[0]:void 0}var af=BO;function jO(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ir=jO;const HO=e=>Object.prototype.toString.call(e).slice(8,-1),ur=e=>Kw(e)&&!isNaN(e.getTime()),fn=e=>HO(e)==="Object",sf=Ad,Du=(e,t)=>aS(t,n=>Ad(e,n)),_e=(e,t,n="0")=>{for(e=e!=null?String(e):"",t=t||2;e.length<t;)e=`${n}${e}`;return e},Mt=e=>Array.isArray(e),cn=e=>Mt(e)&&e.length>0,us=e=>e==null?null:document&&Xt(e)?document.querySelector(e):e.$el??e,Dn=(e,t,n,r=void 0)=>{e.removeEventListener(t,n,r)},Sn=(e,t,n,r=void 0)=>(e.addEventListener(t,n,r),()=>Dn(e,t,n,r)),Xa=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),Ba=(e,t)=>{(e.key===" "||e.key==="Enter")&&(t(e),e.preventDefault())},of=(e,...t)=>{const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n},lf=(e,t)=>{const n={};return t.forEach(r=>{r in e&&(n[r]=e[r])}),n};function VO(e,t,n){return Math.min(Math.max(e,t),n)}var cs={},UO={get exports(){return cs},set exports(e){cs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var a=Number(r);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(UO,cs);const zO=Dd(cs);var ds={},qO={get exports(){return ds},set exports(e){ds=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),r.getTime()-a.getTime()}e.exports=t.default})(qO,ds);const Su=Dd(ds);function GO(e,t){var n=ZO(t);return n.formatToParts?XO(n,e):JO(n,e)}var KO={year:0,month:1,day:2,hour:3,minute:4,second:5};function XO(e,t){try{for(var n=e.formatToParts(t),r=[],a=0;a<n.length;a++){var s=KO[n[a].type];s>=0&&(r[s]=parseInt(n[a].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function JO(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var to={};function ZO(e){if(!to[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";to[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return to[e]}function uf(e,t,n,r,a,s,o){var i=new Date(0);return i.setUTCFullYear(e,t,n),i.setUTCHours(r,a,s,o),i}var xu=36e5,QO=6e4,no={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function eP(e,t,n){var r,a;if(!e||(r=no.timezoneZ.exec(e),r))return 0;var s;if(r=no.timezoneHH.exec(e),r)return s=parseInt(r[1],10),Ou(s)?-(s*xu):NaN;if(r=no.timezoneHHMM.exec(e),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return Ou(s,o)?(a=Math.abs(s)*xu+o*QO,s>0?-a:a):NaN}if(rP(e)){t=new Date(t||Date.now());var i=tP(t),l=Io(i,e),u=nP(t,l,e);return-u}return NaN}function tP(e){return uf(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Io(e,t){var n=GO(e,t),r=uf(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),a=e.getTime(),s=a%1e3;return a-=s>=0?s:1e3+s,r-a}function nP(e,t,n){var r=e.getTime(),a=r-t,s=Io(new Date(a),n);if(t===s)return t;a-=s-t;var o=Io(new Date(a),n);return s===o?s:Math.max(s,o)}function Ou(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Pu={};function rP(e){if(Pu[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Pu[e]=!0,!0}catch{return!1}}var aP=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const sP=aP;var ro=36e5,Cu=6e4,oP=2,it={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:sP};function iP(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?oP:zO(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=lP(e),s=uP(a.date,r),o=s.year,i=s.restDateString,l=cP(i,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(a.time&&(c=dP(a.time),isNaN(c)))return new Date(NaN);if(a.timeZone||n.timeZone){if(d=eP(a.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=Su(new Date(u+c)),d=Su(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function lP(e){var t={},n=it.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=it.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var a=it.timeZone.exec(r);a?(t.time=r.replace(a[1],""),t.timeZone=a[1].trim()):t.time=r}return t}function uP(e,t){var n=it.YYY[t],r=it.YYYYY[t],a;if(a=it.YYYY.exec(e)||r.exec(e),a){var s=a[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(a=it.YY.exec(e)||n.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function cP(e,t){if(t===null)return null;var n,r,a,s;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=it.MM.exec(e),n)return r=new Date(0),a=parseInt(n[1],10)-1,ku(t,a)?(r.setUTCFullYear(t,a),r):new Date(NaN);if(n=it.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return vP(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=it.MMDD.exec(e),n){r=new Date(0),a=parseInt(n[1],10)-1;var i=parseInt(n[2],10);return ku(t,a,i)?(r.setUTCFullYear(t,a,i),r):new Date(NaN)}if(n=it.Www.exec(e),n)return s=parseInt(n[1],10)-1,Eu(t,s)?Mu(t,s):new Date(NaN);if(n=it.WwwD.exec(e),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Eu(t,s,l)?Mu(t,s,l):new Date(NaN)}return null}function dP(e){var t,n,r;if(t=it.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),ao(n)?n%24*ro:NaN;if(t=it.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),ao(n,r)?n%24*ro+r*Cu:NaN;if(t=it.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return ao(n,r,a)?n%24*ro+r*Cu+a*1e3:NaN}return null}function Mu(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,s=t*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}var fP=[31,28,31,30,31,30,31,31,30,31,30,31],hP=[31,29,31,30,31,30,31,31,30,31,30,31];function cf(e){return e%400===0||e%4===0&&e%100!==0}function ku(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=cf(e);if(r&&n>hP[t]||!r&&n>fP[t])return!1}return!0}function vP(e,t){if(t<1)return!1;var n=cf(e);return!(n&&t>366||!n&&t>365)}function Eu(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function ao(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function et(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ja(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(n){return typeof n}:Ja=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ja(e)}function mn(e){et(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ja(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Mr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var mP={};function Ii(){return mP}function qn(e,t){var n,r,a,s,o,i,l,u;et(1,arguments);var c=Ii(),d=Mr((n=(r=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=mn(e),h=f.getDay(),m=(h<d?7:0)+h-d;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function Au(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var pP=6048e5;function gP(e,t,n){et(2,arguments);var r=qn(e,n),a=qn(t,n),s=r.getTime()-Au(r),o=a.getTime()-Au(a);return Math.round((s-o)/pP)}function yP(e){et(1,arguments);var t=mn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function bP(e){et(1,arguments);var t=mn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function wP(e,t){return et(1,arguments),gP(yP(e),bP(e),t)+1}function _P(e,t){var n,r,a,s,o,i,l,u;et(1,arguments);var c=mn(e),d=c.getFullYear(),f=Ii(),h=Mr((n=(r=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,h),m.setHours(0,0,0,0);var g=qn(m,t),y=new Date(0);y.setFullYear(d,0,h),y.setHours(0,0,0,0);var x=qn(y,t);return c.getTime()>=g.getTime()?d+1:c.getTime()>=x.getTime()?d:d-1}function $P(e,t){var n,r,a,s,o,i,l,u;et(1,arguments);var c=Ii(),d=Mr((n=(r=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=_P(e,t),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var m=qn(h,t);return m}var DP=6048e5;function SP(e,t){et(1,arguments);var n=mn(e),r=qn(n,t).getTime()-$P(n,t).getTime();return Math.round(r/DP)+1}function fs(e){return et(1,arguments),qn(e,{weekStartsOn:1})}function xP(e){et(1,arguments);var t=mn(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=fs(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=fs(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function OP(e){et(1,arguments);var t=xP(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=fs(n);return r}var PP=6048e5;function CP(e){et(1,arguments);var t=mn(e),n=fs(t).getTime()-OP(t).getTime();return Math.round(n/PP)+1}function ot(e,t){et(2,arguments);var n=mn(e),r=Mr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function hs(e,t){et(2,arguments);var n=mn(e),r=Mr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Tu(e,t){et(2,arguments);var n=Mr(t);return hs(e,n*12)}const MP={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function kP({monthComps:e,prevMonthComps:t,nextMonthComps:n},r){const a=[],{firstDayOfWeek:s,firstWeekday:o,isoWeeknumbers:i,weeknumbers:l,numDays:u,numWeeks:c}=e,d=o+(o<s?Xe:0)-s;let f=!0,h=!1,m=!1,g=0;const y=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let x=t.numDays-d+1,w=t.numDays-x+1,C=Math.floor((x-1)/Xe+1),S=1,D=t.numWeeks,k=1,_=t.month,M=t.year;const L=new Date,E=L.getDate(),O=L.getMonth()+1,P=L.getFullYear();for(let I=1;I<=$C;I++){for(let K=1,V=s;K<=Xe;K++,V+=V===Xe?1-Xe:1){f&&V===o&&(x=1,w=e.numDays,C=Math.floor((x-1)/Xe+1),S=Math.floor((u-x)/Xe+1),D=1,k=c,_=e.month,M=e.year,f=!1,h=!0);const Z=r.getDateFromParams(M,_,x,0,0,0,0),se=r.getDateFromParams(M,_,x,12,0,0,0),ve=r.getDateFromParams(M,_,x,23,59,59,999),he=Z,B=`${_e(M,4)}-${_e(_,2)}-${_e(x,2)}`,J=K,F=Xe-K,ae=l[I-1],R=i[I-1],p=x===E&&_===O&&M===P,X=h&&x===1,Me=h&&x===u,de=I===1,tt=I===c,At=K===1,Oe=K===Xe,nt=$f(M,_,x);a.push({locale:r,id:B,position:++g,label:x.toString(),ariaLabel:y.format(new Date(M,_-1,x)),day:x,dayFromEnd:w,weekday:V,weekdayPosition:J,weekdayPositionFromEnd:F,weekdayOrdinal:C,weekdayOrdinalFromEnd:S,week:D,weekFromEnd:k,weekPosition:I,weeknumber:ae,isoWeeknumber:R,month:_,year:M,date:he,startDate:Z,endDate:ve,noonDate:se,dayIndex:nt,isToday:p,isFirstDay:X,isLastDay:Me,isDisabled:!h,isFocusable:!h,isFocused:!1,inMonth:h,inPrevMonth:f,inNextMonth:m,onTop:de,onBottom:tt,onLeft:At,onRight:Oe,classes:[`id-${B}`,`day-${x}`,`day-from-end-${w}`,`weekday-${V}`,`weekday-position-${J}`,`weekday-ordinal-${C}`,`weekday-ordinal-from-end-${S}`,`week-${D}`,`week-from-end-${k}`,{"is-today":p,"is-first-day":X,"is-last-day":Me,"in-month":h,"in-prev-month":f,"in-next-month":m,"on-top":de,"on-bottom":tt,"on-left":At,"on-right":Oe}]}),h&&Me?(h=!1,m=!0,x=1,w=u,C=1,S=Math.floor((u-x)/Xe+1),D=1,k=n.numWeeks,_=n.month,M=n.year):(x++,w--,C=Math.floor((x-1)/Xe+1),S=Math.floor((u-x)/Xe+1))}D++,k--}return a}function EP(e,t,n,r){const a=e.reduce((s,o,i)=>{const l=Math.floor(i/7);let u=s[l];return u||(u={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:t?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},s[l]=u),u.days.push(o),s},Array(e.length/Xe));return a.forEach(s=>{const o=s.days[0],i=s.days[s.days.length-1];o.month===i.month?s.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===i.year?s.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(i.date,"MMM YYYY")}`:s.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(i.date,"MMM YYYY")}`}),a}function AP(e,t){return e.days.map(n=>({label:t.formatDate(n.date,t.masks.weekdays),weekday:n.weekday}))}function TP(e,t){return`${t}.${_e(e,2)}`}function df(e,t,n){return lf(n.getDateParts(n.toDate(e)),MP[t])}function ff({day:e,week:t,month:n,year:r},a,s,o){if(s==="daily"&&e){const i=new Date(r,n-1,e),l=ot(i,a);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(s==="weekly"&&t){const l=o.getMonthParts(n,r).firstDayOfMonth,u=ot(l,(t-1+a)*7),c=o.getDateParts(u);return{week:c.week,month:c.month,year:c.year}}else{const i=new Date(r,n-1,1),l=hs(i,a);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Jt(e){return e!=null&&e.month!=null&&e.year!=null}function Ro(e,t){return!Jt(e)||!Jt(t)?!1:(e=e,t=t,e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:e.day&&t.day&&e.day!==t.day?e.day<t.day:!1)}function vs(e,t){return!Jt(e)||!Jt(t)?!1:(e=e,t=t,e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:e.day&&t.day&&e.day!==t.day?e.day>t.day:!1)}function IP(e,t,n){return(e||!1)&&!Ro(e,t)&&!vs(e,n)}function RP(e,t){return!e&&t||e&&!t?!1:!e&&!t?!0:(e=e,t=t,e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day)}function FP(e,t,n,r){if(!Jt(e)||!Jt(t))return[];const a=[];for(;!vs(e,t);)a.push(e),e=ff(e,1,n,r);return a}function hf(e){const{day:t,week:n,month:r,year:a}=e;let s=`${a}-${_e(r,2)}`;return n&&(s=`${s}-w${n}`),t&&(s=`${s}-${_e(t,2)}`),s}function NP(e,t){const{month:n,year:r,showWeeknumbers:a,showIsoWeeknumbers:s}=e,o=new Date(r,n-1,15),i=t.getMonthParts(n,r),l=t.getPrevMonthParts(n,r),u=t.getNextMonthParts(n,r),c=kP({monthComps:i,prevMonthComps:l,nextMonthComps:u},t),d=EP(c,a,s,t),f=AP(d[0],t);return{id:hf(e),month:n,year:r,monthTitle:t.formatDate(o,t.masks.title),shortMonthLabel:t.formatDate(o,"MMM"),monthLabel:t.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:i,prevMonthComps:l,nextMonthComps:u,days:c,weeks:d,weekdays:f}}function LP(e,t){const{day:n,week:r,view:a,trimWeeks:s}=e,o={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(a){case"daily":{let i=o.days.find(u=>u.inMonth);n?i=o.days.find(u=>u.day===n&&u.inMonth)||i:r&&(i=o.days.find(u=>u.week===r&&u.inMonth));const l=o.weeks[i.week-1];o.viewWeeks=[l],o.viewDays=[i],o.week=i.week,o.weekTitle=l.title,o.day=i.day,o.dayTitle=i.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const i=o.weeks[o.week-1];o.viewWeeks=[i],o.viewDays=i.days,o.weekTitle=i.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,s?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class Iu{constructor(t,n,r){te(this,"keys",[]),te(this,"store",{}),this.size=t,this.createKey=n,this.createItem=r}get(...t){const n=this.createKey(...t);return this.store[n]}getOrSet(...t){const n=this.createKey(...t);if(this.store[n])return this.store[n];const r=this.createItem(...t);if(this.keys.length>=this.size){const a=this.keys.shift();a!=null&&delete this.store[a]}return this.keys.push(n),this.store[n]=r,r}}class cr{constructor(t,n=new ms){te(this,"order"),te(this,"locale"),te(this,"start",null),te(this,"end",null),te(this,"repeat",null);var r;this.locale=n;const{start:a,end:s,span:o,order:i,repeat:l}=t;ur(a)&&(this.start=n.getDateParts(a)),ur(s)?this.end=n.getDateParts(s):this.start!=null&&o&&(this.end=n.getDateParts(ot(this.start.date,o-1))),this.order=i??0,l&&(this.repeat=new ps({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(t,n){return(Mt(t)?t:[t]).filter(r=>r).map(r=>cr.from(r,n))}static from(t,n){if(t instanceof cr)return t;const r={start:null,end:null};return t!=null&&(Mt(t)?(r.start=t[0]??null,r.end=t[1]??null):fn(t)?Object.assign(r,t):(r.start=t,r.end=t)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new cr(r,n)}get opts(){const{order:t,locale:n}=this;return{order:t,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:t,end:n}=this;return t&&n&&t.year===n.year&&t.month===n.month&&t.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(t){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===t.dayIndex||!!((r=this.repeat)!=null&&r.passes(t))}intersectsDay(t){return this.intersectsDayRange(t,t)}intersectsRange(t){var n,r;return this.intersectsDayRange(((n=t.start)==null?void 0:n.dayIndex)??-1/0,((r=t.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(t,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<t)}}class YP{constructor(){te(this,"records",{})}render(t,n,r){var a,s,o,i;let l=null;const u=r[0].dayIndex,c=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(d=>{var f,h;if(n.startsOnDay(d)){const m=n.daySpan<1/0?n.daySpan:1;l={startDay:d.dayIndex,startTime:((f=n.start)==null?void 0:f.time)??0,endDay:d.dayIndex+m-1,endTime:((h=n.end)==null?void 0:h.time)??Za},this.getRangeRecords(t).push(l)}}):n.intersectsDayRange(u,c)&&(l={startDay:((a=n.start)==null?void 0:a.dayIndex)??-1/0,startTime:((s=n.start)==null?void 0:s.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((i=n.end)==null?void 0:i.time)??1/0},this.getRangeRecords(t).push(l)),l}getRangeRecords(t){let n=this.records[t.key];return n||(n={ranges:[],data:t},this.records[t.key]=n),n.ranges}getCell(t,n){return this.getCells(n).find(s=>s.data.key===t)}cellExists(t,n){const r=this.records[t];return r==null?!1:r.ranges.some(a=>a.startDay<=n&&a.endDay>=n)}getCells(t){const n=Object.values(this.records),r=[],{dayIndex:a}=t;return n.forEach(({data:s,ranges:o})=>{o.filter(i=>i.startDay<=a&&i.endDay>=a).forEach(i=>{const l=a===i.startDay,u=a===i.endDay,c=l?i.startTime:0,d=new Date(t.startDate.getTime()+c),f=u?i.endTime:Za,h=new Date(t.endDate.getTime()+f),m=c===0&&f===Za,g=s.order||0;r.push({...i,data:s,onStart:l,onEnd:u,startTime:c,startDate:d,endTime:f,endDate:h,allDay:m,order:g})})}),r.sort((s,o)=>s.order-o.order),r}}const hn={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};hn.en=hn["en-US"];hn.es=hn["es-ES"];hn.no=hn.nb;hn.zh=hn["zh-CN"];const WP=Object.entries(hn).reduce((e,[t,{dow:n,L:r}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:r}},e),{}),BP="MMMM YYYY",jP="W",HP="MMM",VP="h A",UP=["L","YYYY-MM-DD","YYYY/MM/DD"],zP=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],qP=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],GP=["h:mm A"],KP=["HH:mm"],XP="WWW, MMM D, YYYY",JP=["L","YYYY-MM-DD","YYYY/MM/DD"],ZP="iso",QP="YYYY-MM-DDTHH:mm:ss.SSSZ",eC={title:BP,weekdays:jP,navMonths:HP,hours:VP,input:UP,inputDateTime:zP,inputDateTime24hr:qP,inputTime:GP,inputTime24hr:KP,dayPopover:XP,data:JP,model:ZP,iso:QP},tC=300,nC=60,rC=80,aC={maxSwipeTime:tC,minHorizontalSwipeDistance:nC,maxVerticalSwipeDistance:rC},sC={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:aC,masks:eC,locales:WP,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Fo=ya(sC),oC=$(()=>PS(Fo.locales,e=>(e.masks=ca(e.masks,Fo.masks),e))),Cn=e=>typeof window<"u"&&sf(window.__vcalendar__,e)?Bn(window.__vcalendar__,e):Bn(Fo,e),iC=12,lC=5;function uC(e,t){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Xt(e)?r=e:sf(e,"id")&&(r=e.id),r=(r||n).toLowerCase();const a=Object.keys(t),s=l=>a.find(u=>u.toLowerCase()===l);r=s(r)||s(r.substring(0,2))||n;const o={...t["en-IE"],...t[r],id:r,monthCacheSize:iC,pageCacheSize:lC};return fn(e)?ca(e,o):o}class ms{constructor(t=void 0,n){te(this,"id"),te(this,"daysInWeek"),te(this,"firstDayOfWeek"),te(this,"masks"),te(this,"timezone"),te(this,"hourLabels"),te(this,"dayNames"),te(this,"dayNamesShort"),te(this,"dayNamesShorter"),te(this,"dayNamesNarrow"),te(this,"monthNames"),te(this,"monthNamesShort"),te(this,"relativeTimeNames"),te(this,"amPm",["am","pm"]),te(this,"monthCache"),te(this,"pageCache");const{id:r,firstDayOfWeek:a,masks:s,monthCacheSize:o,pageCacheSize:i}=uC(t,oC.value);this.monthCache=new Iu(o,EC,AC),this.pageCache=new Iu(i,hf,NP),this.id=r,this.daysInWeek=Xe,this.firstDayOfWeek=VO(a,1,Xe),this.masks=s,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=so("long",this.id),this.dayNamesShort=so("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=so("narrow",this.id),this.monthNames=Wu("long",this.id),this.monthNamesShort=Wu("short",this.id),this.relativeTimeNames=RC(this.id)}formatDate(t,n){return WC(t,n,this)}parseDate(t,n){return Bu(t,n,this)}toDate(t,n={}){const r=new Date(NaN);let a=r;const{fillDate:s,mask:o,patch:i,rules:l}=n;if(Lt(t)?(n.type="number",a=new Date(+t)):Xt(t)?(n.type="string",a=t?Bu(t,o||"iso",this):r):ur(t)?(n.type="date",a=new Date(t.getTime())):Ri(t)&&(n.type="object",a=this.getDateFromParts(t)),a&&(i||l)){let u=this.getDateParts(a);if(i&&s!=null){const c=this.getDateParts(this.toDate(s));u=this.getDateParts(this.toDate({...c,...lf(u,_C[i])}))}l&&(u=YC(u,l)),a=this.getDateFromParts(u)}return a||r}toDateOrNull(t,n={}){const r=this.toDate(t,n);return isNaN(r.getTime())?null:r}fromDate(t,{type:n,mask:r}={}){switch(n){case"number":return t?t.getTime():NaN;case"string":return t?this.formatDate(t,r||"iso"):"";case"object":return t?this.getDateParts(t):null;default:return t?new Date(t):null}}range(t){return cr.from(t,this)}ranges(t){return cr.fromMany(t,this)}getDateParts(t){return kC(t,this)}getDateFromParts(t){return Sf(t,this.timezone)}getDateFromParams(t,n,r,a,s,o,i){return this.getDateFromParts({year:t,month:n,day:r,hours:a,minutes:s,seconds:o,milliseconds:i})}getPage(t){const n=this.pageCache.getOrSet(t,this);return LP(t,n)}getMonthParts(t,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(t,n,r)}getThisMonthParts(){const t=new Date;return this.getMonthParts(t.getMonth()+1,t.getFullYear())}getPrevMonthParts(t,n){return t===1?this.getMonthParts(12,n-1):this.getMonthParts(t-1,n)}getNextMonthParts(t,n){return t===12?this.getMonthParts(1,n+1):this.getMonthParts(t+1,n)}getHourLabels(){return IC().map(t=>this.formatDate(t,this.masks.hours))}getDayId(t){return this.formatDate(t,"YYYY-MM-DD")}}var ar=(e=>(e.Any="any",e.All="all",e))(ar||{}),vf=(e=>(e.Days="days",e.Weeks="weeks",e.Months="months",e.Years="years",e))(vf||{}),mf=(e=>(e.Days="days",e.Weekdays="weekdays",e.Weeks="weeks",e.Months="months",e.Years="years",e))(mf||{}),pf=(e=>(e.OrdinalWeekdays="ordinalWeekdays",e))(pf||{});class cC{constructor(t,n,r){te(this,"validated",!0),this.type=t,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(t){if(!this.validated)return!0;const{date:n}=t;switch(this.type){case"days":return Fi(this.from.date,n)%this.interval===0;case"weeks":return CC(this.from.date,n)%this.interval===0;case"months":return MC(this.from.date,n)%this.interval===0;case"years":return Df(this.from.date,n)%this.interval===0;default:return!1}}}class kr{constructor(t,n,r,a){te(this,"components",[]),this.type=t,this.validator=r,this.getter=a,this.components=this.normalizeComponents(n)}static create(t,n){switch(t){case"days":return new dC(n);case"weekdays":return new fC(n);case"weeks":return new hC(n);case"months":return new vC(n);case"years":return new mC(n)}}normalizeComponents(t){if(this.validator(t))return[t];if(!Mt(t))return[];const n=[];return t.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(t){return this.getter(t).some(a=>this.components.includes(a))}}class dC extends kr{constructor(t){super("days",t,yC,({day:n,dayFromEnd:r})=>[n,-r])}}class fC extends kr{constructor(t){super("weekdays",t,No,({weekday:n})=>[n])}}class hC extends kr{constructor(t){super("weeks",t,bC,({week:n,weekFromEnd:r})=>[n,-r])}}class vC extends kr{constructor(t){super("months",t,wC,({month:n})=>[n])}}class mC extends kr{constructor(t){super("years",t,Lt,({year:n})=>[n])}}class pC{constructor(t,n){te(this,"components"),this.type=t,this.components=this.normalizeComponents(n)}normalizeArrayConfig(t){const n=[];return t.forEach((r,a)=>{if(Lt(r)){if(a===0)return;if(!Ru(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!No(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],r])}else Mt(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(t){const n=[];return t.forEach((r,a)=>{if(Lt(r)){if(a===0)return;if(!Ru(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!No(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],r])}else Mt(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(t){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:a}=t;return this.components.some(([s,o])=>(s===r||s===-a)&&n===o)}}class gC{constructor(t){te(this,"type","function"),te(this,"validated",!0),this.fn=t,Gn(t)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(t){return this.validated?this.fn(t):!0}}class ps{constructor(t,n={},r){te(this,"validated",!0),te(this,"config"),te(this,"type",ar.Any),te(this,"from"),te(this,"until"),te(this,"rules",[]),te(this,"locale",new ms),this.parent=r,n.locale&&(this.locale=n.locale),this.config=t,Gn(t)?(this.type=ar.All,this.rules=[new gC(t)]):Mt(t)?(this.type=ar.Any,this.rules=t.map(a=>new ps(a,n,this))):fn(t)?(this.type=ar.All,this.from=t.from?this.locale.getDateParts(t.from):r==null?void 0:r.from,this.until=t.until?this.locale.getDateParts(t.until):r==null?void 0:r.until,this.rules=this.getObjectRules(t)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(t){const n=[];if(t.every&&(Xt(t.every)&&(t.every=[1,`${t.every}s`]),Mt(t.every))){const[r=1,a=vf.Days]=t.every;n.push(new cC(a,r,this.from))}return Object.values(mf).forEach(r=>{r in t&&n.push(kr.create(r,t[r]))}),Object.values(pf).forEach(r=>{r in t&&n.push(new pC(r,t[r]))}),t.on!=null&&(Mt(t.on)||(t.on=[t.on]),n.push(new ps(t.on,{locale:this.locale},this.parent))),n}passes(t){return this.validated?this.from&&t.dayIndex<=this.from.dayIndex||this.until&&t.dayIndex>=this.until.dayIndex?!1:this.type===ar.Any?this.rules.some(n=>n.passes(t)):this.rules.every(n=>n.passes(t)):!0}}function yC(e){return Lt(e)?e>=1&&e<=31:!1}function No(e){return Lt(e)?e>=1&&e<=7:!1}function bC(e){return Lt(e)?e>=-6&&e<=-1||e>=1&&e<=6:!1}function wC(e){return Lt(e)?e>=1&&e<=12:!1}function Ru(e){return!(!Lt(e)||e<-5||e>5||e===0)}const _C={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Xe=7,$C=6,gf=1e3,yf=gf*60,bf=yf*60,Za=bf*24,DC=[31,28,31,30,31,30,31,31,30,31,30,31],SC=["L","iso"],Ur={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},wf=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,xC=/\[([^]*?)\]/gm,Fu={D(e){return e.day},DD(e){return _e(e.day,2)},d(e){return e.weekday-1},dd(e){return _e(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return _e(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return _e(e.year,4)},h(e){return e.hours%12||12},hh(e){return _e(e.hours%12||12,2)},H(e){return e.hours},HH(e){return _e(e.hours,2)},m(e){return e.minutes},mm(e){return _e(e.minutes,2)},s(e){return e.seconds},ss(e){return _e(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return _e(Math.round(e.milliseconds/10),2)},SSS(e){return _e(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${_e(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${_e(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${_e(Math.floor(Math.abs(t)/60),2)}:${_e(Math.abs(t)%60,2)}`}},wn=/\d\d?/,OC=/\d{3}/,PC=/\d{4}/,Br=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nu=()=>{},Lu=e=>(t,n,r)=>{const a=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~a&&(t.month=a)},De={D:[wn,(e,t)=>{e.day=t}],Do:[new RegExp(wn.source+Br.source),(e,t)=>{e.day=parseInt(t,10)}],d:[wn,Nu],W:[Br,Nu],M:[wn,(e,t)=>{e.month=t-1}],MMM:[Br,Lu("monthNamesShort")],MMMM:[Br,Lu("monthNames")],YY:[wn,(e,t)=>{const r=+new Date().getFullYear().toString().substr(0,2);e.year=+`${t>68?r-1:r}${t}`}],YYYY:[PC,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=t*100}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=t*10}],SSS:[OC,(e,t)=>{e.milliseconds=t}],h:[wn,(e,t)=>{e.hours=t}],m:[wn,(e,t)=>{e.minutes=t}],s:[wn,(e,t)=>{e.seconds=t}],a:[Br,(e,t,n)=>{const r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{t==="Z"&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);e.timezoneOffset=n[0]==="+"?r:-r}}]};De.DD=De.D;De.dd=De.d;De.WWWW=De.WWW=De.WW=De.W;De.MM=De.M;De.mm=De.m;De.hh=De.H=De.HH=De.h;De.ss=De.s;De.A=De.a;De.ZZZZ=De.ZZZ=De.ZZ=De.Z;function _f(e,t){return(cn(e)&&e||[Xt(e)&&e||"YYYY-MM-DD"]).map(n=>SC.reduce((r,a)=>r.replace(a,t.masks[a]||""),n))}function Ri(e){return fn(e)&&"year"in e&&"month"in e&&"day"in e}function Yu(e,t=1){const n=e.getDay()+1,r=n>=t?t-n:-(7-(t-n));return ot(e,r)}function $f(e,t,n){const r=Date.UTC(e,t-1,n);return Fi(new Date(0),new Date(r))}function Fi(e,t){return Math.round((t.getTime()-e.getTime())/Za)}function CC(e,t){return Math.ceil(Fi(Yu(e),Yu(t))/7)}function Df(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function MC(e,t){return Df(e,t)*12+(t.getMonth()-e.getMonth())}function Sf(e,t=""){const n=new Date,{year:r=n.getFullYear(),month:a=n.getMonth()+1,day:s=n.getDate(),hours:o=0,minutes:i=0,seconds:l=0,milliseconds:u=0}=e;if(t){const c=`${_e(r,4)}-${_e(a,2)}-${_e(s,2)}T${_e(o,2)}:${_e(i,2)}:${_e(l,2)}.${_e(u,3)}`;return iP(c,{timeZone:t})}return new Date(r,a-1,s,o,i,l,u)}function kC(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const r=n.getMilliseconds(),a=n.getSeconds(),s=n.getMinutes(),o=n.getHours(),i=r+a*gf+s*yf+o*bf,l=n.getMonth()+1,u=n.getFullYear(),c=t.getMonthParts(l,u),d=n.getDate(),f=c.numDays-d+1,h=n.getDay()+1,m=Math.floor((d-1)/7+1),g=Math.floor((c.numDays-d)/7+1),y=Math.ceil((d+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),x=c.numWeeks-y+1,w=c.weeknumbers[y],C=$f(u,l,d);return{milliseconds:r,seconds:a,minutes:s,hours:o,time:i,day:d,dayFromEnd:f,weekday:h,weekdayOrdinal:m,weekdayOrdinalFromEnd:g,week:y,weekFromEnd:x,weeknumber:w,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:C,timezoneOffset:0,isValid:!0}}function EC(e,t,n){return`${t}-${e}-${n}`}function AC(e,t,n){const r=t%4===0&&t%100!==0||t%400===0,a=new Date(t,e-1,1),s=a.getDay()+1,o=e===2&&r?29:DC[e-1],i=n-1,l=wP(a,{weekStartsOn:i}),u=[],c=[];for(let d=0;d<l;d++){const f=ot(a,d*7);u.push(SP(f,{weekStartsOn:i})),c.push(CP(f))}return{firstDayOfWeek:n,firstDayOfMonth:a,inLeapYear:r,firstWeekday:s,numDays:o,numWeeks:l,month:e,year:t,weeknumbers:u,isoWeeknumbers:c}}function TC(){const e=[];for(let a=0;a<Xe;a++)e.push(Sf({year:2020,month:1,day:5+a,hours:12}));return e}function so(e,t=void 0){const n=new Intl.DateTimeFormat(t,{weekday:e});return TC().map(r=>n.format(r))}function IC(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function RC(e=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(e);return t.reduce((r,a)=>{const s=n.formatToParts(100,a);return r[a]=s[1].unit,r},{})}function xf(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function Wu(e,t=void 0){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return xf().map(r=>n.format(r))}function FC(e,t,n){return Lt(t)?t===e:Mt(t)?t.includes(e):Gn(t)?t(e,n):!(t.min!=null&&t.min>e||t.max!=null&&t.max<e||t.interval!=null&&e%t.interval!==0)}function zr(e,t,n){const r=[],[a,s,o]=t;for(let i=a;i<=s;i++)(n==null||FC(i,n,e))&&r.push({value:i,label:_e(i,o)});return r}function NC(e,t){return{milliseconds:zr(e,Ur.milliseconds,t.milliseconds),seconds:zr(e,Ur.seconds,t.seconds),minutes:zr(e,Ur.minutes,t.minutes),hours:zr(e,Ur.hours,t.hours)}}function LC(e,t,n,r){const s=zr(e,t,r).reduce((o,i)=>{if(i.disabled)return o;if(isNaN(o))return i.value;const l=Math.abs(o-n);return Math.abs(i.value-n)<l?i.value:o},NaN);return isNaN(s)?n:s}function YC(e,t){const n={...e};return Object.entries(t).forEach(([r,a])=>{const s=Ur[r],o=e[r];n[r]=LC(e,s,o,a)}),n}function Bu(e,t,n){return _f(t,n).map(a=>{if(typeof a!="string")throw new Error("Invalid mask");let s=e;if(s.length>1e3)return!1;let o=!0;const i={};if(a.replace(wf,c=>{if(De[c]){const d=De[c],f=s.search(d[0]);~f?s.replace(d[0],h=>(d[1](i,h,n),s=s.substr(f+h.length),h)):o=!1}return De[c]?"":c.slice(1,c.length-1)}),!o)return!1;const l=new Date;i.hours!=null&&(i.isPm===!0&&+i.hours!=12?i.hours=+i.hours+12:i.isPm===!1&&+i.hours==12&&(i.hours=0));let u;return i.timezoneOffset!=null?(i.minutes=+(i.minutes||0)-+i.timezoneOffset,u=new Date(Date.UTC(i.year||l.getFullYear(),i.month||0,i.day||1,i.hours||0,i.minutes||0,i.seconds||0,i.milliseconds||0))):u=n.getDateFromParts({year:i.year||l.getFullYear(),month:(i.month||0)+1,day:i.day||1,hours:i.hours||0,minutes:i.minutes||0,seconds:i.seconds||0,milliseconds:i.milliseconds||0}),u}).find(a=>a)||new Date(e)}function WC(e,t,n){if(e==null)return"";let r=_f(t,n)[0];/Z$/.test(r)&&(n.timezone="utc");const a=[];r=r.replace(xC,(o,i)=>(a.push(i),"??"));const s=n.getDateParts(e);return r=r.replace(wf,o=>o in Fu?Fu[o](s,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>a.shift())}let BC=0;class Of{constructor(t,n,r){te(this,"key",""),te(this,"hashcode",""),te(this,"highlight",null),te(this,"content",null),te(this,"dot",null),te(this,"bar",null),te(this,"event",null),te(this,"popover",null),te(this,"customData",null),te(this,"ranges"),te(this,"hasRanges",!1),te(this,"order",0),te(this,"pinPage",!1),te(this,"maxRepeatSpan",0),te(this,"locale");const{dates:a}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},t);this.key||(this.key=++BC),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(a??[]),this.hasRanges=!!cn(this.ranges),this.maxRepeatSpan=this.ranges.filter(s=>s.hasRepeat).map(s=>s.daySpan).reduce((s,o)=>Math.max(s,o),0)}intersectsRange({start:t,end:n}){if(t==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(t.dayIndex,n.dayIndex))return!0;const a=this.ranges.filter(o=>o.hasRepeat);if(!a.length)return!1;let s=t;for(this.maxRepeatSpan>1&&(s=this.locale.getDateParts(ot(s.date,-this.maxRepeatSpan)));s.dayIndex<=n.dayIndex;){for(const o of a)if(o.startsOnDay(s))return!0;s=this.locale.getDateParts(ot(s.date,1))}return!1}}function Lo(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function da(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function Pf(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function Cf(e){const{visibility:t}=e,n=t==="click",r=t==="hover",a=t==="hover-focus",s=t==="focus";e.autoHide=!n;let o=!1,i=!1;const l=m=>{n&&(Pf({...e,target:e.target||m.currentTarget}),m.stopPropagation())},u=m=>{o||(o=!0,(r||a)&&Lo({...e,target:e.target||m.currentTarget}))},c=()=>{o&&(o=!1,(r||a&&!i)&&da(e))},d=m=>{i||(i=!0,(s||a)&&Lo({...e,target:e.target||m.currentTarget}))},f=m=>{i&&!Xa(m.currentTarget,m.relatedTarget)&&(i=!1,(s||a&&!o)&&da(e))},h={};switch(e.visibility){case"click":h.click=l;break;case"hover":h.mousemove=u,h.mouseleave=c;break;case"focus":h.focusin=d,h.focusout=f;break;case"hover-focus":h.mousemove=u,h.mouseleave=c,h.focusin=d,h.focusout=f;break}return h}const ju=e=>{const t=us(e);if(t==null)return;const n=t.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete t.popoverHandlers)},Hu=(e,t)=>{const n=us(e);if(n==null)return;const r=[],a=Cf(t);Object.entries(a).forEach(([s,o])=>{r.push(Sn(n,s,o))}),n.popoverHandlers=r},Mf={mounted(e,t){const{value:n}=t;n&&Hu(e,n)},updated(e,t){const{oldValue:n,value:r}=t,a=n==null?void 0:n.visibility,s=r==null?void 0:r.visibility;a!==s&&(a&&(ju(e),s||da(n)),s&&Hu(e,r))},unmounted(e){ju(e)}},jC=(e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:a})=>{if(!e||!e.addEventListener||!Gn(t))return null;let s=0,o=0,i=null,l=!1;function u(d){const f=d.changedTouches[0];s=f.screenX,o=f.screenY,i=new Date().getTime(),l=!0}function c(d){if(!l||!i)return;l=!1;const f=d.changedTouches[0],h=f.screenX-s,m=f.screenY-o;if(new Date().getTime()-i<n&&Math.abs(h)>=r&&Math.abs(m)<=a){const y={toLeft:!1,toRight:!1};h<0?y.toLeft=!0:y.toRight=!0,t(y)}}return Sn(e,"touchstart",u,{passive:!0}),Sn(e,"touchend",c,{passive:!0}),()=>{Dn(e,"touchstart",u),Dn(e,"touchend",c)}},Qa={},HC=(e,t=10)=>{Qa[e]=Date.now()+t},VC=(e,t)=>{if(e in Qa){const n=Qa[e];if(Date.now()<n)return;delete Qa[e]}t()};function kf(){return typeof window<"u"}function UC(e){return kf()&&e in window}function zC(e){const t=W(!1),n=$(()=>t.value?"dark":"light");let r,a;function s(h){t.value=h.matches}function o(){UC("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",s),t.value=r.matches)}function i(){const{selector:h=":root",darkClass:m="dark"}=e.value,g=document.querySelector(h);t.value=g.classList.contains(m)}function l(h){const{selector:m=":root",darkClass:g="dark"}=h;if(kf()&&m&&g){const y=document.querySelector(m);y&&(a=new MutationObserver(i),a.observe(y,{attributes:!0,attributeFilter:["class"]}),t.value=y.classList.contains(g))}}function u(){d();const h=typeof e.value;h==="string"&&e.value.toLowerCase()==="system"?o():h==="object"?l(e.value):t.value=!!e.value}const c=me(()=>e.value,()=>u(),{immediate:!0});function d(){r&&(r.removeEventListener("change",s),r=void 0),a&&(a.disconnect(),a=void 0)}function f(){d(),c()}return Ze(()=>f()),{isDark:t,displayMode:n,cleanup:f}}const qC=["base","start","end","startEnd"],GC=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],KC={base:{},start:{},end:{}};function Ni(e,t,n=KC){let r=e,a={};t===!0||Xt(t)?(r=Xt(t)?t:r,a={...n}):fn(t)&&(Du(t,qC)?a={...t}:a={base:{...t},start:{...t},end:{...t}});const s=ca(a,{start:a.startEnd,end:a.startEnd},n);return Object.entries(s).forEach(([o,i])=>{let l=r;i===!0||Xt(i)?(l=Xt(i)?i:l,s[o]={color:l}):fn(i)&&(Du(i,GC)?s[o]={...i}:s[o]={}),ca(s[o],{color:l})}),s}class XC{constructor(){te(this,"type","highlight")}normalizeConfig(t,n){return Ni(t,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(t){t.highlights=[],t.content||(t.content=[])}render({data:t,onStart:n,onEnd:r},a){const{key:s,highlight:o}=t;if(!o)return;const{highlights:i}=a,{base:l,start:u,end:c}=o;n&&r?i.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(i.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),i.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(i.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),i.push({...c,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):i.push({...l,key:`${s}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class Li{constructor(t,n){te(this,"type",""),te(this,"collectionType",""),this.type=t,this.collectionType=n}normalizeConfig(t,n){return Ni(t,n)}prepareRender(t){t[this.collectionType]=[]}render({data:t,onStart:n,onEnd:r},a){const{key:s}=t,o=t[this.type];if(!s||!o)return;const i=a[this.collectionType],{base:l,start:u,end:c}=o;n?i.push({...u,key:s,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?i.push({...c,key:s,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):i.push({...l,key:s,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class JC extends Li{constructor(){super("content","content")}normalizeConfig(t,n){return Ni("base",n)}}class ZC extends Li{constructor(){super("dot","dots")}}class QC extends Li{constructor(){super("bar","bars")}}class eM{constructor(t){te(this,"color"),te(this,"renderers",[new JC,new XC,new ZC,new QC]),this.color=t}normalizeGlyphs(t){this.renderers.forEach(n=>{const r=n.type;t[r]!=null&&(t[r]=n.normalizeConfig(this.color,t[r]))})}prepareRender(t={}){return this.renderers.forEach(n=>{n.prepareRender(t)}),t}render(t,n){this.renderers.forEach(r=>{r.render(t,n)})}}const Ef=Symbol("__vc_base_context__"),Af={color:{type:String,default:()=>Cn("color")},isDark:{type:[Boolean,String,Object],default:()=>Cn("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function Tf(e){const t=$(()=>e.color??""),n=$(()=>e.isDark??!1),{displayMode:r}=zC(n),a=$(()=>new eM(t.value)),s=$(()=>{if(e.locale instanceof ms)return e.locale;const f=fn(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new ms(f,e.timezone)}),o=$(()=>s.value.masks),i=$(()=>e.minDate),l=$(()=>e.maxDate),u=$(()=>{const f=e.disabledDates?[...e.disabledDates]:[];return i.value!=null&&f.push({start:null,end:ot(s.value.toDate(i.value),-1)}),l.value!=null&&f.push({start:ot(s.value.toDate(l.value),1),end:null}),s.value.ranges(f)}),c=$(()=>new Of({key:"disabled",dates:u.value,order:100},a.value,s.value)),d={color:t,isDark:n,displayMode:r,theme:a,locale:s,masks:o,minDate:i,maxDate:l,disabledDates:u,disabledAttribute:c};return We(Ef,d),d}function tM(e){return Fe(Ef,()=>Tf(e),!0)}function If(e){return`__vc_slot_${e}__`}function Rf(e,t={}){Object.keys(e).forEach(n=>{We(If(t[n]??n),e[n])})}function Ff(e){return Fe(If(e),null)}const nM={...Af,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Cn("titlePosition")},navVisibility:{type:String,default:()=>Cn("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},rM=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],Nf=Symbol("__vc_calendar_context__");function aM(e,{slots:t,emit:n}){const r=W(null),a=W(null),s=W(new Date().getDate()),o=W(!1),i=W(Symbol()),l=W(Symbol()),u=W(e.view),c=W([]),d=W("");let f=null,h=null;Rf(t);const{theme:m,color:g,displayMode:y,locale:x,masks:w,minDate:C,maxDate:S,disabledAttribute:D,disabledDates:k}=tM(e),_=$(()=>e.rows*e.columns),M=$(()=>e.step||_.value),L=$(()=>af(c.value)??null),E=$(()=>ir(c.value)??null),O=$(()=>e.minPage||(C.value?F(C.value):null)),P=$(()=>e.maxPage||(S.value?F(S.value):null)),I=$(()=>e.navVisibility),K=$(()=>!!e.showWeeknumbers),V=$(()=>!!e.showIsoWeeknumbers),Z=$(()=>u.value==="monthly"),se=$(()=>u.value==="weekly"),ve=$(()=>u.value==="daily"),he=()=>{o.value=!0,n("transition-start")},B=()=>{o.value=!1,n("transition-end"),f&&(f.resolve(!0),f=null)},J=(H,b,N=u.value)=>ff(H,b,N,x.value),F=H=>df(H,u.value,x.value),ae=H=>{!D.value||!tt.value||(H.isDisabled=tt.value.cellExists(D.value.key,H.dayIndex))},R=H=>{H.isFocusable=H.inMonth&&H.day===s.value},p=(H,b)=>{for(const N of H)for(const G of N.days)if(b(G)===!1)return},X=$(()=>c.value.reduce((H,b)=>(H.push(...b.viewDays),H),[])),Me=$(()=>{const H=[];return(e.attributes||[]).forEach((b,N)=>{!b||!b.dates||H.push(new Of({...b,order:b.order||0},m.value,x.value))}),D.value&&H.push(D.value),H}),de=$(()=>cn(Me.value)),tt=$(()=>{const H=new YP;return Me.value.forEach(b=>{b.ranges.forEach(N=>{H.render(b,N,X.value)})}),H}),At=$(()=>X.value.reduce((H,b)=>(H[b.dayIndex]={day:b,cells:[]},H[b.dayIndex].cells.push(...tt.value.getCells(b)),H),{})),Oe=(H,b)=>{const N=e.showWeeknumbers||e.showIsoWeeknumbers;return N==null?"":uS(N)?N?"left":"":N.startsWith("right")?b>1?"right":N:H>1?"left":N},nt=()=>{var H,b;if(!de.value)return null;const N=Me.value.find(Ee=>Ee.pinPage)||Me.value[0];if(!N||!N.hasRanges)return null;const[G]=N.ranges,oe=((H=G.start)==null?void 0:H.date)||((b=G.end)==null?void 0:b.date);return oe?F(oe):null},lt=()=>{if(Jt(L.value))return L.value;const H=nt();return Jt(H)?H:F(new Date)},U=(H,b={})=>{const{view:N=u.value,position:G=1,force:oe}=b,Ee=G>0?1-G:-(_.value+G);let rt=J(H,Ee,N),gt=J(rt,_.value-1,N);return oe||(Ro(rt,O.value)?rt=O.value:vs(gt,P.value)&&(rt=J(P.value,1-_.value)),gt=J(rt,_.value-1)),{fromPage:rt,toPage:gt}},Se=(H,b,N="")=>{if(N==="none"||N==="fade")return N;if((H==null?void 0:H.view)!==(b==null?void 0:b.view))return"fade";const G=vs(b,H),oe=Ro(b,H);return!G&&!oe?"fade":N==="slide-v"?oe?"slide-down":"slide-up":oe?"slide-right":"slide-left"},ut=(H={})=>new Promise((b,N)=>{const{position:G=1,force:oe=!1,transition:Ee}=H,rt=Jt(H.page)?H.page:lt(),{fromPage:gt}=U(rt,{position:G,force:oe}),Zn=[];for(let Qn=0;Qn<_.value;Qn++){const Us=J(gt,Qn),dt=Qn+1,zs=Math.ceil(dt/e.columns),Ia=e.rows-zs+1,Rr=dt%e.columns||e.columns,Fr=e.columns-Rr+1,av=Oe(Rr,Fr);Zn.push(x.value.getPage({...Us,view:u.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:dt,row:zs,rowFromEnd:Ia,column:Rr,columnFromEnd:Fr,showWeeknumbers:K.value,showIsoWeeknumbers:V.value,weeknumberPosition:av}))}d.value=Se(c.value[0],Zn[0],Ee),c.value=Zn,d.value&&d.value!=="none"?f={resolve:b,reject:N}:b(!0)}),Ht=H=>{const b=L.value??F(new Date);return J(b,H)},Vt=(H,b={})=>{const N=Jt(H)?H:F(H);return Object.assign(b,U(N,{...b,force:!0})),FP(b.fromPage,b.toPage,u.value,x.value).map(oe=>IP(oe,O.value,P.value)).some(oe=>oe)},Ut=(H,b={})=>Vt(Ht(H),b),ct=$(()=>Ut(-M.value)),Q=$(()=>Ut(M.value)),ye=async(H,b={})=>!b.force&&!Vt(H,b)?!1:(b.fromPage&&!RP(b.fromPage,L.value)&&(da({id:i.value,hideDelay:0}),b.view&&(HC("view",10),u.value=b.view),await ut({...b,page:b.fromPage,position:1,force:!0}),n("did-move",c.value)),!0),pn=(H,b={})=>ye(Ht(H),b),gn=()=>pn(-M.value),yn=()=>pn(M.value),bn=H=>{const b=Z.value?".in-month":"",N=`.id-${x.value.getDayId(H)}${b}`,G=`${N}.vc-focusable, ${N} .vc-focusable`,oe=r.value;if(oe){const Ee=oe.querySelector(G);if(Ee)return Ee.focus(),!0}return!1},Tn=async(H,b={})=>bn(H)?!0:(await ye(H,b),bn(H)),Jn=(H,b)=>{s.value=H.day,n("dayclick",H,b)},js=(H,b)=>{n("daymouseenter",H,b)},Ir=(H,b)=>{n("daymouseleave",H,b)},Hs=(H,b)=>{s.value=H.day,a.value=H,H.isFocused=!0,n("dayfocusin",H,b)},ka=(H,b)=>{a.value=null,H.isFocused=!1,n("dayfocusout",H,b)},Ea=(H,b)=>{n("daykeydown",H,b);const N=H.noonDate;let G=null;switch(b.key){case"ArrowLeft":{G=ot(N,-1);break}case"ArrowRight":{G=ot(N,1);break}case"ArrowUp":{G=ot(N,-7);break}case"ArrowDown":{G=ot(N,7);break}case"Home":{G=ot(N,-H.weekdayPosition+1);break}case"End":{G=ot(N,H.weekdayPositionFromEnd);break}case"PageUp":{b.altKey?G=Tu(N,-1):G=hs(N,-1);break}case"PageDown":{b.altKey?G=Tu(N,1):G=hs(N,1);break}}G&&(b.preventDefault(),Tn(G).catch())},Vs=H=>{const b=a.value;b!=null&&Ea(b,H)},Aa=(H,b)=>{n("weeknumberclick",H,b)};ut({page:e.initialPage,position:e.initialPagePosition}),Ce(()=>{!e.disablePageSwipe&&r.value&&(h=jC(r.value,({toLeft:H=!1,toRight:b=!1})=>{H?yn():b&&gn()},Cn("touch")))}),Ze(()=>{c.value=[],h&&h()}),me(()=>x.value,()=>{ut()}),me(()=>_.value,()=>ut()),me(()=>e.view,()=>u.value=e.view),me(()=>u.value,()=>{VC("view",()=>{ut()}),n("update:view",u.value)}),me(()=>s.value,()=>{p(c.value,H=>R(H))}),Ie(()=>{n("update:pages",c.value),p(c.value,H=>{ae(H),R(H)})});const Ta={emit:n,containerRef:r,focusedDay:a,inTransition:o,navPopoverId:i,dayPopoverId:l,view:u,pages:c,transitionName:d,theme:m,color:g,displayMode:y,locale:x,masks:w,attributes:Me,disabledAttribute:D,disabledDates:k,attributeContext:tt,days:X,dayCells:At,count:_,step:M,firstPage:L,lastPage:E,canMovePrev:ct,canMoveNext:Q,minPage:O,maxPage:P,isMonthly:Z,isWeekly:se,isDaily:ve,navVisibility:I,showWeeknumbers:K,showIsoWeeknumbers:V,getDateAddress:F,canMove:Vt,canMoveBy:Ut,move:ye,moveBy:pn,movePrev:gn,moveNext:yn,onTransitionBeforeEnter:he,onTransitionAfterEnter:B,tryFocusDate:bn,focusDate:Tn,onKeydown:Vs,onDayKeydown:Ea,onDayClick:Jn,onDayMouseenter:js,onDayMouseleave:Ir,onDayFocusin:Hs,onDayFocusout:ka,onWeeknumberClick:Aa};return We(Nf,Ta),Ta}function Xn(){const e=Fe(Nf);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const sM=le({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const r=W();let a=null,s=null;const o=ya({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function i(B){B&&(o.direction=B.split("-")[0])}function l({placement:B,options:J}){i(B||(J==null?void 0:J.placement))}const u=$(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),c=$(()=>{const B=o.direction==="left"||o.direction==="right";let J="";if(o.placement){const F=o.placement.split("-");F.length>1&&(J=F[1])}return["start","top","left"].includes(J)?B?"top":"left":["end","bottom","right"].includes(J)?B?"bottom":"right":B?"middle":"center"});function d(){s&&(s.destroy(),s=null)}function f(){_t(()=>{const B=us(o.target);!B||!r.value||(s&&s.state.elements.reference!==B&&d(),s?s.update():s=eg(B,r.value,u.value))})}function h(B){Object.assign(o,of(B,"force"))}function m(B,J){clearTimeout(n),B>0?n=setTimeout(J,B):J()}function g(B){return!B||!s?!1:us(B)===s.state.elements.reference}async function y(B={}){o.force||(B.force&&(o.force=!0),m(B.showDelay??e.showDelay,()=>{o.isVisible&&(o.force=!1),h({...B,isVisible:!0}),f()}))}function x(B={}){s&&(B.target&&!g(B.target)||o.force||(B.force&&(o.force=!0),m(B.hideDelay??e.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function w(B={}){B.target!=null&&(o.isVisible&&g(B.target)?x(B):y(B))}function C(B){if(!s)return;const J=s.state.elements.reference;if(!r.value||!J)return;const F=B.target;Xa(r.value,F)||Xa(J,F)||x({force:!0})}function S(B){(B.key==="Esc"||B.key==="Escape")&&x()}function D({detail:B}){!B.id||B.id!==e.id||y(B)}function k({detail:B}){!B.id||B.id!==e.id||x(B)}function _({detail:B}){!B.id||B.id!==e.id||w(B)}function M(){Sn(document,"keydown",S),Sn(document,"click",C),Sn(document,"show-popover",D),Sn(document,"hide-popover",k),Sn(document,"toggle-popover",_)}function L(){Dn(document,"keydown",S),Dn(document,"click",C),Dn(document,"show-popover",D),Dn(document,"hide-popover",k),Dn(document,"toggle-popover",_)}function E(B){t("before-show",B)}function O(B){o.force=!1,t("after-show",B)}function P(B){t("before-hide",B)}function I(B){o.force=!1,d(),t("after-hide",B)}function K(B){B.stopPropagation()}function V(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&y()}function Z(){if(o.isHovered=!1,!s)return;const B=s.state.elements.reference;o.autoHide&&!o.isFocused&&(!B||B!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&x()}function se(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&y()}function ve(B){["focus","hover-focus"].includes(o.visibility)&&(!B.relatedTarget||!Xa(r.value,B.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&x())}function he(){a!=null&&(a.disconnect(),a=null)}return me(()=>r.value,B=>{he(),B&&(a=new ResizeObserver(()=>{s&&s.update()}),a.observe(B))}),me(()=>o.placement,i,{immediate:!0}),Ce(()=>{M()}),Ze(()=>{d(),he(),L()}),{..._v(o),popoverRef:r,alignment:c,hide:x,setupPopper:f,beforeEnter:E,afterEnter:O,beforeLeave:P,afterLeave:I,onClick:K,onMouseOver:V,onMouseLeave:Z,onFocusIn:se,onFocusOut:ve}}}),En=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};function oM(e,t,n,r,a,s){return T(),j("div",{class:ne(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o)),onMouseover:t[1]||(t[1]=(...o)=>e.onMouseOver&&e.onMouseOver(...o)),onMouseleave:t[2]||(t[2]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o)),onFocusin:t[3]||(t[3]=(...o)=>e.onFocusIn&&e.onFocusIn(...o)),onFocusout:t[4]||(t[4]=(...o)=>e.onFocusOut&&e.onFocusOut(...o))},[Y(sa,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:q(()=>[e.isVisible?(T(),j("div",Ve({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[ht(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},()=>[at(re(e.data),1)]),A("span",{class:ne(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):ie("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const Yi=En(sM,[["render",oM]]),iM={class:"vc-day-popover-row"},lM={key:0,class:"vc-day-popover-row-indicator"},uM={class:"vc-day-popover-row-label"},cM=le({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,n=$(()=>{const{content:r,highlight:a,dot:s,bar:o,popover:i}=t.attribute;return i&&i.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:a?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${a.base.color}`}:s?{class:`vc-dot vc-attr vc-${s.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,a)=>(T(),j("div",iM,[v(n)?(T(),j("div",lM,[A("span",{class:ne(v(n).class)},null,2)])):ie("",!0),A("div",uM,[ht(r.$slots,"default",{},()=>[at(re(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)])])]))}}),dM={inheritAttrs:!1},xt=le({...dM,__name:"CalendarSlot",props:{name:null},setup(e){const n=Ff(e.name);return(r,a)=>v(n)?(T(),ge(Zo(v(n)),Qr(Ve({key:0},r.$attrs)),null,16)):ht(r.$slots,"default",{key:1})}}),fM={class:"vc-day-popover-container"},hM={key:0,class:"vc-day-popover-header"},vM=le({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:r,masks:a,locale:s}=Xn();function o(l,u){return s.value.formatDate(l,u)}function i(l){return s.value.formatDate(l.date,a.value.dayPopover)}return(l,u)=>(T(),ge(Yi,{id:v(t),class:ne([`vc-${v(r)}`,`vc-${v(n)}`])},{default:q(({data:{day:c,attributes:d},hide:f})=>[Y(xt,{name:"day-popover",day:c,"day-title":i(c),attributes:d,format:o,masks:v(a),hide:f},{default:q(()=>[A("div",fM,[v(a).dayPopover?(T(),j("div",hM,re(i(c)),1)):ie("",!0),(T(!0),j(fe,null,Te(d,h=>(T(),ge(cM,{key:h.key,attribute:h},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),mM={},pM={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},gM=A("polyline",{points:"9 18 15 12 9 6"},null,-1),yM=[gM];function bM(e,t){return T(),j("svg",pM,yM)}const wM=En(mM,[["render",bM]]),_M={},$M={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},DM=A("polyline",{points:"15 18 9 12 15 6"},null,-1),SM=[DM];function xM(e,t){return T(),j("svg",$M,SM)}const OM=En(_M,[["render",xM]]),PM={},CM={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},MM=A("polyline",{points:"6 9 12 15 18 9"},null,-1),kM=[MM];function EM(e,t){return T(),j("svg",CM,kM)}const AM=En(PM,[["render",EM]]),TM={},IM={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},RM=A("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),FM=[RM];function NM(e,t){return T(),j("svg",IM,FM)}const LM=En(TM,[["render",NM]]),YM=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:AM,IconChevronLeft:OM,IconChevronRight:wM,IconClock:LM},Symbol.toStringTag,{value:"Module"})),wr=le({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=$(()=>t.width||t.size),r=$(()=>t.height||t.size),a=$(()=>YM[`Icon${t.name}`]);return(s,o)=>(T(),ge(Zo(v(a)),{width:v(n),height:v(r),class:"vc-base-icon"},null,8,["width","height"]))}}),WM=["disabled"],BM={key:1,class:"vc-title-wrapper"},jM={type:"button",class:"vc-title"},HM=["disabled"],Lf=le({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:n,navVisibility:r,canMovePrev:a,movePrev:s,canMoveNext:o,moveNext:i}=Xn(),l=$(()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=$(()=>{const{page:g}=t;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:g},isInteractive:!0}}),c=$(()=>t.page.titlePosition.includes("left")),d=$(()=>t.page.titlePosition.includes("right")),f=$(()=>t.layout?t.layout:c.value?"tu-pn":d.value?"pn-tu":"p-tu-n;"),h=$(()=>({prev:f.value.includes("p")&&!t.hideArrows,title:f.value.includes("t")&&!t.hideTitle,next:f.value.includes("n")&&!t.hideArrows})),m=$(()=>({gridTemplateColumns:f.value.split("").map(y=>{switch(y){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(g,y)=>(T(),j("div",{class:ne(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:ke(v(m))},[v(h).prev?(T(),j("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!v(a),onClick:y[0]||(y[0]=(...x)=>v(s)&&v(s)(...x)),onKeydown:y[1]||(y[1]=vl((...x)=>v(s)&&v(s)(...x),["space","enter"]))},[Y(xt,{name:"header-prev-button",disabled:!v(a)},{default:q(()=>[Y(wr,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,WM)):ie("",!0),v(h).title?(T(),j("div",BM,[Y(xt,{name:"header-title-wrapper"},{default:q(()=>[Sc((T(),j("button",jM,[Y(xt,{name:"header-title",title:e.page.title},{default:q(()=>[A("span",null,re(e.page.title),1)]),_:1},8,["title"])])),[[v(Mf),v(u)]])]),_:1})])):ie("",!0),v(h).next?(T(),j("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!v(o),onClick:y[2]||(y[2]=(...x)=>v(i)&&v(i)(...x)),onKeydown:y[3]||(y[3]=vl((...x)=>v(i)&&v(i)(...x),["space","enter"]))},[Y(xt,{name:"header-next-button",disabled:!v(o)},{default:q(()=>[Y(wr,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,HM)):ie("",!0)],6))}}),Yf=Symbol("__vc_page_context__");function VM(e){const{locale:t,getDateAddress:n,canMove:r}=Xn();function a(i,l){const{month:u,year:c}=n(new Date);return xf().map((d,f)=>{const h=f+1;return{month:h,year:i,id:TP(h,i),label:t.value.formatDate(d,l),ariaLabel:t.value.formatDate(d,"MMMM"),isActive:h===e.value.month&&i===e.value.year,isCurrent:h===u&&i===c,isDisabled:!r({month:h,year:i},{position:e.value.position})}})}function s(i,l){const{year:u}=n(new Date),{position:c}=e.value,d=[];for(let f=i;f<=l;f+=1){const h=[...Array(12).keys()].some(m=>r({month:m+1,year:f},{position:c}));d.push({year:f,id:f.toString(),label:f.toString(),ariaLabel:f.toString(),isActive:f===e.value.year,isCurrent:f===u,isDisabled:!h})}return d}const o={page:e,getMonthItems:a,getYearItems:s};return We(Yf,o),o}function Wf(){const e=Fe(Yf);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const UM={class:"vc-nav-header"},zM=["disabled"],qM=["disabled"],GM={class:"vc-nav-items"},KM=["data-id","aria-label","disabled","onClick","onKeydown"],XM=le({__name:"CalendarNav",setup(e){const{masks:t,move:n}=Xn(),{page:r,getMonthItems:a,getYearItems:s}=Wf(),o=W(!0),i=12,l=W(r.value.year),u=W(f(r.value.year)),c=W(null);function d(){setTimeout(()=>{if(c.value==null)return;const F=c.value.querySelector(".vc-nav-item:not(:disabled)");F&&F.focus()},10)}function f(F){return Math.floor(F/i)}function h(){o.value=!o.value}function m(F){return F*i}function g(F){return i*(F+1)-1}function y(){se.value&&(o.value&&w(),S())}function x(){ve.value&&(o.value&&C(),D())}function w(){l.value--}function C(){l.value++}function S(){u.value--}function D(){u.value++}const k=$(()=>a(l.value,t.value.navMonths).map(F=>({...F,click:()=>n({month:F.month,year:F.year},{position:r.value.position})}))),_=$(()=>a(l.value-1,t.value.navMonths)),M=$(()=>_.value.some(F=>!F.isDisabled)),L=$(()=>a(l.value+1,t.value.navMonths)),E=$(()=>L.value.some(F=>!F.isDisabled)),O=$(()=>s(m(u.value),g(u.value)).map(F=>({...F,click:()=>{l.value=F.year,o.value=!0,d()}}))),P=$(()=>s(m(u.value-1),g(u.value-1))),I=$(()=>P.value.some(F=>!F.isDisabled)),K=$(()=>s(m(u.value+1),g(u.value+1))),V=$(()=>K.value.some(F=>!F.isDisabled)),Z=$(()=>o.value?k.value:O.value),se=$(()=>o.value?M.value:I.value),ve=$(()=>o.value?E.value:V.value),he=$(()=>af(O.value.map(F=>F.year))),B=$(()=>ir(O.value.map(F=>F.year))),J=$(()=>o.value?l.value:`${he.value} - ${B.value}`);return Ie(()=>{l.value=r.value.year,d()}),me(()=>l.value,F=>u.value=f(F)),Ce(()=>d()),(F,ae)=>(T(),j("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[A("div",UM,[A("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!v(se),onClick:y,onKeydown:ae[0]||(ae[0]=R=>v(Ba)(R,y))},[Y(xt,{name:"nav-prev-button",move:y,disabled:!v(se)},{default:q(()=>[Y(wr,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,zM),A("button",{type:"button",class:"vc-nav-title vc-focus",onClick:h,onKeydown:ae[1]||(ae[1]=R=>v(Ba)(R,h))},re(v(J)),33),A("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!v(ve),onClick:x,onKeydown:ae[2]||(ae[2]=R=>v(Ba)(R,x))},[Y(xt,{name:"nav-next-button",move:x,disabled:!v(ve)},{default:q(()=>[Y(wr,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,qM)]),A("div",GM,[(T(!0),j(fe,null,Te(v(Z),R=>(T(),j("button",{key:R.label,type:"button","data-id":R.id,"aria-label":R.ariaLabel,class:ne(["vc-nav-item vc-focus",[R.isActive?"is-active":R.isCurrent?"is-current":""]]),disabled:R.isDisabled,onClick:R.click,onKeydown:p=>v(Ba)(p,R.click)},re(R.label),43,KM))),128))])],512))}}),Bf=le({__name:"CalendarPageProvider",props:{page:null},setup(e){return VM(Ot(e,"page")),(n,r)=>ht(n.$slots,"default")}}),JM=le({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:r}=Xn();return(a,s)=>(T(),ge(Yi,{id:v(t),class:ne(["vc-nav-popover-container",`vc-${v(n)}`,`vc-${v(r)}`])},{default:q(({data:o})=>[Y(Bf,{page:o.page},{default:q(()=>[Y(xt,{name:"nav"},{default:q(()=>[Y(XM)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),ZM=le({directives:{popover:Mf},components:{CalendarSlot:xt},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:r,dayPopoverId:a,onDayClick:s,onDayMouseenter:o,onDayMouseleave:i,onDayFocusin:l,onDayFocusout:u,onDayKeydown:c}=Xn(),d=$(()=>e.day),f=$(()=>r.value.getCells(d.value)),h=$(()=>f.value.map(V=>V.data)),m=$(()=>({...d.value,attributes:h.value,attributeCells:f.value}));function g({data:V},{popovers:Z}){const{key:se,customData:ve,popover:he}=V;if(!he)return;const B=mu({key:se,customData:ve,attribute:V},{...he},{visibility:he.label?"hover":"click",placement:"bottom",isInteractive:!he.label});Z.splice(0,0,B)}const y=$(()=>{const V={...n.value.prepareRender({}),popovers:[]};return f.value.forEach(Z=>{n.value.render(Z,V),g(Z,V)}),V}),x=$(()=>y.value.highlights),w=$(()=>!!cn(x.value)),C=$(()=>y.value.content),S=$(()=>y.value.dots),D=$(()=>!!cn(S.value)),k=$(()=>y.value.bars),_=$(()=>!!cn(k.value)),M=$(()=>y.value.popovers),L=$(()=>M.value.map(V=>V.attribute)),E=Ff("day-content"),O=$(()=>["vc-day",...d.value.classes,{"vc-day-box-center-center":!E},{"is-not-in-month":!e.day.inMonth}]),P=$(()=>{let V;d.value.isFocusable?V="0":V="-1";const Z=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":d.value.isDisabled},Bn(ir(x.value),"contentClass"),Bn(ir(C.value),"class")||""],se={...Bn(ir(x.value),"contentStyle"),...Bn(ir(C.value),"style")};return{class:Z,style:se,tabindex:V,"aria-label":d.value.ariaLabel,"aria-disabled":!!d.value.isDisabled,role:"button"}}),I=$(()=>({click(V){s(m.value,V)},mouseenter(V){o(m.value,V)},mouseleave(V){i(m.value,V)},focusin(V){l(m.value,V)},focusout(V){u(m.value,V)},keydown(V){c(m.value,V)}})),K=$(()=>cn(M.value)?mu({id:a.value,data:{day:d,attributes:L.value}},...M.value):null);return{attributes:h,attributeCells:f,bars:k,dayClasses:O,dayContentProps:P,dayContentEvents:I,dayPopover:K,glyphs:y,dots:S,hasDots:D,hasBars:_,highlights:x,hasHighlights:w,locale:t,popovers:M}}}),QM={key:0,class:"vc-highlights vc-day-layer"},ek={key:1,class:"vc-day-layer vc-day-box-center-bottom"},tk={class:"vc-dots"},nk={key:2,class:"vc-day-layer vc-day-box-center-bottom"},rk={class:"vc-bars"};function ak(e,t,n,r,a,s){const o=Le("CalendarSlot"),i=$v("popover");return T(),j("div",{class:ne(e.dayClasses)},[e.hasHighlights?(T(),j("div",QM,[(T(!0),j(fe,null,Te(e.highlights,({key:l,wrapperClass:u,class:c,style:d})=>(T(),j("div",{key:l,class:ne(u)},[A("div",{class:ne(c),style:ke(d)},null,6)],2))),128))])):ie("",!0),Y(o,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:q(()=>[Sc((T(),j("div",Ve(e.dayContentProps,Dv(e.dayContentEvents,!0)),[at(re(e.day.label),1)],16)),[[i,e.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?(T(),j("div",ek,[A("div",tk,[(T(!0),j(fe,null,Te(e.dots,({key:l,class:u,style:c})=>(T(),j("span",{key:l,class:ne(u),style:ke(c)},null,6))),128))])])):ie("",!0),e.hasBars?(T(),j("div",nk,[A("div",rk,[(T(!0),j(fe,null,Te(e.bars,({key:l,class:u,style:c})=>(T(),j("span",{key:l,class:ne(u),style:ke(c)},null,6))),128))])])):ie("",!0)],2)}const sk=En(ZM,[["render",ak]]),ok={class:"vc-weekdays"},ik=["onClick"],lk={inheritAttrs:!1},uk=le({...lk,__name:"CalendarPage",setup(e){const{page:t}=Wf(),{onWeeknumberClick:n}=Xn();return(r,a)=>(T(),j("div",{class:ne(["vc-pane",`row-${v(t).row}`,`row-from-end-${v(t).rowFromEnd}`,`column-${v(t).column}`,`column-from-end-${v(t).columnFromEnd}`]),ref:"pane"},[Y(Lf,{page:v(t),"is-lg":"","hide-arrows":""},null,8,["page"]),A("div",{class:ne(["vc-weeks",{[`vc-show-weeknumbers-${v(t).weeknumberPosition}`]:v(t).weeknumberPosition}])},[A("div",ok,[(T(!0),j(fe,null,Te(v(t).weekdays,({weekday:s,label:o},i)=>(T(),j("div",{key:i,class:ne(`vc-weekday vc-weekday-${s}`)},re(o),3))),128))]),(T(!0),j(fe,null,Te(v(t).viewWeeks,s=>(T(),j("div",{key:`weeknumber-${s.weeknumber}`,class:"vc-week"},[v(t).weeknumberPosition?(T(),j("div",{key:0,class:ne(["vc-weeknumber",`is-${v(t).weeknumberPosition}`])},[A("span",{class:ne(["vc-weeknumber-content"]),onClick:o=>v(n)(s,o)},re(s.weeknumberDisplay),9,ik)],2)):ie("",!0),(T(!0),j(fe,null,Te(s.days,o=>(T(),ge(sk,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),ck=le({components:{CalendarHeader:Lf,CalendarPage:uk,CalendarNavPopover:JM,CalendarDayPopover:vM,CalendarPageProvider:Bf,CalendarSlot:xt},props:nM,emit:rM,setup(e,{emit:t,slots:n}){return aM(e,{emit:t,slots:n})}}),dk={class:"vc-pane-header-wrapper"};function fk(e,t,n,r,a,s){const o=Le("CalendarHeader"),i=Le("CalendarPage"),l=Le("CalendarSlot"),u=Le("CalendarPageProvider"),c=Le("CalendarDayPopover"),d=Le("CalendarNavPopover");return T(),j(fe,null,[A("div",Ve({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=Dc(()=>{},["prevent"])),ref:"containerRef"}),[A("div",{class:ne(["vc-pane-container",{"in-transition":e.inTransition}])},[A("div",dk,[e.firstPage?(T(),ge(o,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):ie("",!0)]),Y(sa,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:q(()=>[(T(),j("div",{key:e.pages[0].id,class:"vc-pane-layout",style:ke({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(T(!0),j(fe,null,Te(e.pages,f=>(T(),ge(u,{key:f.id,page:f},{default:q(()=>[Y(l,{name:"page",page:f},{default:q(()=>[Y(i)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),Y(l,{name:"footer"})],2)],16),Y(c),Y(d)],64)}const hk=En(ck,[["render",fk]]),jf=Symbol("__vc_date_picker_context__"),vk={...Af,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Cn("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Cn("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},mk=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function pk(e,{emit:t,slots:n}){Rf(n,{footer:"dp-footer"});const r=Tf(e),{locale:a,masks:s,disabledAttribute:o}=r,i=W(!1),l=W(Symbol()),u=W(null),c=W(null),d=W(["",""]),f=W(null),h=W(null);let m,g,y=!0;const x=$(()=>e.isRange||e.modelModifiers.range===!0),w=$(()=>x.value&&u.value!=null?u.value.start:null),C=$(()=>x.value&&u.value!=null?u.value.end:null),S=$(()=>e.mode.toLowerCase()==="date"),D=$(()=>e.mode.toLowerCase()==="datetime"),k=$(()=>e.mode.toLowerCase()==="time"),_=$(()=>!!c.value),M=$(()=>{let b="date";e.modelModifiers.number&&(b="number"),e.modelModifiers.string&&(b="string");const N=s.value.modelValue||"iso";return ae({type:b,mask:N})}),L=$(()=>Ut(c.value??u.value)),E=$(()=>k.value?e.is24hr?s.value.inputTime24hr:s.value.inputTime:D.value?e.is24hr?s.value.inputDateTime24hr:s.value.inputDateTime:s.value.input),O=$(()=>/[Hh]/g.test(E.value)),P=$(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(E.value)),I=$(()=>{if(O.value&&P.value)return"dateTime";if(P.value)return"date";if(O.value)return"time"}),K=$(()=>{var b;const N=((b=f.value)==null?void 0:b.$el.previousElementSibling)??void 0;return ca({},e.popover,Cn("datePicker.popover"),{target:N})}),V=$(()=>Cf({...K.value,id:l.value})),Z=$(()=>x.value?{start:d.value[0],end:d.value[1]}:d.value[0]),se=$(()=>{const b=["start","end"].map(N=>({input:ut(N),change:Ht(N),keyup:Vt,...e.popover&&V.value}));return x.value?{start:b[0],end:b[1]}:b[0]}),ve=$(()=>{if(!Me(u.value))return null;const b={key:"select-drag",...e.selectAttribute,dates:u.value,pinPage:!0},{dot:N,bar:G,highlight:oe,content:Ee}=b;return!N&&!G&&!oe&&!Ee&&(b.highlight=!0),b}),he=$(()=>{if(!x.value||!Me(c.value))return null;const b={key:"select-drag",...e.dragAttribute,dates:c.value},{dot:N,bar:G,highlight:oe,content:Ee}=b;return!N&&!G&&!oe&&!Ee&&(b.highlight={startEnd:{fillMode:"outline"}}),b}),B=$(()=>{const b=Mt(e.attributes)?[...e.attributes]:[];return he.value?b.unshift(he.value):ve.value&&b.unshift(ve.value),b}),J=$(()=>ae(e.rules==="auto"?F():e.rules??{}));function F(){const b={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},N=S.value?0:e.timeAccuracy;return[0,1].map(G=>{switch(N){case 0:return{hours:b.hr[G],minutes:b.min[G],seconds:b.sec[G],milliseconds:b.ms[G]};case 1:return{minutes:b.min[G],seconds:b.sec[G],milliseconds:b.ms[G]};case 3:return{milliseconds:b.ms[G]};case 4:return{};default:return{seconds:b.sec[G],milliseconds:b.ms[G]}}})}function ae(b){return Mt(b)?b.length===1?[b[0],b[0]]:b:[b,b]}function R(b){return ae(b).map((N,G)=>({...N,rules:J.value[G]}))}function p(b){return b==null?!1:Lt(b)?!isNaN(b):ur(b)?!isNaN(b.getTime()):Xt(b)?b!=="":Ri(b)}function X(b){return fn(b)&&"start"in b&&"end"in b&&p(b.start??null)&&p(b.end??null)}function Me(b){return X(b)||p(b)}function de(b,N){if(b==null&&N==null)return!0;if(b==null||N==null)return!1;const G=ur(b),oe=ur(N);return G&&oe?b.getTime()===N.getTime():G||oe?!1:de(b.start,N.start)&&de(b.end,N.end)}function tt(b){return!Me(b)||!o.value?!1:o.value.intersectsRange(a.value.range(b))}function At(b,N,G,oe){if(!Me(b))return null;if(X(b)){const Ee=a.value.toDate(b.start,{...N[0],fillDate:w.value??void 0,patch:G}),rt=a.value.toDate(b.end,{...N[1],fillDate:C.value??void 0,patch:G});return ka({start:Ee,end:rt},oe)}return a.value.toDateOrNull(b,{...N[0],fillDate:u.value,patch:G})}function Oe(b,N){return X(b)?{start:a.value.fromDate(b.start,N[0]),end:a.value.fromDate(b.end,N[1])}:x.value?null:a.value.fromDate(b,N[0])}function nt(b,N={}){return clearTimeout(m),new Promise(G=>{const{debounce:oe=0,...Ee}=N;oe>0?m=window.setTimeout(()=>{G(lt(b,Ee))},oe):G(lt(b,Ee))})}function lt(b,{config:N=M.value,patch:G="dateTime",clearIfEqual:oe=!1,formatInput:Ee=!0,hidePopover:rt=!1,dragging:gt=_.value,targetPriority:Zn,moveToValue:Qn=!1}={}){const Us=R(N);let dt=At(b,Us,G,Zn);if(tt(dt)){if(gt)return null;dt=u.value,rt=!1}else dt==null&&e.isRequired?dt=u.value:dt!=null&&de(u.value,dt)&&oe&&(dt=null);const Ia=gt?c:u,Rr=!de(Ia.value,dt);Ia.value=dt,gt||(c.value=null);const Fr=Oe(dt,M.value);return Rr&&(y=!1,t(gt?"drag":"update:modelValue",Fr),_t(()=>y=!0)),rt&&!gt&&Ir(),Ee&&U(),Qn&&_t(()=>Aa(Zn??"start")),Fr}function U(){_t(()=>{const b=R({type:"string",mask:E.value}),N=Oe(c.value??u.value,b);x.value?d.value=[N&&N.start,N&&N.end]:d.value=[N,""]})}function Se(b,N,G){d.value.splice(N==="start"?0:1,1,b);const oe=x.value?{start:d.value[0],end:d.value[1]||d.value[0]}:b,Ee={type:"string",mask:E.value};nt(oe,{...G,config:Ee,patch:I.value,targetPriority:N,moveToValue:!0})}function ut(b){return N=>{e.updateOnInput&&Se(N.currentTarget.value,b,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function Ht(b){return N=>{Se(N.currentTarget.value,b,{formatInput:!0,hidePopover:!1})}}function Vt(b){b.key==="Escape"&&nt(u.value,{formatInput:!0,hidePopover:!0})}function Ut(b){return x.value?[b&&b.start?a.value.getDateParts(b.start):null,b&&b.end?a.value.getDateParts(b.end):null]:[b?a.value.getDateParts(b):null]}function ct(){c.value=null,U()}function Q(b){t("popover-will-show",b)}function ye(b){t("popover-did-show",b)}function pn(b){ct(),t("popover-will-hide",b)}function gn(b){t("popover-did-hide",b)}function yn(b){const N={patch:"date",formatInput:!0,hidePopover:!0};if(x.value){const G=!_.value;G?g={start:b.startDate,end:b.endDate}:g!=null&&(g.end=b.date),nt(g,{...N,dragging:G})}else nt(b.date,{...N,clearIfEqual:!e.isRequired})}function bn(b,N){yn(b),t("dayclick",b,N)}function Tn(b,N){switch(N.key){case" ":case"Enter":{yn(b),N.preventDefault();break}case"Escape":Ir()}t("daykeydown",b,N)}function Jn(b,N){!_.value||g==null||(g.end=b.date,nt(ka(g),{patch:"date",formatInput:!0}))}function js(b={}){Lo({...K.value,...b,isInteractive:!0,id:l.value})}function Ir(b={}){da({hideDelay:10,force:!0,...K.value,...b,id:l.value})}function Hs(b){Pf({...K.value,...b,isInteractive:!0,id:l.value})}function ka(b,N){const{start:G,end:oe}=b;if(G>oe)switch(N){case"start":return{start:G,end:G};case"end":return{start:oe,end:oe};default:return{start:oe,end:G}}return{start:G,end:oe}}async function Ea(b,N={}){return h.value==null?!1:h.value.move(b,N)}async function Vs(b,N={}){return h.value==null?!1:h.value.moveBy(b,N)}async function Aa(b,N={}){const G=u.value;if(h.value==null||!Me(G))return!1;const oe=b!=="end",Ee=oe?1:-1,rt=X(G)?oe?G.start:G.end:G,gt=df(rt,"monthly",a.value);return h.value.move(gt,{position:Ee,...N})}me(()=>e.isRange,b=>{b&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),me(()=>x.value,()=>{lt(null,{formatInput:!0})}),me(()=>E.value,()=>U()),me(()=>e.modelValue,b=>{y&&lt(b,{formatInput:!0,hidePopover:!1})}),me(()=>J.value,()=>{fn(e.rules)&&lt(e.modelValue,{formatInput:!0,hidePopover:!1})}),me(()=>e.timezone,()=>{lt(u.value,{formatInput:!0})});const Ta=ae(M.value);u.value=At(e.modelValue??null,Ta,"dateTime"),Ce(()=>{lt(e.modelValue,{formatInput:!0,hidePopover:!1})}),_t(()=>i.value=!0);const H={...r,showCalendar:i,datePickerPopoverId:l,popoverRef:f,popoverEvents:V,calendarRef:h,isRange:x,isTimeMode:k,isDateTimeMode:D,is24hr:Ot(e,"is24hr"),hideTimeHeader:Ot(e,"hideTimeHeader"),timeAccuracy:Ot(e,"timeAccuracy"),isDragging:_,inputValue:Z,inputEvents:se,dateParts:L,attributes:B,rules:J,move:Ea,moveBy:Vs,moveToValue:Aa,updateValue:nt,showPopover:js,hidePopover:Ir,togglePopover:Hs,onDayClick:bn,onDayKeydown:Tn,onDayMouseEnter:Jn,onPopoverBeforeShow:Q,onPopoverAfterShow:ye,onPopoverBeforeHide:pn,onPopoverAfterHide:gn};return We(jf,H),H}function Wi(){const e=Fe(jf);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const gk=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],yk=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function bk(e){const t=Wi(),{locale:n,isRange:r,isTimeMode:a,dateParts:s,rules:o,is24hr:i,hideTimeHeader:l,timeAccuracy:u,updateValue:c}=t;function d(P){P=Object.assign(h.value,P);let I=null;if(r.value){const K=f.value?P:s.value[0],V=f.value?s.value[1]:P;I={start:K,end:V}}else I=P;c(I,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=$(()=>e.position===0),h=$(()=>s.value[e.position]||{isValid:!1}),m=$(()=>Ri(h.value)),g=$(()=>!!h.value.isValid),y=$(()=>!l.value&&g.value),x=$(()=>{if(!m.value)return null;let P=n.value.toDate(h.value);return h.value.hours===24&&(P=new Date(P.getTime()-1)),P}),w=$({get(){return h.value.hours},set(P){d({hours:P})}}),C=$({get(){return h.value.minutes},set(P){d({minutes:P})}}),S=$({get(){return h.value.seconds},set(P){d({seconds:P})}}),D=$({get(){return h.value.milliseconds},set(P){d({milliseconds:P})}}),k=$({get(){return h.value.hours<12},set(P){P=String(P).toLowerCase()=="true";let I=w.value;P&&I>=12?I-=12:!P&&I<12&&(I+=12),d({hours:I})}}),_=$(()=>NC(h.value,o.value[e.position])),M=$(()=>gk.filter(P=>_.value.hours.some(I=>I.value===P.value))),L=$(()=>yk.filter(P=>_.value.hours.some(I=>I.value===P.value))),E=$(()=>i.value?_.value.hours:k.value?M.value:L.value),O=$(()=>{const P=[];return cn(M.value)&&P.push({value:!0,label:"AM"}),cn(L.value)&&P.push({value:!1,label:"PM"}),P});return{...t,showHeader:y,timeAccuracy:u,parts:h,isValid:g,date:x,hours:w,minutes:C,seconds:S,milliseconds:D,options:_,hourOptions:E,isAM:k,isAMOptions:O,is24hr:i}}const wk=["value"],_k=["value","disabled"],$k={key:1,class:"vc-base-sizer","aria-hidden":"true"},Dk={inheritAttrs:!1},jr=le({...Dk,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(e){const t=e,n=$(()=>{const r=t.options.find(a=>a.value===t.modelValue);return r==null?void 0:r.label});return(r,a)=>(T(),j("div",{class:ne(["vc-base-select",{"vc-fit-content":e.fitContent,"vc-has-icon":e.showIcon}])},[A("select",Ve(r.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft}],onChange:a[0]||(a[0]=s=>r.$emit("update:modelValue",s.target.value))}),[(T(!0),j(fe,null,Te(e.options,s=>(T(),j("option",{key:s.value,value:s.value,disabled:s.disabled},re(s.label),9,_k))),128))],16,wk),e.showIcon?(T(),ge(wr,{key:0,name:"ChevronDown",size:"18"})):ie("",!0),e.fitContent?(T(),j("div",$k,re(v(n)),1)):ie("",!0)],2))}}),Sk={key:0,class:"vc-time-header"},xk={class:"vc-time-weekday"},Ok={class:"vc-time-month"},Pk={class:"vc-time-day"},Ck={class:"vc-time-year"},Mk={class:"vc-time-select-group"},kk=A("span",{class:"vc-time-colon"},":",-1),Ek=A("span",{class:"vc-time-colon"},":",-1),Ak=A("span",{class:"vc-time-decimal"},".",-1),Vu=le({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const r=bk(e);t(r);const{locale:a,isValid:s,date:o,hours:i,minutes:l,seconds:u,milliseconds:c,options:d,hourOptions:f,isTimeMode:h,isAM:m,isAMOptions:g,is24hr:y,showHeader:x,timeAccuracy:w}=r;return(C,S)=>(T(),j("div",{class:ne(["vc-time-picker",[{"vc-invalid":!v(s),"vc-attached":!v(h)}]])},[Y(xt,{name:"time-header"},{default:q(()=>[v(x)&&v(o)?(T(),j("div",Sk,[A("span",xk,re(v(a).formatDate(v(o),"WWW")),1),A("span",Ok,re(v(a).formatDate(v(o),"MMM")),1),A("span",Pk,re(v(a).formatDate(v(o),"D")),1),A("span",Ck,re(v(a).formatDate(v(o),"YYYY")),1)])):ie("",!0)]),_:1}),A("div",Mk,[Y(wr,{name:"Clock",size:"17"}),Y(jr,{modelValue:v(i),"onUpdate:modelValue":S[0]||(S[0]=D=>st(i)?i.value=D:null),modelModifiers:{number:!0},options:v(f),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),v(w)>1?(T(),j(fe,{key:0},[kk,Y(jr,{modelValue:v(l),"onUpdate:modelValue":S[1]||(S[1]=D=>st(l)?l.value=D:null),modelModifiers:{number:!0},options:v(d).minutes,class:"vc-time-select-minutes","align-left":v(w)===2},null,8,["modelValue","options","align-left"])],64)):ie("",!0),v(w)>2?(T(),j(fe,{key:1},[Ek,Y(jr,{modelValue:v(u),"onUpdate:modelValue":S[2]||(S[2]=D=>st(u)?u.value=D:null),modelModifiers:{number:!0},options:v(d).seconds,class:"vc-time-select-seconds","align-left":v(w)===3},null,8,["modelValue","options","align-left"])],64)):ie("",!0),v(w)>3?(T(),j(fe,{key:2},[Ak,Y(jr,{modelValue:v(c),"onUpdate:modelValue":S[3]||(S[3]=D=>st(c)?c.value=D:null),modelModifiers:{number:!0},options:v(d).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):ie("",!0),v(y)?ie("",!0):(T(),ge(jr,{key:3,modelValue:v(m),"onUpdate:modelValue":S[4]||(S[4]=D=>st(m)?m.value=D:null),options:v(g)},null,8,["modelValue","options"]))])],2))}}),Hf=le({__name:"DatePickerBase",setup(e){const{attributes:t,calendarRef:n,color:r,displayMode:a,isDateTimeMode:s,isTimeMode:o,isRange:i,onDayClick:l,onDayMouseEnter:u,onDayKeydown:c}=Wi(),d=i.value?[0,1]:[0];return(f,h)=>v(o)?(T(),j("div",{key:0,class:ne(`vc-container vc-bordered vc-${v(r)} vc-${v(a)}`)},[(T(!0),j(fe,null,Te(v(d),m=>(T(),ge(Vu,{key:m,position:m},null,8,["position"]))),128))],2)):(T(),ge(hk,{key:1,attributes:v(t),ref_key:"calendarRef",ref:n,onDayclick:v(l),onDaymouseenter:v(u),onDaykeydown:v(c)},{footer:q(()=>[v(s)?(T(!0),j(fe,{key:0},Te(v(d),m=>(T(),ge(Vu,{key:m,position:m},null,8,["position"]))),128)):ie("",!0),Y(xt,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),Tk={inheritAttrs:!1},Ik=le({...Tk,__name:"DatePickerPopover",setup(e){const{datePickerPopoverId:t,color:n,displayMode:r,popoverRef:a,onPopoverBeforeShow:s,onPopoverAfterShow:o,onPopoverBeforeHide:i,onPopoverAfterHide:l}=Wi();return(u,c)=>(T(),ge(Yi,{id:v(t),placement:"bottom-start",class:ne(`vc-date-picker-content vc-${v(n)} vc-${v(r)}`),ref_key:"popoverRef",ref:a,onBeforeShow:v(s),onAfterShow:v(o),onBeforeHide:v(i),onAfterHide:v(l)},{default:q(()=>[Y(Hf,Qr(wo(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),Rk=le({inheritAttrs:!1,emits:mk,props:vk,components:{DatePickerBase:Hf,DatePickerPopover:Ik},setup(e,t){const n=pk(e,t),r=ya(of(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function Fk(e,t,n,r,a,s){const o=Le("DatePickerPopover"),i=Le("DatePickerBase");return e.$slots.default?(T(),j(fe,{key:0},[ht(e.$slots,"default",Qr(wo(e.slotCtx))),Y(o,Qr(wo(e.$attrs)),null,16)],64)):(T(),ge(i,Qr(Ve({key:1},e.$attrs)),null,16))}const Uu=En(Rk,[["render",Fk]]),Nk=le({inheritAttrs:!1,__name:"DatePicker",props:{modelValue:{type:[Date,Object],default:null}},emits:["update:model-value","close"],setup(e,{emit:t}){const n=e,r=t,a=$({get:()=>n.modelValue,set:i=>{r("update:model-value",i),r("close")}}),s={transparent:!0,borderless:!0,color:"primary","is-dark":{selector:"html",darkClass:"dark"},"first-day-of-week":2};function o(i,l){l.target.blur()}return(i,l)=>{var u,c;return v(a)&&((u=v(a))!=null&&u.start)&&((c=v(a))!=null&&c.end)?(T(),ge(v(Uu),Ve({key:0,modelValue:v(a),"onUpdate:modelValue":l[0]||(l[0]=d=>st(a)?a.value=d:null),modelModifiers:{range:!0},columns:2},{...s,...i.$attrs},{onDayclick:o}),null,16,["modelValue"])):(T(),ge(v(Uu),Ve({key:1,modelValue:v(a),"onUpdate:modelValue":l[1]||(l[1]=d=>st(a)?a.value=d:null)},{...s,...i.$attrs},{onDayclick:o}),null,16,["modelValue"]))}}}),oo=pa(vt.ui.strategy,vt.ui.popover,Ov),Lk=le({components:{HPopover:td,HPopoverButton:Hm,HPopoverPanel:Vm},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>oo.default.openDelay},closeDelay:{type:Number,default:()=>oo.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:n,attrs:r}=aa("popover",Ot(e,"ui"),oo,Ot(e,"class")),a=$(()=>$c(e.mode==="hover"?{offsetDistance:0}:{},e.popper,n.value.popper)),[s,o]=$d(a.value),i=W(null),l=W(null);let u=null,c=null;Ce(()=>{var x,w;const g=(x=i.value)==null?void 0:x.$.provides;if(!g)return;const y=Object.getOwnPropertySymbols(g);l.value=y.length&&g[y[0]],e.open&&((w=l.value)==null||w.togglePopover())});const d=$(()=>{var w,C,S;if(e.mode!=="hover")return{};const g=((w=e.popper)==null?void 0:w.offsetDistance)||((C=n.value.popper)==null?void 0:C.offsetDistance)||8,y=(S=a.value.placement)==null?void 0:S.split("-")[0],x=`${g}px`;return y==="top"||y==="bottom"?{paddingTop:x,paddingBottom:x}:y==="left"||y==="right"?{paddingLeft:x,paddingRight:x}:{paddingTop:x,paddingBottom:x,paddingLeft:x,paddingRight:x}});function f(g){!g.cancelable||!l.value||e.mode==="click"||(l.value.popoverState===0?l.value.closePopover():l.value.togglePopover())}function h(){e.mode!=="hover"||!l.value||(c&&(clearTimeout(c),c=null),l.value.popoverState!==0&&(u=u||setTimeout(()=>{l.value.togglePopover&&l.value.togglePopover(),u=null},e.openDelay)))}function m(){e.mode!=="hover"||!l.value||(u&&(clearTimeout(u),u=null),l.value.popoverState!==1&&(c=c||setTimeout(()=>{l.value.closePopover&&l.value.closePopover(),c=null},e.closeDelay)))}return me(()=>e.open,(g,y)=>{l.value&&(y===void 0||g===y||(g?l.value.popoverState=0:l.value.closePopover()))}),me(()=>{var g;return(g=l.value)==null?void 0:g.popoverState},(g,y)=>{y===void 0||g===y||t("update:open",g===0)}),ei(()=>$s()),{ui:n,attrs:r,popover:i,popper:a,trigger:s,container:o,containerStyle:d,onTouchStart:f,onMouseEnter:h,onMouseLeave:m}}}),Yk=["disabled"];function Wk(e,t,n,r,a,s){const o=Le("HPopoverButton"),i=Le("HPopoverPanel"),l=Le("HPopover");return T(),ge(l,Ve({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:q(({open:u,close:c})=>[Y(o,{ref:"trigger",as:"div",disabled:e.disabled,class:ne(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:q(()=>[ht(e.$slots,"default",{open:u,close:c},()=>[A("button",{disabled:e.disabled}," Open ",8,Yk)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(T(),ge(sa,Ve({key:0,appear:""},e.ui.overlay.transition),{default:q(()=>[u?(T(),j("div",{key:0,class:ne([e.ui.overlay.base,e.ui.overlay.background])},null,2)):ie("",!0)]),_:2},1040)):ie("",!0),u?(T(),j("div",{key:1,ref:"container",class:ne([e.ui.container,e.ui.width]),style:ke(e.containerStyle),onMouseenter:t[0]||(t[0]=(...d)=>e.onMouseEnter&&e.onMouseEnter(...d))},[Y(sa,Ve({appear:""},e.ui.transition),{default:q(()=>[A("div",null,[e.popper.arrow?(T(),j("div",{key:0,"data-popper-arrow":"",class:ne(Object.values(e.ui.arrow))},null,2)):ie("",!0),Y(i,{class:ne([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:q(()=>[ht(e.$slots,"panel",{open:u,close:c})]),_:2},1032,["class"])])]),_:2},1040)],38)):ie("",!0)]),_:3},16,["class","onMouseleave"])}const Bk=ga(Lk,[["render",Wk]]),jk=pa(vt.ui.strategy,vt.ui.modal,xv),Hk=le({components:{HDialog:Lm,HDialogPanel:Ym,TransitionRoot:sd,TransitionChild:ad},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:r}=aa("modal",Ot(e,"ui"),jk,Ot(e,"class")),a=$({get(){return e.modelValue},set(l){t("update:modelValue",l)}}),s=$(()=>e.transition?{...n.value.transition}:{});function o(l){if(e.preventClose){t("close-prevented");return}a.value=l,t("close")}const i=()=>{t("after-leave")};return ei(()=>$s()),{ui:n,attrs:r,isOpen:a,transitionClass:s,onAfterLeave:i,close:o}}});function Vk(e,t,n,r,a,s){const o=Le("TransitionChild"),i=Le("HDialogPanel"),l=Le("HDialog"),u=Le("TransitionRoot");return T(),ge(u,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:q(()=>[Y(l,Ve({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:q(()=>[e.overlay?(T(),ge(o,Ve({key:0,as:"template",appear:e.appear},e.ui.overlay.transition,{class:e.ui.overlay.transition.enterFrom}),{default:q(()=>[A("div",{class:ne([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear","class"])):ie("",!0),A("div",{class:ne(e.ui.inner)},[A("div",{class:ne([e.ui.container,!e.fullscreen&&e.ui.padding])},[Y(o,Ve({as:"template",appear:e.appear},e.transitionClass,{class:e.transitionClass.enterFrom}),{default:q(()=>[Y(i,{class:ne([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:q(()=>[ht(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear","class"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Uk=ga(Hk,[["render",Vk]]),Vf=6048e5,zk=864e5,zu=Symbol.for("constructDateFrom");function Mn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&zu in e?e[zu](t):e instanceof Date?new e.constructor(t):new Date(t)}function jt(e,t){return Mn(t||e,e)}let qk={};function Ts(){return qk}function fa(e,t){var i,l,u,c;const n=Ts(),r=(t==null?void 0:t.weekStartsOn)??((l=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,a=jt(e,t==null?void 0:t.in),s=a.getDay(),o=(s<r?7:0)+s-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function gs(e,t){return fa(e,{...t,weekStartsOn:1})}function Uf(e,t){const n=jt(e,t==null?void 0:t.in),r=n.getFullYear(),a=Mn(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=gs(a),o=Mn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=gs(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function qu(e){const t=jt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Gk(e,...t){const n=Mn.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Gu(e,t){const n=jt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Kk(e,t,n){const[r,a]=Gk(n==null?void 0:n.in,e,t),s=Gu(r),o=Gu(a),i=+s-qu(s),l=+o-qu(o);return Math.round((i-l)/zk)}function Xk(e,t){const n=Uf(e,t),r=Mn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gs(r)}function Jk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zk(e){return!(!Jk(e)&&typeof e!="number"||isNaN(+jt(e)))}function Qk(e,t){const n=jt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tE=(e,t,n)=>{let r;const a=eE[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function io(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sE={date:io({formats:nE,defaultWidth:"full"}),time:io({formats:rE,defaultWidth:"full"}),dateTime:io({formats:aE,defaultWidth:"full"})},oE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iE=(e,t,n,r)=>oE[e];function Hr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;a=e.formattingValues[i]||e.formattingValues[o]}else{const o=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[i]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const lE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vE=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mE={ordinalNumber:vE,era:Hr({values:lE,defaultWidth:"wide"}),quarter:Hr({values:uE,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hr({values:cE,defaultWidth:"wide"}),day:Hr({values:dE,defaultWidth:"wide"}),dayPeriod:Hr({values:fE,defaultWidth:"wide",formattingValues:hE,defaultFormattingWidth:"wide"})};function Vr(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?gE(i,d=>d.test(o)):pE(i,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(o.length);return{value:u,rest:c}}}function pE(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gE(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const i=t.slice(a.length);return{value:o,rest:i}}}const bE=/^(\d+)(th|st|nd|rd)?/i,wE=/\d+/i,_E={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$E={any:[/^b/i,/^(a|c)/i]},DE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SE={any:[/1/i,/2/i,/3/i,/4/i]},xE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ME={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EE={ordinalNumber:yE({matchPattern:bE,parsePattern:wE,valueCallback:e=>parseInt(e,10)}),era:Vr({matchPatterns:_E,defaultMatchWidth:"wide",parsePatterns:$E,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:DE,defaultMatchWidth:"wide",parsePatterns:SE,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vr({matchPatterns:xE,defaultMatchWidth:"wide",parsePatterns:OE,defaultParseWidth:"any"}),day:Vr({matchPatterns:PE,defaultMatchWidth:"wide",parsePatterns:CE,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:ME,defaultMatchWidth:"any",parsePatterns:kE,defaultParseWidth:"any"})},AE={code:"en-US",formatDistance:tE,formatLong:sE,formatRelative:iE,localize:mE,match:EE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TE(e,t){const n=jt(e,t==null?void 0:t.in);return Kk(n,Qk(n))+1}function IE(e,t){const n=jt(e,t==null?void 0:t.in),r=+gs(n)-+Xk(n);return Math.round(r/Vf)+1}function zf(e,t){var c,d,f,h;const n=jt(e,t==null?void 0:t.in),r=n.getFullYear(),a=Ts(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(f=a.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=Mn((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const i=fa(o,t),l=Mn((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=fa(l,t);return+n>=+i?r+1:+n>=+u?r:r-1}function RE(e,t){var i,l,u,c;const n=Ts(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,a=zf(e,t),s=Mn((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),fa(s,t)}function FE(e,t){const n=jt(e,t==null?void 0:t.in),r=+fa(n,t)-+RE(n,t);return Math.round(r/Vf)+1}function be(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const _n={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return be(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):be(n+1,2)},d(e,t){return be(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return be(e.getHours()%12||12,t.length)},H(e,t){return be(e.getHours(),t.length)},m(e,t){return be(e.getMinutes(),t.length)},s(e,t){return be(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return be(a,t.length)}},tr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ku={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return _n.y(e,t)},Y:function(e,t,n,r){const a=zf(e,r),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return be(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):be(s,t.length)},R:function(e,t){const n=Uf(e);return be(n,t.length)},u:function(e,t){const n=e.getFullYear();return be(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return be(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return be(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return _n.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return be(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=FE(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):be(a,t.length)},I:function(e,t,n){const r=IE(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):be(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_n.d(e,t)},D:function(e,t,n){const r=TE(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):be(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return be(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return be(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return be(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=tr.noon:r===0?a=tr.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=tr.evening:r>=12?a=tr.afternoon:r>=4?a=tr.morning:a=tr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _n.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_n.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_n.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_n.s(e,t)},S:function(e,t){return _n.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ju(r);case"XXXX":case"XX":return Ln(r);case"XXXXX":case"XXX":default:return Ln(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ju(r);case"xxxx":case"xx":return Ln(r);case"xxxxx":case"xxx":default:return Ln(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xu(r,":");case"OOOO":default:return"GMT"+Ln(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xu(r,":");case"zzzz":default:return"GMT"+Ln(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return be(r,t.length)},T:function(e,t,n){return be(+e,t.length)}};function Xu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+be(s,2)}function Ju(e,t){return e%60===0?(e>0?"-":"+")+be(Math.abs(e)/60,2):Ln(e,t)}function Ln(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=be(Math.trunc(r/60),2),s=be(r%60,2);return n+a+t+s}const Zu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qf=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NE=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Zu(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Zu(r,t)).replace("{{time}}",qf(a,t))},LE={p:qf,P:NE},YE=/^D+$/,WE=/^Y+$/,BE=["D","DD","YY","YYYY"];function jE(e){return YE.test(e)}function HE(e){return WE.test(e)}function VE(e,t,n){const r=UE(e,t,n);if(console.warn(r),BE.includes(e))throw new RangeError(r)}function UE(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GE=/^'([^]*?)'?$/,KE=/''/g,XE=/[a-zA-Z]/;function JE(e,t,n){var c,d,f,h,m,g,y,x;const r=Ts(),a=(n==null?void 0:n.locale)??r.locale??AE,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,i=jt(e,n==null?void 0:n.in);if(!Zk(i))throw new RangeError("Invalid time value");let l=t.match(qE).map(w=>{const C=w[0];if(C==="p"||C==="P"){const S=LE[C];return S(w,a.formatLong)}return w}).join("").match(zE).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const C=w[0];if(C==="'")return{isToken:!1,value:ZE(w)};if(Ku[C])return{isToken:!0,value:w};if(C.match(XE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(l=a.localize.preprocessor(i,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return l.map(w=>{if(!w.isToken)return w.value;const C=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HE(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jE(C))&&VE(C,t,String(e));const S=Ku[C[0]];return S(i,C,a.localize,u)}).join("")}function ZE(e){const t=e.match(GE);return t?t[1].replace(KE,"'"):e}const Yo="RFC3986",Wo={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},QE="RFC1738",eA=Array.isArray,zt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),lo=1024,tA=(e,t,n,r,a)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(i){return"%26%23"+parseInt(i.slice(2),16)+"%3B"});let o="";for(let i=0;i<s.length;i+=lo){const l=s.length>=lo?s.slice(i,i+lo):s,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===QE&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=zt[d];continue}if(d<2048){u[u.length]=zt[192|d>>6]+zt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=zt[224|d>>12]+zt[128|d>>6&63]+zt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=zt[240|d>>18]+zt[128|d>>12&63]+zt[128|d>>6&63]+zt[128|d&63]}o+=u.join("")}return o};function nA(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Qu(e,t){if(eA(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const rA=Object.prototype.hasOwnProperty,Gf={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Gt=Array.isArray,aA=Array.prototype.push,Kf=function(e,t){aA.apply(e,Gt(t)?t:[t])},sA=Date.prototype.toISOString,je={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:tA,encodeValuesOnly:!1,format:Yo,formatter:Wo[Yo],indices:!1,serializeDate(e){return sA.call(e)},skipNulls:!1,strictNullHandling:!1};function oA(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const uo={};function Xf(e,t,n,r,a,s,o,i,l,u,c,d,f,h,m,g,y,x){let w=e,C=x,S=0,D=!1;for(;(C=C.get(uo))!==void 0&&!D;){const E=C.get(e);if(S+=1,typeof E<"u"){if(E===S)throw new RangeError("Cyclic object value");D=!0}typeof C.get(uo)>"u"&&(S=0)}if(typeof u=="function"?w=u(t,w):w instanceof Date?w=f==null?void 0:f(w):n==="comma"&&Gt(w)&&(w=Qu(w,function(E){return E instanceof Date?f==null?void 0:f(E):E})),w===null){if(s)return l&&!g?l(t,je.encoder,y,"key",h):t;w=""}if(oA(w)||nA(w)){if(l){const E=g?t:l(t,je.encoder,y,"key",h);return[(m==null?void 0:m(E))+"="+(m==null?void 0:m(l(w,je.encoder,y,"value",h)))]}return[(m==null?void 0:m(t))+"="+(m==null?void 0:m(String(w)))]}const k=[];if(typeof w>"u")return k;let _;if(n==="comma"&&Gt(w))g&&l&&(w=Qu(w,l)),_=[{value:w.length>0?w.join(",")||null:void 0}];else if(Gt(u))_=u;else{const E=Object.keys(w);_=c?E.sort(c):E}const M=i?String(t).replace(/\./g,"%2E"):String(t),L=r&&Gt(w)&&w.length===1?M+"[]":M;if(a&&Gt(w)&&w.length===0)return L+"[]";for(let E=0;E<_.length;++E){const O=_[E],P=typeof O=="object"&&typeof O.value<"u"?O.value:w[O];if(o&&P===null)continue;const I=d&&i?O.replace(/\./g,"%2E"):O,K=Gt(w)?typeof n=="function"?n(L,I):L:L+(d?"."+I:"["+I+"]");x.set(e,S);const V=new WeakMap;V.set(uo,x),Kf(k,Xf(P,K,n,r,a,s,o,i,n==="comma"&&g&&Gt(w)?null:l,u,c,d,f,h,m,g,y,V))}return k}function iA(e=je){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||je.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Yo;if(typeof e.format<"u"){if(!rA.call(Wo,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Wo[n];let a=je.filter;(typeof e.filter=="function"||Gt(e.filter))&&(a=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Gf?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=je.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:je.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:je.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:je.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:je.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?je.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:je.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:je.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:je.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:je.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:je.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:je.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:je.strictNullHandling}}function lA(e,t={}){let n=e;const r=iA(t);let a,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Gt(r.filter)&&(s=r.filter,a=s);const o=[];if(typeof n!="object"||n===null)return"";const i=Gf[r.arrayFormat],l=i==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);const u=new WeakMap;for(let f=0;f<a.length;++f){const h=a[f];r.skipNulls&&n[h]===null||Kf(o,Xf(n[h],h,i,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}const sr="4.85.4";let ec=!1,na,Jf,Zf,Bo,Qf,eh,th,nh,rh;function uA(e,t={auto:!1}){if(ec)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(na)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${na}'\``);ec=t.auto,na=e.kind,Jf=e.fetch,Zf=e.FormData,Bo=e.File,Qf=e.ReadableStream,eh=e.getMultipartRequestOptions,th=e.getDefaultAgent,nh=e.fileFromPath,rh=e.isFsReadStream}class cA{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function dA({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,a,s;try{n=fetch,r=Request,a=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,i)=>({...i,body:new cA(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}na||uA(dA(),{auto:!0});class ue extends Error{}class qe extends ue{constructor(t,n,r,a){super(`${qe.makeMessage(t,n,r)}`),this.status=t,this.headers=a,this.request_id=a==null?void 0:a["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,r,a){if(!t||!a)return new Is({message:r,cause:Ho(n)});const s=n==null?void 0:n.error;return t===400?new ah(t,s,r,a):t===401?new sh(t,s,r,a):t===403?new oh(t,s,r,a):t===404?new ih(t,s,r,a):t===409?new lh(t,s,r,a):t===422?new uh(t,s,r,a):t===429?new ch(t,s,r,a):t>=500?new dh(t,s,r,a):new qe(t,s,r,a)}}class Ft extends qe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Is extends qe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Bi extends Is{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ah extends qe{}class sh extends qe{}class oh extends qe{}class ih extends qe{}class lh extends qe{}class uh extends qe{}class ch extends qe{}class dh extends qe{}class fh extends ue{constructor(){super("Could not parse response content as the length limit was reached")}}class hh extends ue{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var ja=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Fn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},bt;class Rs{constructor(){bt.set(this,void 0),this.buffer=new Uint8Array,ja(this,bt,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const a=[];let s;for(;(s=fA(this.buffer,Fn(this,bt,"f")))!=null;){if(s.carriage&&Fn(this,bt,"f")==null){ja(this,bt,s.index,"f");continue}if(Fn(this,bt,"f")!=null&&(s.index!==Fn(this,bt,"f")+1||s.carriage)){a.push(this.decodeText(this.buffer.slice(0,Fn(this,bt,"f")-1))),this.buffer=this.buffer.slice(Fn(this,bt,"f")),ja(this,bt,null,"f");continue}const o=Fn(this,bt,"f")!==null?s.preceding-1:s.preceding,i=this.decodeText(this.buffer.slice(0,o));a.push(i),this.buffer=this.buffer.slice(s.index),ja(this,bt,null,"f")}return a}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new ue(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new ue(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new ue("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}bt=new WeakMap;Rs.NEWLINE_CHARS=new Set([`
`,"\r"]);Rs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fA(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function hA(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function vh(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Zt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of vA(t,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null){let i;try{i=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(i&&i.error)throw new qe(void 0,i.error,void 0,void 0);yield i}else{let i;try{i=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new qe(void 0,i.error,i.message,void 0);yield{event:o.event,data:i}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Zt(a,n)}static fromReadableStream(t,n){let r=!1;async function*a(){const o=new Rs,i=vh(t);for await(const l of i)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const i of a())o||i&&(yield JSON.parse(i));o=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{o||n.abort()}}return new Zt(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),a=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new Zt(()=>a(t),this.controller),new Zt(()=>a(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Qf({async start(){n=t[Symbol.asyncIterator]()},async pull(a){try{const{value:s,done:o}=await n.next();if(o)return a.close();const i=r.encode(JSON.stringify(s)+`
`);a.enqueue(i)}catch(s){a.error(s)}},async cancel(){var a;await((a=n.return)==null?void 0:a.call(n))}})}}async function*vA(e,t){if(!e.body)throw t.abort(),new ue("Attempted to iterate over a response with no body");const n=new pA,r=new Rs,a=vh(e.body);for await(const s of mA(a))for(const o of r.decode(s)){const i=n.decode(o);i&&(yield i)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*mA(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let a=new Uint8Array(t.length+r.length);a.set(t),a.set(r,t.length),t=a;let s;for(;(s=hA(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class pA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,a]=gA(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function gA(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const mh=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",ph=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Fs(e),Fs=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",yA=e=>ph(e)||mh(e)||rh(e);async function gh(e,t,n){var a;if(e=await e,ph(e))return e;if(mh(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Fs(s)?[await s.arrayBuffer()]:[s];return new Bo(o,t,n)}const r=await bA(e);if(t||(t=_A(e)??"unknown_file"),!(n!=null&&n.type)){const s=(a=r[0])==null?void 0:a.type;typeof s=="string"&&(n={...n,type:s})}return new Bo(r,t,n)}async function bA(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Fs(e))t.push(await e.arrayBuffer());else if($A(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${wA(e)}`);return t}function wA(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function _A(e){var t;return co(e.name)||co(e.filename)||((t=co(e.path))==null?void 0:t.split(/[\\/]/).pop())}const co=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},$A=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",tc=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",_r=async e=>{const t=await DA(e.body);return eh(t,e)},DA=async e=>{const t=new Zf;return await Promise.all(Object.entries(e||{}).map(([n,r])=>jo(t,n,r))),t},jo=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(yA(n)){const r=await gh(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>jo(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,a])=>jo(e,`${t}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var dr={},SA=function(e,t,n,r,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},xA=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ha;async function yh(e){const{response:t}=e;if(e.options.stream)return fr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Zt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await t.json();return fr("response",t.status,t.url,t.headers,s),bh(s,t)}const a=await t.text();return fr("response",t.status,t.url,t.headers,a),a}function bh(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Ns extends Promise{constructor(t,n=yh){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Ns(this.responsePromise,async n=>bh(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class OA{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:s}){this.baseURL=t,this.maxRetries=fo("maxRetries",n),this.timeout=fo("timeout",r),this.httpAgent=a,this.fetch=s??Jf}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...AA(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${FA()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async a=>{const s=a&&Fs(a==null?void 0:a.body)?new DataView(await a.body.arrayBuffer()):(a==null?void 0:a.body)instanceof DataView?a.body:(a==null?void 0:a.body)instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a==null?void 0:a.body)?new DataView(a.body.buffer):a==null?void 0:a.body;return{method:t,path:n,...a,body:s}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var m;t={...t};const{method:r,path:a,query:s,headers:o={}}=t,i=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:tc(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(i),u=this.buildURL(a,s);"timeout"in t&&fo("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const c=t.httpAgent??this.httpAgent??th(u),d=t.timeout+1e3;typeof((m=c==null?void 0:c.options)==null?void 0:m.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const f=this.buildHeaders({options:t,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...i&&{body:i},headers:f,...c&&{agent:c},signal:t.signal??null},url:u,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:a}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(t);return sc(s,o),sc(s,n),tc(t.body)&&na!=="node"&&delete s["content-type"],Ua(o,"x-stainless-retry-count")===void 0&&Ua(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(a)),Ua(o,"x-stainless-timeout")===void 0&&Ua(n,"x-stainless-timeout")===void 0&&t.timeout&&(s["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,a){return qe.generate(t,n,r,a)}request(t,n=null){return new Ns(this.makeRequest(t,n))}async makeRequest(t,n){var d,f;const r=await t,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:s,url:o,timeout:i}=this.buildRequest(r,{retryCount:a-n});if(await this.prepareRequest(s,{url:o,options:r}),fr("request",o,r,s.headers),(d=r.signal)!=null&&d.aborted)throw new Ft;const l=new AbortController,u=await this.fetchWithTimeout(o,s,i,l).catch(Ho);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new Ft;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Bi:new Is({cause:u})}const c=CA(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const w=`retrying, ${n} attempts remaining`;return fr(`response (error; ${w})`,u.status,o,c),this.retryRequest(r,n,c)}const h=await u.text().catch(w=>Ho(w).message),m=TA(h),g=m?void 0:h;throw fr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,c,g),this.makeStatusError(u.status,m,g,c)}return{response:u,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new PA(this,r,t)}buildURL(t,n){const r=RA(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return _h(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ue(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,a){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>a.abort());const i=setTimeout(()=>a.abort(),r),l={signal:a.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(i)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let a;const s=r==null?void 0:r["retry-after-ms"];if(s){const i=parseFloat(s);Number.isNaN(i)||(a=i)}const o=r==null?void 0:r["retry-after"];if(o&&!a){const i=parseFloat(o);Number.isNaN(i)?a=Date.parse(o)-Date.now():a=i*1e3}if(!(a&&0<=a&&a<60*1e3)){const i=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,i)}return await xa(a),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),i=1-Math.random()*.25;return o*i*1e3}getUserAgent(){return`${this.constructor.name}/JS ${sr}`}}class wh{constructor(t,n,r,a){Ha.set(this,void 0),SA(this,Ha,t),this.options=a,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new ue("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[a,s]of r)t.url.searchParams.set(a,s);n.query=void 0,n.path=t.url.toString()}return await xA(this,Ha,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ha=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class PA extends Ns{constructor(t,n,r){super(n,async a=>new r(t,a.response,await yh(a),a.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const CA=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),MA={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Qe=e=>typeof e=="object"&&e!==null&&!_h(e)&&Object.keys(e).every(t=>$h(MA,t)),kA=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sr,"X-Stainless-OS":rc(Deno.build.os),"X-Stainless-Arch":nc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sr,"X-Stainless-OS":rc(process.platform),"X-Stainless-Arch":nc(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=EA();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EA(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${a}.${s}.${o}`}}}return null}const nc=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",rc=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ac;const AA=()=>ac??(ac=kA()),TA=e=>{try{return JSON.parse(e)}catch{return}},IA=/^[a-z][a-z0-9+.-]*:/i,RA=e=>IA.test(e),xa=e=>new Promise(t=>setTimeout(t,e)),fo=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ue(`${e} must be an integer`);if(t<0)throw new ue(`${e} must be a positive integer`);return t},Ho=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Va=e=>{var t,n,r,a;if(typeof process<"u")return((t=dr==null?void 0:dr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(a=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:a.trim()};function _h(e){if(!e)return!0;for(const t in e)return!1;return!0}function $h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sc(e,t){for(const n in t){if(!$h(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];a===null?delete e[r]:a!==void 0&&(e[r]=a)}}const oc=new Set(["authorization","api-key"]);function fr(e,...t){if(typeof process<"u"&&(dr==null?void 0:dr.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const o in r.headers)oc.has(o.toLowerCase())&&(s.headers[o]="REDACTED");return s}let a=null;for(const s in r)oc.has(s.toLowerCase())&&(a??(a={...r}),a[s]="REDACTED");return a??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const FA=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),NA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",LA=e=>typeof(e==null?void 0:e.get)=="function",Ua=(e,t)=>{var r;const n=t.toLowerCase();if(LA(e)){const a=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,o,i)=>o+i.toUpperCase());for(const s of[t,n,t.toUpperCase(),a]){const o=e.get(s);if(o)return o}}for(const[a,s]of Object.entries(e))if(a.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s};function ho(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class YA extends wh{constructor(t,n,r,a){super(t,n,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class St extends wh{constructor(t,n,r,a){super(t,n,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class pe{constructor(t){this._client=t}}let Dh=class extends pe{list(t,n={},r){return Qe(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,WA,{query:n,...r})}},Ls=class extends pe{constructor(){super(...arguments),this.messages=new Dh(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/chat/completions",Ys,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Ys extends St{}class WA extends St{}Ls.ChatCompletionsPage=Ys;Ls.Messages=Dh;let Ws=class extends pe{constructor(){super(...arguments),this.completions=new Ls(this._client)}};Ws.Completions=Ls;Ws.ChatCompletionsPage=Ys;class Sh extends pe{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class xh extends pe{create(t,n){return this._client.post("/audio/transcriptions",_r({body:t,...n,__metadata:{model:t.model}}))}}class Oh extends pe{create(t,n){return this._client.post("/audio/translations",_r({body:t,...n,__metadata:{model:t.model}}))}}class Oa extends pe{constructor(){super(...arguments),this.transcriptions=new xh(this._client),this.translations=new Oh(this._client),this.speech=new Sh(this._client)}}Oa.Transcriptions=xh;Oa.Translations=Oh;Oa.Speech=Sh;class ji extends pe{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/batches",Hi,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class Hi extends St{}ji.BatchesPage=Hi;class Vi extends pe{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/assistants",Ui,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ui extends St{}Vi.AssistantsPage=Ui;function ic(e){return typeof e.parse=="function"}const hr=e=>(e==null?void 0:e.role)==="assistant",Ph=e=>(e==null?void 0:e.role)==="function",Ch=e=>(e==null?void 0:e.role)==="tool";var Tt=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Ae=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Vo,es,ts,qr,Gr,ns,Kr,on,Xr,ys,bs,or,Mh;class kh{constructor(){Vo.add(this),this.controller=new AbortController,es.set(this,void 0),ts.set(this,()=>{}),qr.set(this,()=>{}),Gr.set(this,void 0),ns.set(this,()=>{}),Kr.set(this,()=>{}),on.set(this,{}),Xr.set(this,!1),ys.set(this,!1),bs.set(this,!1),or.set(this,!1),Tt(this,es,new Promise((t,n)=>{Tt(this,ts,t,"f"),Tt(this,qr,n,"f")}),"f"),Tt(this,Gr,new Promise((t,n)=>{Tt(this,ns,t,"f"),Tt(this,Kr,n,"f")}),"f"),Ae(this,es,"f").catch(()=>{}),Ae(this,Gr,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Ae(this,Vo,"m",Mh).bind(this))},0)}_connected(){this.ended||(Ae(this,ts,"f").call(this),this._emit("connect"))}get ended(){return Ae(this,Xr,"f")}get errored(){return Ae(this,ys,"f")}get aborted(){return Ae(this,bs,"f")}abort(){this.controller.abort()}on(t,n){return(Ae(this,on,"f")[t]||(Ae(this,on,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Ae(this,on,"f")[t];if(!r)return this;const a=r.findIndex(s=>s.listener===n);return a>=0&&r.splice(a,1),this}once(t,n){return(Ae(this,on,"f")[t]||(Ae(this,on,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Tt(this,or,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Tt(this,or,!0,"f"),await Ae(this,Gr,"f")}_emit(t,...n){if(Ae(this,Xr,"f"))return;t==="end"&&(Tt(this,Xr,!0,"f"),Ae(this,ns,"f").call(this));const r=Ae(this,on,"f")[t];if(r&&(Ae(this,on,"f")[t]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...n))),t==="abort"){const a=n[0];!Ae(this,or,"f")&&!(r!=null&&r.length)&&Promise.reject(a),Ae(this,qr,"f").call(this,a),Ae(this,Kr,"f").call(this,a),this._emit("end");return}if(t==="error"){const a=n[0];!Ae(this,or,"f")&&!(r!=null&&r.length)&&Promise.reject(a),Ae(this,qr,"f").call(this,a),Ae(this,Kr,"f").call(this,a),this._emit("end")}}_emitFinal(){}}es=new WeakMap,ts=new WeakMap,qr=new WeakMap,Gr=new WeakMap,ns=new WeakMap,Kr=new WeakMap,on=new WeakMap,Xr=new WeakMap,ys=new WeakMap,bs=new WeakMap,or=new WeakMap,Vo=new WeakSet,Mh=function(t){if(Tt(this,ys,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Ft),t instanceof Ft)return Tt(this,bs,!0,"f"),this._emit("abort",t);if(t instanceof ue)return this._emit("error",t);if(t instanceof Error){const n=new ue(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new ue(String(t)))};function Eh(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Pa(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function BA(e,t){return!t||!Ah(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:zi(e,t)}function zi(e,t){const n=e.choices.map(r=>{var a;if(r.finish_reason==="length")throw new fh;if(r.finish_reason==="content_filter")throw new hh;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((a=r.message.tool_calls)==null?void 0:a.map(s=>HA(t,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?jA(t,r.message.content):null}}});return{...e,choices:n}}function jA(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function HA(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(a=>{var s;return((s=a.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Pa(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function VA(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(a=>{var s;return((s=a.function)==null?void 0:s.name)===t.function.name});return Pa(n)||(n==null?void 0:n.function.strict)||!1}function Ah(e){var t;return Eh(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Pa(n)||n.type==="function"&&n.function.strict===!0))??!1}function UA(e){for(const t of e??[]){if(t.type!=="function")throw new ue(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new ue(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ft=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ke,Uo,ws,zo,qo,Go,Th,Ko;const lc=10;class Ih extends kh{constructor(){super(...arguments),Ke.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Ph(t)||Ch(t))&&t.content)this._emit("functionCallResult",t.content);else if(hr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(hr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new ue("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),ft(this,Ke,"m",Uo).call(this)}async finalMessage(){return await this.done(),ft(this,Ke,"m",ws).call(this)}async finalFunctionCall(){return await this.done(),ft(this,Ke,"m",zo).call(this)}async finalFunctionCallResult(){return await this.done(),ft(this,Ke,"m",qo).call(this)}async totalUsage(){return await this.done(),ft(this,Ke,"m",Go).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=ft(this,Ke,"m",ws).call(this);n&&this._emit("finalMessage",n);const r=ft(this,Ke,"m",Uo).call(this);r&&this._emit("finalContent",r);const a=ft(this,Ke,"m",zo).call(this);a&&this._emit("finalFunctionCall",a);const s=ft(this,Ke,"m",qo).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",ft(this,Ke,"m",Go).call(this))}async _createChatCompletion(t,n,r){const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),ft(this,Ke,"m",Th).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(zi(s,n))}async _runChatCompletion(t,n,r){for(const a of n.messages)this._addMessage(a,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var f;const a="function",{function_call:s="auto",stream:o,...i}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=lc}=r||{},c={};for(const h of n.functions)c[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const g=(f=(await this._createChatCompletion(t,{...i,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!g)throw new ue("missing message in ChatCompletion response");if(!g.function_call)return;const{name:y,arguments:x}=g.function_call,w=c[y];if(w){if(l&&l!==y){const k=`Invalid function_call: ${JSON.stringify(y)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,name:y,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(y)}. Available options are: ${d.map(_=>JSON.stringify(_.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:y,content:k});continue}let C;try{C=ic(w)?await w.parse(x):x}catch(k){this._addMessage({role:a,name:y,content:k instanceof Error?k.message:String(k)});continue}const S=await w.function(C,this),D=ft(this,Ke,"m",Ko).call(this,S);if(this._addMessage({role:a,name:y,content:D}),l)return}}async _runTools(t,n,r){var h,m,g;const a="tool",{tool_choice:s="auto",stream:o,...i}=n,l=typeof s!="string"&&((h=s==null?void 0:s.function)==null?void 0:h.name),{maxChatCompletions:u=lc}=r||{},c=n.tools.map(y=>{if(Pa(y)){if(!y.$callback)throw new ue("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),d={};for(const y of c)y.type==="function"&&(d[y.function.name||y.function.function.name]=y.function);const f="tools"in n?c.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<u;++y){const w=(m=(await this._createChatCompletion(t,{...i,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!w)throw new ue("missing message in ChatCompletion response");if(!((g=w.tool_calls)!=null&&g.length))return;for(const C of w.tool_calls){if(C.type!=="function")continue;const S=C.id,{name:D,arguments:k}=C.function,_=d[D];if(_){if(l&&l!==D){const O=`Invalid tool_call: ${JSON.stringify(D)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,tool_call_id:S,content:O});continue}}else{const O=`Invalid tool_call: ${JSON.stringify(D)}. Available options are: ${Object.keys(d).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:S,content:O});continue}let M;try{M=ic(_)?await _.parse(k):k}catch(O){const P=O instanceof Error?O.message:String(O);this._addMessage({role:a,tool_call_id:S,content:P});continue}const L=await _.function(M,this),E=ft(this,Ke,"m",Ko).call(this,L);if(this._addMessage({role:a,tool_call_id:S,content:E}),l)return}}}}Ke=new WeakSet,Uo=function(){return ft(this,Ke,"m",ws).call(this).content??null},ws=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(hr(n)){const{function_call:r,...a}=n,s={...a,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new ue("stream ended without producing a ChatCompletionMessage with role=assistant")},zo=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const a=this.messages[r];if(hr(a)&&(a!=null&&a.function_call))return a.function_call;if(hr(a)&&((t=a==null?void 0:a.tool_calls)!=null&&t.length))return(n=a.tool_calls.at(-1))==null?void 0:n.function}},qo=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Ph(n)&&n.content!=null||Ch(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var a;return r.role==="assistant"&&((a=r.tool_calls)==null?void 0:a.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Go=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Th=function(t){if(t.n!=null&&t.n>1)throw new ue("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ko=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ha extends Ih{static runFunctions(t,n,r){const a=new ha,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,n,s)),a}static runTools(t,n,r){const a=new ha,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,n,s)),a}_addMessage(t,n=!0){super._addMessage(t,n),hr(t)&&t.content&&this._emit("content",t.content)}}const Rh=1,Fh=2,Nh=4,Lh=8,Yh=16,Wh=32,Bh=64,jh=128,Hh=256,Vh=jh|Hh,Uh=Yh|Wh|Vh|Bh,zh=Rh|Fh|Uh,qh=Nh|Lh,zA=zh|qh,He={STR:Rh,NUM:Fh,ARR:Nh,OBJ:Lh,NULL:Yh,BOOL:Wh,NAN:Bh,INFINITY:jh,MINUS_INFINITY:Hh,INF:Vh,SPECIAL:Uh,ATOM:zh,COLLECTION:qh,ALL:zA};class qA extends Error{}class GA extends Error{}function KA(e,t=He.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return XA(e.trim(),t)}const XA=(e,t)=>{const n=e.length;let r=0;const a=f=>{throw new qA(`${f} at position ${r}`)},s=f=>{throw new GA(`${f} at position ${r}`)},o=()=>(d(),r>=n&&a("Unexpected end of input"),e[r]==='"'?i():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||He.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||He.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||He.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||He.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||He.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||He.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),i=()=>{const f=r;let h=!1;for(r++;r<n&&(e[r]!=='"'||h&&e[r-1]==="\\");)h=e[r]==="\\"?!h:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(f,++r-Number(h)))}catch(m){s(String(m))}else if(He.STR&t)try{return JSON.parse(e.substring(f,r-Number(h))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;e[r]!=="}";){if(d(),r>=n&&He.OBJ&t)return f;const h=i();d(),r++;try{const m=o();Object.defineProperty(f,h,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(He.OBJ&t)return f;throw m}d(),e[r]===","&&r++}}catch{if(He.OBJ&t)return f;a("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;e[r]!=="]";)f.push(o()),d(),e[r]===","&&r++}catch{if(He.ARR&t)return f;a("Expected ']' at end of array")}return r++,f},c=()=>{if(r===0){e==="-"&&He.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(He.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(h))}}const f=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(He.NUM&t)&&a("Unterminated number literal");try{return JSON.parse(e.substring(f,r))}catch{e.substring(f,r)==="-"&&He.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(m){s(String(m))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},uc=e=>KA(e,He.ALL^He.NUM);var nr=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},we=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Be,sn,rr,$n,vo,za,mo,po,go,qa,yo,cc;class va extends Ih{constructor(t){super(),Be.add(this),sn.set(this,void 0),rr.set(this,void 0),$n.set(this,void 0),nr(this,sn,t,"f"),nr(this,rr,[],"f")}get currentChatCompletionSnapshot(){return we(this,$n,"f")}static fromReadableStream(t){const n=new va(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const a=new va(n);return a._run(()=>a._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),we(this,Be,"m",vo).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const i of s)we(this,Be,"m",mo).call(this,i);if((o=s.controller.signal)!=null&&o.aborted)throw new Ft;return this._addChatCompletion(we(this,Be,"m",qa).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),we(this,Be,"m",vo).call(this),this._connected();const a=Zt.fromReadableStream(t,this.controller);let s;for await(const i of a)s&&s!==i.id&&this._addChatCompletion(we(this,Be,"m",qa).call(this)),we(this,Be,"m",mo).call(this,i),s=i.id;if((o=a.controller.signal)!=null&&o.aborted)throw new Ft;return this._addChatCompletion(we(this,Be,"m",qa).call(this))}[(sn=new WeakMap,rr=new WeakMap,$n=new WeakMap,Be=new WeakSet,vo=function(){this.ended||nr(this,$n,void 0,"f")},za=function(n){let r=we(this,rr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},we(this,rr,"f")[n.index]=r,r)},mo=function(n){var a,s,o,i,l,u,c,d,f,h,m,g,y,x,w;if(this.ended)return;const r=we(this,Be,"m",cc).call(this,n);this._emit("chunk",n,r);for(const C of n.choices){const S=r.choices[C.index];C.delta.content!=null&&((a=S.message)==null?void 0:a.role)==="assistant"&&((s=S.message)!=null&&s.content)&&(this._emit("content",C.delta.content,S.message.content),this._emit("content.delta",{delta:C.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),C.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((i=S.message)!=null&&i.refusal)&&this._emit("refusal.delta",{delta:C.delta.refusal,snapshot:S.message.refusal}),((l=C.logprobs)==null?void 0:l.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=C.logprobs)==null?void 0:c.content,snapshot:((d=S.logprobs)==null?void 0:d.content)??[]}),((f=C.logprobs)==null?void 0:f.refusal)!=null&&((h=S.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=C.logprobs)==null?void 0:m.refusal,snapshot:((g=S.logprobs)==null?void 0:g.refusal)??[]});const D=we(this,Be,"m",za).call(this,S);S.finish_reason&&(we(this,Be,"m",go).call(this,S),D.current_tool_call_index!=null&&we(this,Be,"m",po).call(this,S,D.current_tool_call_index));for(const k of C.delta.tool_calls??[])D.current_tool_call_index!==k.index&&(we(this,Be,"m",go).call(this,S),D.current_tool_call_index!=null&&we(this,Be,"m",po).call(this,S,D.current_tool_call_index)),D.current_tool_call_index=k.index;for(const k of C.delta.tool_calls??[]){const _=(y=S.message.tool_calls)==null?void 0:y[k.index];_!=null&&_.type&&((_==null?void 0:_.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=_.function)==null?void 0:x.name,index:k.index,arguments:_.function.arguments,parsed_arguments:_.function.parsed_arguments,arguments_delta:((w=k.function)==null?void 0:w.arguments)??""}):(_==null||_.type,void 0))}}},po=function(n,r){var o,i,l;if(we(this,Be,"m",za).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(i=we(this,sn,"f"))==null?void 0:i.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Pa(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},go=function(n){var a,s;const r=we(this,Be,"m",za).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=we(this,Be,"m",yo).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(a=n.logprobs)!=null&&a.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qa=function(){if(this.ended)throw new ue("stream has ended, this shouldn't happen");const n=we(this,$n,"f");if(!n)throw new ue("request ended without sending any chunks");return nr(this,$n,void 0,"f"),nr(this,rr,[],"f"),JA(n,we(this,sn,"f"))},yo=function(){var r;const n=(r=we(this,sn,"f"))==null?void 0:r.response_format;return Eh(n)?n:null},cc=function(n){var r,a,s,o;let i=we(this,$n,"f");const{choices:l,...u}=n;i?Object.assign(i,u):i=nr(this,$n,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:f,logprobs:h=null,...m}of n.choices){let g=i.choices[f];if(g||(g=i.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...m}),h)if(!g.logprobs)g.logprobs=Object.assign({},h);else{const{content:k,refusal:_,...M}=h;Object.assign(g.logprobs,M),k&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...k)),_&&((a=g.logprobs).refusal??(a.refusal=[]),g.logprobs.refusal.push(..._))}if(d&&(g.finish_reason=d,we(this,sn,"f")&&Ah(we(this,sn,"f")))){if(d==="length")throw new fh;if(d==="content_filter")throw new hh}if(Object.assign(g,m),!c)continue;const{content:y,refusal:x,function_call:w,role:C,tool_calls:S,...D}=c;if(Object.assign(g.message,D),x&&(g.message.refusal=(g.message.refusal||"")+x),C&&(g.message.role=C),w&&(g.message.function_call?(w.name&&(g.message.function_call.name=w.name),w.arguments&&((s=g.message.function_call).arguments??(s.arguments=""),g.message.function_call.arguments+=w.arguments)):g.message.function_call=w),y&&(g.message.content=(g.message.content||"")+y,!g.message.refusal&&we(this,Be,"m",yo).call(this)&&(g.message.parsed=uc(g.message.content))),S){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:k,id:_,type:M,function:L,...E}of S){const O=(o=g.message.tool_calls)[k]??(o[k]={});Object.assign(O,E),_&&(O.id=_),M&&(O.type=M),L&&(O.function??(O.function={name:L.name??"",arguments:""})),L!=null&&L.name&&(O.function.name=L.name),L!=null&&L.arguments&&(O.function.arguments+=L.arguments,VA(we(this,sn,"f"),O)&&(O.function.parsed_arguments=uc(O.function.arguments)))}}}return i},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",a=>{const s=n.shift();s?s.resolve(a):t.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function JA(e,t){const{id:n,choices:r,created:a,model:s,system_fingerprint:o,...i}=e,l={...i,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:f,...h})=>{if(!c)throw new ue(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:g,tool_calls:y,...x}=u,w=u.role;if(!w)throw new ue(`missing role for choice ${d}`);if(g){const{arguments:C,name:S}=g;if(C==null)throw new ue(`missing function_call.arguments for choice ${d}`);if(!S)throw new ue(`missing function_call.name for choice ${d}`);return{...h,message:{content:m,function_call:{arguments:C,name:S},role:w,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}return y?{...h,index:d,finish_reason:c,logprobs:f,message:{...x,role:w,content:m,refusal:u.refusal??null,tool_calls:y.map((C,S)=>{const{function:D,type:k,id:_,...M}=C,{arguments:L,name:E,...O}=D||{};if(_==null)throw new ue(`missing choices[${d}].tool_calls[${S}].id
${Ga(e)}`);if(k==null)throw new ue(`missing choices[${d}].tool_calls[${S}].type
${Ga(e)}`);if(E==null)throw new ue(`missing choices[${d}].tool_calls[${S}].function.name
${Ga(e)}`);if(L==null)throw new ue(`missing choices[${d}].tool_calls[${S}].function.arguments
${Ga(e)}`);return{...M,id:_,type:k,function:{...O,name:E,arguments:L}}})}}:{...h,message:{...x,content:m,role:w,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}),created:a,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return BA(l,t)}function Ga(e){return JSON.stringify(e)}class vr extends va{static fromReadableStream(t){const n=new vr(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const a=new vr(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,n,s)),a}static runTools(t,n,r){const a=new vr(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,n,s)),a}}let Gh=class extends pe{parse(t,n){return UA(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>zi(r,t))}runFunctions(t,n){return t.stream?vr.runFunctions(this._client,t,n):ha.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?vr.runTools(this._client,t,n):ha.runTools(this._client,t,n)}stream(t,n){return va.createChatCompletion(this._client,t,n)}};class Xo extends pe{constructor(){super(...arguments),this.completions=new Gh(this._client)}}(function(e){e.Completions=Gh})(Xo||(Xo={}));class Kh extends pe{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class qi extends pe{constructor(){super(...arguments),this.sessions=new Kh(this._client)}}qi.Sessions=Kh;var ee=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},yt=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Ue,Jo,Kt,rs,It,jn,lr,Yn,_s,wt,as,ss,ra,Jr,Zr,dc,fc,hc,vc,mc,pc,gc;class Nt extends kh{constructor(){super(...arguments),Ue.add(this),Jo.set(this,[]),Kt.set(this,{}),rs.set(this,{}),It.set(this,void 0),jn.set(this,void 0),lr.set(this,void 0),Yn.set(this,void 0),_s.set(this,void 0),wt.set(this,void 0),as.set(this,void 0),ss.set(this,void 0),ra.set(this,void 0)}[(Jo=new WeakMap,Kt=new WeakMap,rs=new WeakMap,It=new WeakMap,jn=new WeakMap,lr=new WeakMap,Yn=new WeakMap,_s=new WeakMap,wt=new WeakMap,as=new WeakMap,ss=new WeakMap,ra=new WeakMap,Ue=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",a=>{const s=n.shift();s?s.resolve(a):t.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Nt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Zt.fromReadableStream(t,this.controller);for await(const o of a)ee(this,Ue,"m",Jr).call(this,o);if((s=a.controller.signal)!=null&&s.aborted)throw new Ft;return this._addRun(ee(this,Ue,"m",Zr).call(this))}toReadableStream(){return new Zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,a,s){const o=new Nt;return o._run(()=>o._runToolAssistantStream(t,n,r,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,a,s){var u;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...a,stream:!0},l=await t.submitToolOutputs(n,r,i,{...s,signal:this.controller.signal});this._connected();for await(const c of l)ee(this,Ue,"m",Jr).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new Ft;return this._addRun(ee(this,Ue,"m",Zr).call(this))}static createThreadAssistantStream(t,n,r){const a=new Nt;return a._run(()=>a._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(t,n,r,a){const s=new Nt;return s._run(()=>s._runAssistantStream(t,n,r,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return ee(this,as,"f")}currentRun(){return ee(this,ss,"f")}currentMessageSnapshot(){return ee(this,It,"f")}currentRunStepSnapshot(){return ee(this,ra,"f")}async finalRunSteps(){return await this.done(),Object.values(ee(this,Kt,"f"))}async finalMessages(){return await this.done(),Object.values(ee(this,rs,"f"))}async finalRun(){if(await this.done(),!ee(this,jn,"f"))throw Error("Final run was not received.");return ee(this,jn,"f")}async _createThreadAssistantStream(t,n,r){var i;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)ee(this,Ue,"m",Jr).call(this,l);if((i=o.controller.signal)!=null&&i.aborted)throw new Ft;return this._addRun(ee(this,Ue,"m",Zr).call(this))}async _createAssistantStream(t,n,r,a){var l;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},i=await t.create(n,o,{...a,signal:this.controller.signal});this._connected();for await(const u of i)ee(this,Ue,"m",Jr).call(this,u);if((l=i.controller.signal)!=null&&l.aborted)throw new Ft;return this._addRun(ee(this,Ue,"m",Zr).call(this))}static accumulateDelta(t,n){for(const[r,a]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=a;continue}let s=t[r];if(s==null){t[r]=a;continue}if(r==="index"||r==="type"){t[r]=a;continue}if(typeof s=="string"&&typeof a=="string")s+=a;else if(typeof s=="number"&&typeof a=="number")s+=a;else if(ho(s)&&ho(a))s=this.accumulateDelta(s,a);else if(Array.isArray(s)&&Array.isArray(a)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...a);continue}for(const o of a){if(!ho(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const i=o.index;if(i==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof i!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${i}`);const l=s[i];l==null?s.push(o):s[i]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,a){return await this._createAssistantStream(n,t,r,a)}async _runToolAssistantStream(t,n,r,a,s){return await this._createToolAssistantStream(r,t,n,a,s)}}Jr=function(t){if(!this.ended)switch(yt(this,as,t,"f"),ee(this,Ue,"m",hc).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ee(this,Ue,"m",gc).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ee(this,Ue,"m",fc).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ee(this,Ue,"m",dc).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Zr=function(){if(this.ended)throw new ue("stream has ended, this shouldn't happen");if(!ee(this,jn,"f"))throw Error("Final run has not been received");return ee(this,jn,"f")},dc=function(t){const[n,r]=ee(this,Ue,"m",mc).call(this,t,ee(this,It,"f"));yt(this,It,n,"f"),ee(this,rs,"f")[n.id]=n;for(const a of r){const s=n.content[a.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const a of t.data.delta.content){if(a.type=="text"&&a.text){let s=a.text,o=n.content[a.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=ee(this,lr,"f")){if(ee(this,Yn,"f"))switch(ee(this,Yn,"f").type){case"text":this._emit("textDone",ee(this,Yn,"f").text,ee(this,It,"f"));break;case"image_file":this._emit("imageFileDone",ee(this,Yn,"f").image_file,ee(this,It,"f"));break}yt(this,lr,a.index,"f")}yt(this,Yn,n.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ee(this,lr,"f")!==void 0){const a=t.data.content[ee(this,lr,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,ee(this,It,"f"));break;case"text":this._emit("textDone",a.text,ee(this,It,"f"));break}}ee(this,It,"f")&&this._emit("messageDone",t.data),yt(this,It,void 0,"f")}},fc=function(t){const n=ee(this,Ue,"m",vc).call(this,t);switch(yt(this,ra,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==ee(this,_s,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(ee(this,wt,"f")&&this._emit("toolCallDone",ee(this,wt,"f")),yt(this,_s,s.index,"f"),yt(this,wt,n.step_details.tool_calls[s.index],"f"),ee(this,wt,"f")&&this._emit("toolCallCreated",ee(this,wt,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":yt(this,ra,void 0,"f"),t.data.step_details.type=="tool_calls"&&ee(this,wt,"f")&&(this._emit("toolCallDone",ee(this,wt,"f")),yt(this,wt,void 0,"f")),this._emit("runStepDone",t.data,n);break}},hc=function(t){ee(this,Jo,"f").push(t),this._emit("event",t)},vc=function(t){switch(t.event){case"thread.run.step.created":return ee(this,Kt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=ee(this,Kt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const a=Nt.accumulateDelta(n,r.delta);ee(this,Kt,"f")[t.data.id]=a}return ee(this,Kt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ee(this,Kt,"f")[t.data.id]=t.data;break}if(ee(this,Kt,"f")[t.data.id])return ee(this,Kt,"f")[t.data.id];throw new Error("No snapshot available")},mc=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=t.data;if(a.delta.content)for(const s of a.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=ee(this,Ue,"m",pc).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},pc=function(t,n){return Nt.accumulateDelta(n,t)},gc=function(t){switch(yt(this,ss,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":yt(this,jn,t.data,"f"),ee(this,wt,"f")&&(this._emit("toolCallDone",ee(this,wt,"f")),yt(this,wt,void 0,"f"));break}};class Gi extends pe{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,a){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,n={},r){return Qe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Ki,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ki extends St{}Gi.MessagesPage=Ki;class Xi extends pe{retrieve(t,n,r,a={},s){return Qe(a)?this.retrieve(t,n,r,{},a):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,r={},a){return Qe(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Ji,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Ji extends St{}Xi.RunStepsPage=Ji;class Ca extends pe{constructor(){super(...arguments),this.steps=new Xi(this._client)}create(t,n,r){const{include:a,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:a},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,a){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,n={},r){return Qe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Zi,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const a=await this.create(t,n,r);return await this.poll(t,a.id,r)}createAndStream(t,n,r){return Nt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...a}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let i=5e3;if(r!=null&&r.pollIntervalMs)i=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(i=u)}}await xa(i);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,r){return Nt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,a){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,a){const s=await this.submitToolOutputs(t,n,r,a);return await this.poll(t,s.id,a)}submitToolOutputsStream(t,n,r,a){return Nt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,a)}}class Zi extends St{}Ca.RunsPage=Zi;Ca.Steps=Xi;Ca.RunStepsPage=Ji;class Er extends pe{constructor(){super(...arguments),this.runs=new Ca(this._client),this.messages=new Gi(this._client)}create(t={},n){return Qe(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Nt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Er.Runs=Ca;Er.RunsPage=Zi;Er.Messages=Gi;Er.MessagesPage=Ki;const ZA=async e=>{const t=await Promise.allSettled(e),n=t.filter(a=>a.status==="rejected");if(n.length){for(const a of n)console.error(a.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of t)a.status==="fulfilled"&&r.push(a.value);return r};let Qi=class extends pe{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return Qe(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Bs,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const a=await this.create(t,n,r);return await this.poll(t,a.id,r)}async poll(t,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...r,headers:a}).withResponse(),o=s.data;switch(o.status){case"in_progress":let i=5e3;if(r!=null&&r.pollIntervalMs)i=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(i=u)}}await xa(i);break;case"failed":case"completed":return o}}}async upload(t,n,r){const a=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:a.id},r)}async uploadAndPoll(t,n,r){const a=await this.upload(t,n,r);return await this.poll(t,a.id,r)}};class Bs extends St{}Qi.VectorStoreFilesPage=Bs;class Xh extends pe{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const a=await this.create(t,n);return await this.poll(t,a.id,r)}listFiles(t,n,r={},a){return Qe(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Bs,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async poll(t,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(t,n,{...r,headers:a}).withResponse();switch(s.status){case"in_progress":let i=5e3;if(r!=null&&r.pollIntervalMs)i=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(i=u)}}await xa(i);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},a){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(a==null?void 0:a.maxConcurrency)??5,o=Math.min(s,n.length),i=this._client,l=n.values(),u=[...r];async function c(f){for(let h of f){const m=await i.files.create({file:h,purpose:"assistants"},a);u.push(m.id)}}const d=Array(o).fill(l).map(c);return await ZA(d),await this.createAndPoll(t,{file_ids:u})}}class Ar extends pe{constructor(){super(...arguments),this.files=new Qi(this._client),this.fileBatches=new Xh(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/vector_stores",el,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class el extends St{}Ar.VectorStoresPage=el;Ar.Files=Qi;Ar.VectorStoreFilesPage=Bs;Ar.FileBatches=Xh;class An extends pe{constructor(){super(...arguments),this.realtime=new qi(this._client),this.vectorStores=new Ar(this._client),this.chat=new Xo(this._client),this.assistants=new Vi(this._client),this.threads=new Er(this._client)}}An.Realtime=qi;An.VectorStores=Ar;An.VectorStoresPage=el;An.Assistants=Vi;An.AssistantsPage=Ui;An.Threads=Er;class Jh extends pe{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Zh extends pe{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}class tl extends pe{create(t,n){return this._client.post("/files",_r({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/files",nl,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(t);for(;!o.status||!a.has(o.status);)if(await xa(n),o=await this.retrieve(t),Date.now()-s>r)throw new Bi({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}}class nl extends St{}tl.FileObjectsPage=nl;class rl extends pe{list(t,n={},r){return Qe(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,al,{query:n,...r})}}class al extends St{}rl.FineTuningJobCheckpointsPage=al;class Tr extends pe{constructor(){super(...arguments),this.checkpoints=new rl(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Qe(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",sl,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Qe(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,ol,{query:n,...r})}}class sl extends St{}class ol extends St{}Tr.FineTuningJobsPage=sl;Tr.FineTuningJobEventsPage=ol;Tr.Checkpoints=rl;Tr.FineTuningJobCheckpointsPage=al;class Ma extends pe{constructor(){super(...arguments),this.jobs=new Tr(this._client)}}Ma.Jobs=Tr;Ma.FineTuningJobsPage=sl;Ma.FineTuningJobEventsPage=ol;class Qh extends pe{createVariation(t,n){return this._client.post("/images/variations",_r({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",_r({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class il extends pe{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",ll,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class ll extends YA{}il.ModelsPage=ll;class ev extends pe{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class tv extends pe{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,_r({body:n,...r}))}}class ul extends pe{constructor(){super(...arguments),this.parts=new tv(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}ul.Parts=tv;var nv;class ce extends OA{constructor({baseURL:t=Va("OPENAI_BASE_URL"),apiKey:n=Va("OPENAI_API_KEY"),organization:r=Va("OPENAI_ORG_ID")??null,project:a=Va("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new ue("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:a,...s,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&NA())throw new ue(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Jh(this),this.chat=new Ws(this),this.embeddings=new Zh(this),this.files=new tl(this),this.images=new Qh(this),this.audio=new Oa(this),this.moderations=new ev(this),this.models=new il(this),this.fineTuning=new Ma(this),this.beta=new An(this),this.batches=new ji(this),this.uploads=new ul(this),this._options=o,this.apiKey=n,this.organization=r,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return lA(t,{arrayFormat:"brackets"})}}nv=ce;ce.OpenAI=nv;ce.DEFAULT_TIMEOUT=6e5;ce.OpenAIError=ue;ce.APIError=qe;ce.APIConnectionError=Is;ce.APIConnectionTimeoutError=Bi;ce.APIUserAbortError=Ft;ce.NotFoundError=ih;ce.ConflictError=lh;ce.RateLimitError=ch;ce.BadRequestError=ah;ce.AuthenticationError=sh;ce.InternalServerError=dh;ce.PermissionDeniedError=oh;ce.UnprocessableEntityError=uh;ce.toFile=gh;ce.fileFromPath=nh;ce.Completions=Jh;ce.Chat=Ws;ce.ChatCompletionsPage=Ys;ce.Embeddings=Zh;ce.Files=tl;ce.FileObjectsPage=nl;ce.Images=Qh;ce.Audio=Oa;ce.Moderations=ev;ce.Models=il;ce.ModelsPage=ll;ce.FineTuning=Ma;ce.Beta=An;ce.Batches=ji;ce.BatchesPage=Hi;ce.Uploads=ul;const QA=new bc("https://mcq-db.dakakean.com");let rv;const eT=async()=>{const e=await QA.collection("keys").getFullList();rv=new ce({apiKey:e[0].value,dangerouslyAllowBrowser:!0}),console.log("OpenAI initialized")};eT();const yc=W({summary:"",severity:"",mechanism:"",recommendation:"",sources:[]}),tT=e=>{var t,n,r,a;return{summary:((t=e.match(/\*\*Summary:\*\*\s*(.+)/))==null?void 0:t[1])||"No summary found",severity:((n=e.match(/\*\*Severity Level:\*\*\s*(.+)/))==null?void 0:n[1])||"Not specified",mechanism:((r=e.match(/\*\*Mechanism:\*\*\s*(.+)/))==null?void 0:r[1])||"Not available",recommendation:((a=e.match(/\*\*Clinical Recommendation:\*\*\s*(.+)/))==null?void 0:a[1])||"No recommendation",sources:[...e.matchAll(/\[([^\]]+)\]\((https?:\/\/[^\)]+)\)/g)].map(s=>({name:s[1],url:s[2]}))}},nT=()=>{const e=W(null),t=W(!1);return{checkInteraction:async r=>{if(!r||r.length<2){e.value="Please provide at least two drug names.";return}t.value=!0,e.value=null;const a=`Check for drug interactions among the following medications: **${r.join(", ")}**.
    
### **Instructions:**
- Use only authoritative medical sources such as **FDA, MedlinePlus, PubMed, RxList, or Drugs.com**.
- **DO NOT invent interactions** or speculate.
- If no interaction is found in trusted sources, explicitly state that.
- Provide links to relevant databases or studies when possible.

### **Expected Output Format:**
1. **Summary:** Briefly describe the interaction for all drugs(if any).
2. **Severity Level:** Mild, Moderate, or Severe.
3. **Mechanism:** Pharmacodynamic or pharmacokinetic explanation for all drugs mentioned.
4. **Clinical Recommendation:** What should be done? (e.g., Avoid, Dose Adjustment, Monitor).
5. **Sources:** Provide official links.

Now, analyze and provide an accurate response based on verified data.`;try{const s=await rv.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a clinical pharmacist providing accurate drug interaction data."},{role:"user",content:a}],max_tokens:1e3});yc.value=tT(s.choices[0].message.content)}catch{e.value="Failed to fetch interaction data."}finally{t.value=!1}},interaction:yc,error:e,loading:t}},rT={class:"my-5 text-right print-hide"},aT={class:"my-5 flex flex-row justify-between gap-4 mb-10 text-right print-hide",dir:"rtl"},sT={class:"flex flex-row justify-between gap-4 mb-10 text-right",dir:"rtl"},oT={class:"print-show"},iT={class:"print-show"},lT={class:"print-show"},uT={class:"sm:flex sm:items-center print-hide"},cT={class:"mt-4 sm:mt-0 sm:flex-none ml-2"},dT={class:"mt-4 sm:mt-0 sm:flex-none ml-2"},fT={class:"mt-8 flow-root"},hT={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},vT={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},mT={class:"min-w-full border-2 border-slate-800 divide-y divide-gray-300"},pT={class:"bg-white"},gT=["onClick"],yT={class:"sr-only"},bT={key:0,class:"",dir:"rtl"},wT={key:0,class:"my-10 text-wrap"},_T={key:0,class:"text-red-600"},$T={key:1,class:"interaction"},DT={class:"font-medium mb-4"},ST={class:"font-medium mb-4"},xT={class:"font-medium mb-4"},OT={class:"font-medium mb-4"},PT=["href"],CT={class:"p-8"},MT={class:"flex flex-col mb-4 w-full justify-between"},kT={class:"mb-4"},ET={class:"mb-4"},AT={class:"mb-4"},TT={class:"mb-4"},IT={class:"mb-4"},RT={class:"mb-4"},FT={class:"mb-4"},NT={key:0,class:"mb-4"},LT={key:0,class:"mb-4"},YT={key:1,class:"mb-4"},WT={key:2,class:"mb-4"},BT={key:3,class:"mb-4"},jT={key:4,class:"mb-4"},HT={key:5,class:"mb-4"},VT={class:"mt-4"},UT={class:"p-8"},zT={class:"text-lg text-gray-900 mb-4"},qT={class:"flex flex-col mb-4 w-full justify-between"},GT={class:"mb-4"},KT={class:"mb-4"},XT={class:"mb-4"},JT={class:"mb-4"},ZT={class:"mb-4"},QT={class:"mb-4"},e2={class:"mb-4"},t2={class:"mt-4 flex flex-row justify-between"},n2={__name:"NewDrugTable",setup(e){fv("openai-api-key","");const t=new bc("https://mcq-db.dakakean.com"),{warnings:n,pregnancyWarnings:r,stopUse:a,keepOutOfReach:s,dosage:o,storage:i,loading:l,fetchDrugWarnings:u}=hv(),{drugList:c}=gv(),{checkInteraction:d,interaction:f,error:h,loading:m}=nT(),g=W("16"),y=W("700"),x=W("nowrap"),w=W([]),C=W(new Date),S=W(!1),D=W(!1),k=W(!1),_=W({}),M=W(""),L=W(""),E=W(!1),O=W({name:"",fdaName:"",brand:[],frequency:[],dose:[],duration:[],when:[],note:[],hidden:[]}),P=W({name:"",fdaName:"",brand:"",frequency:"",dose:"",duration:"",when:"",note:"",hidden:""}),I=async(R,p)=>{if(p){if(S.value=!0,R==="name"){const X=await t.collection("drugs").create({name:p});O.value=X}else if(O.value[R])try{const X={...O.value,[R]:[...O.value[R],p]};await t.collection("drugs").update(O.value.id,X),O.value=X}catch(X){console.error("Error creating new item:",X)}else{const X=await t.collection("drugs").update(O.value.id,{[R]:[p]});O.value=X}S.value=!1}},K=(R,p)=>{P.value[p]=R.target.value,console.log("event.target.value"),console.log(R.target.value)},V=async(R,p={})=>{if(R==="create")k.value=!0;else{D.value=!0,_.value={...p},console.log("selectedDrug.value"),console.log(_.value);try{const X=await $fetch(`https://mcq-db.dakakean.com/api/collections/drugs/records?filter=name="${p.name}"&expand=doses,frequency`);E.value=!1,console.log("response.items"),console.log(X.items),X.items.length>0?O.value=X.items[0]:O.value={}}catch(X){console.error(X),E.value=!1}}},Z=R=>{R==="create"?(console.log("close modal create"),P.value={},k.value=!1):(console.log("close modal create else"),D.value=!1,_.value={})},se=()=>{const R=w.value.findIndex(p=>p.id===_.value.id);P.value.name&&(_.value.name=P.value.name),R!==-1?w.value.splice(R,1,{..._.value}):w.value.push({..._.value}),D.value=!1,_.value={},P.value={}},ve=()=>{w.value.push({...P.value}),Z("create"),O.value={},P.value={}},he=()=>{w.value=w.value.filter(R=>R.id!==_.value.id),Z("edit")};async function B(R){if(!navigator.onLine)return c.value.filter(p=>p.name.toLowerCase().includes(R.toLowerCase())||p.brand.toLowerCase().includes(R.toLowerCase()));E.value=!0;try{const p=R.replace(/([\\"])/g,"\\$1"),X=await $fetch(`https://mcq-db.dakakean.com/api/collections/drugs/records?filter=(name~"${p}"||brand~"${p}")&expand=doses,frequency`);return E.value=!1,console.log(X.items),X.items}catch(p){return console.error(p),E.value=!1,[]}}const J=async()=>{try{const R=await t.collection("drugs").getFullList();c.value=R,E.value=!1}catch{}},F=async R=>{var p;console.log("e.name"),console.log(R.name),O.value=R,P.value.name=R.name,P.value.id=R.id,R.brand.length>=1&&(P.value.brand=R.brand[0],_.value.brand=R.brand[0]),R.dose.length>=1&&(P.value.dose=R.dose[0],_.value.dose=R.dose[0]),R.when.length>=1&&(P.value.when=R.when[0],_.value.when=R.when[0]),R.frequency.length>=1&&(P.value.frequency=R.frequency[0],_.value.frequency=R.frequency[0]),R.duration.length>=1&&(P.value.duration=R.duration[0],_.value.duration=R.duration[0]),R.note.length>=1&&(P.value.note=R.note[0],_.value.note=R.note[0]),((p=R.hidden)==null?void 0:p.length)>=1&&(P.value.hidden=R.hidden[0],_.value.hidden=R.hidden[0])};async function ae(){O.value.name&&await u(O.value.fdaName)}return Ce(J),(R,p)=>{const X=vv,Me=mv,de=Xp,tt=Nk,At=Bk,Oe=ma,nt=Uk,lt=pv;return T(),ge(lt,{style:ke({fontSize:v(g)+"px !important",fontWeight:v(y)+" !important",whiteSpace:v(x)})},{default:q(()=>[A("div",rT,[Y(X,{to:"/create"},{default:q(()=>p[58]||(p[58]=[at(" Create New Drug ")])),_:1})]),A("div",aT,[A("div",null,[p[59]||(p[59]=A("p",{class:"mb-1 mr-1 text-sm"},"حجم الخط",-1)),Y(Me,{class:"print-hide mb-4",type:"number",modelValue:v(g),"onUpdate:modelValue":p[0]||(p[0]=U=>st(g)?g.value=U:null),placeholder:"Font Size"},null,8,["modelValue"]),p[60]||(p[60]=A("p",{class:"mb-1 mr-1 text-sm"},"وزن الخط",-1)),Y(de,{options:["100","200","300","400","500","600","700","800","900"],class:"print-hide mb-4",modelValue:v(y),"onUpdate:modelValue":p[1]||(p[1]=U=>st(y)?y.value=U:null),placeholder:"Font Weight"},null,8,["modelValue"]),p[61]||(p[61]=A("p",{class:"mb-1 mr-1 text-sm"},"المساحة البيضاء",-1)),Y(de,{options:["normal","pre","pre-wrap","pre-line","wrap","collapse","preserve nowrap","nowrap"],class:"print-hide mb-4",modelValue:v(x),"onUpdate:modelValue":p[2]||(p[2]=U=>st(x)?x.value=U:null),placeholder:"White Space"},null,8,["modelValue"])])]),A("div",sT,[A("div",null,[A("p",oT,"الاسم : "+re(v(M)),1),Y(Me,{class:"print-hide mb-4",modelValue:v(M),"onUpdate:modelValue":p[3]||(p[3]=U=>st(M)?M.value=U:null),placeholder:"Patient Name"},null,8,["modelValue"]),A("p",iT,"العمر: "+re(v(L)),1),Y(Me,{class:"print-hide mb-4",modelValue:v(L),"onUpdate:modelValue":p[4]||(p[4]=U=>st(L)?L.value=U:null),placeholder:"Patient Age"},null,8,["modelValue"])]),A("div",null,[A("p",lT," التاريخ: "+re(new Intl.DateTimeFormat("en-GB").format(v(C))),1),Y(At,{class:"print-hide",popper:{placement:"bottom-start"}},{panel:q(({close:U})=>[Y(tt,{modelValue:v(C),"onUpdate:modelValue":p[5]||(p[5]=Se=>st(C)?C.value=Se:null),"is-required":"",onClose:U},null,8,["modelValue","onClose"])]),default:q(()=>[Y(X,{icon:"i-heroicons-calendar-days-20-solid",label:v(JE)(v(C),"d/MM/yyyy")},null,8,["label"])]),_:1})])]),A("div",null,[A("div",uT,[p[64]||(p[64]=A("div",{class:"sm:flex-auto"},[A("h1",{class:"leading-6 text-gray-900"},"Drugs"),A("p",{class:"mt-2 text-gray-700"},"A list of drugs for the prescription")],-1)),A("div",cT,[Y(X,{loading:v(m),type:"button",class:"block rounded-md px-3 py-2 text-center text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 bg-yellow-500",onClick:p[6]||(p[6]=U=>v(d)(v(w).map(Se=>Se.name)))},{default:q(()=>p[62]||(p[62]=[at(" Check Interactions ")])),_:1},8,["loading"])]),A("div",dT,[Y(X,{type:"button",class:"block rounded-md px-3 py-2 text-center text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",onClick:p[7]||(p[7]=U=>V("create"))},{default:q(()=>p[63]||(p[63]=[at(" Add Drug ")])),_:1})])]),A("div",fT,[A("div",hT,[A("div",vT,[A("table",mT,[A("thead",pT,[A("tr",null,[A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," # ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," Name ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," Brand ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," Dose ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," When ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," Frequency ",4),A("th",{scope:"col",class:"py-3.5 px-4 text-left text-gray-900",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})}," Duration ",4),p[65]||(p[65]=A("th",{scope:"col",class:"relative py-3.5 px-2 print-hide"},[A("span",{class:"sr-only"},"Edit")],-1))])]),(T(!0),j(fe,null,Te(v(w),(U,Se)=>(T(),j("tbody",{key:U.id,class:"bg-white col-span-12"},[A("tr",{class:ne(["border-gray-800","border-t-2"])},[A("td",{class:"px-4 py-2",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(Se+1),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`,whiteSpace:"nowrap"})},re(U.name),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.brand),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.dose),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.when),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.frequency),5),A("td",{class:"px-4 py-2 font-extrabold",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.duration),5),A("td",{class:"relative py-2 px-4 text-right font-medium sm:pr-3 print-hide",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`,userSelect:"none"})},[A("a",{onClick:Dc(ut=>V("edit",U),["prevent"]),href:"#",class:"text-indigo-600 hover:text-indigo-900"},[p[66]||(p[66]=at(" Edit")),A("span",yT,", "+re(U.name),1)],8,gT)],4)],2),U.note?(T(),j("tr",bT,[A("td",{colspan:"12",class:"px-2 py-2 font-extrabold text-gray-900 sm:pl-3 border-b-2 border-b-black text-center",style:ke({fontWeight:v(y),fontSize:`${v(g)}px`})},re(U.note),5)])):ie("",!0)]))),128))])])])])]),v(f).summary||v(h)?(T(),j("div",wT,[p[72]||(p[72]=A("p",{class:"mb-2 font-bold text-yellow-600"},"Interactions",-1)),v(h)?(T(),j("p",_T,re(v(h)),1)):(T(),j("div",$T,[p[67]||(p[67]=A("p",{class:"font-bold mb-2"},"Summary:",-1)),A("p",DT,re(v(f).summary),1),p[68]||(p[68]=A("p",{class:"font-bold mb-2"},"Severity Level:",-1)),A("p",ST,"🔴 "+re(v(f).severity),1),p[69]||(p[69]=A("p",{class:"font-bold mb-2"},"Mechanism:",-1)),A("p",xT,re(v(f).mechanism),1),A("ul",null,[(T(!0),j(fe,null,Te(v(f).details,(U,Se)=>(T(),j("li",{key:Se},re(U),1))),128))]),p[70]||(p[70]=A("p",{class:"font-bold mb-2"},"Clinical Recommendation:",-1)),A("p",OT,re(v(f).recommendation),1),p[71]||(p[71]=A("p",{class:"font-bold mb-2"},"Sources:",-1)),A("ul",null,[(T(!0),j(fe,null,Te(v(f).sources,(U,Se)=>(T(),j("li",{class:"font-medium mb-1",key:Se},[A("a",{href:U.url,target:"_blank",class:"text-blue-500 underline"},re(U.name),9,PT)]))),128))])]))])):ie("",!0),Y(nt,{modelValue:v(k),"onUpdate:modelValue":p[30]||(p[30]=U=>st(k)?k.value=U:null)},{default:q(()=>{var U,Se,ut,Ht,Vt,Ut,ct;return[A("div",CT,[p[91]||(p[91]=A("h2",{class:"text-lg text-gray-900 mb-4"},"Add New Drug",-1)),A("div",MT,[A("div",kT,[p[73]||(p[73]=A("p",{class:"mb-2"},"Name",-1)),Y(de,{modelValue:v(P).name,"onUpdate:modelValue":p[9]||(p[9]=Q=>v(P).name=Q),search:B,onChange:F,loading:v(E),trailing:"","option-attribute":"name",onInput:p[10]||(p[10]=Q=>K(Q,"name")),placeholder:"Name"},xe({option:q(({option:Q})=>[A("span",null,re(Q.icon),1),A("span",null,re(Q.name),1),A("span",null,re(Q.brand),1)]),_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[A("span",null,re(v(O).name),1),Y(X,{loading:v(S),onClick:p[8]||(p[8]=ye=>I("name",v(P).name))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["modelValue","loading"])]),A("div",ET,[p[74]||(p[74]=A("p",{class:"mb-2"},"Brand",-1)),Y(de,{trailing:!1,options:v(O).brand?v(O).brand:[],nullable:"",modelValue:v(P).brand,"onUpdate:modelValue":p[12]||(p[12]=Q=>v(P).brand=Q),onInput:p[13]||(p[13]=Q=>K(Q,"brand")),placeholder:"Brand"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[11]||(p[11]=ye=>I("brand",v(P).brand))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",AT,[p[75]||(p[75]=A("p",{class:"mb-2"},"Dosage",-1)),Y(de,{options:v(O).dose?v(O).dose:[],nullable:"",modelValue:v(P).dose,"onUpdate:modelValue":p[15]||(p[15]=Q=>v(P).dose=Q),onInput:p[16]||(p[16]=Q=>K(Q,"dose")),placeholder:"Dosage"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[14]||(p[14]=ye=>I("dose",v(P).dose))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",TT,[p[76]||(p[76]=A("p",{class:"mb-2"},"When",-1)),Y(de,{searchable:"",options:v(O).when?v(O).when:[],nullable:"",onInput:p[18]||(p[18]=Q=>K(Q,"when")),modelValue:v(P).when,"onUpdate:modelValue":p[19]||(p[19]=Q=>v(P).when=Q),placeholder:"When"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[17]||(p[17]=ye=>I("when",v(P).when))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",IT,[p[77]||(p[77]=A("p",{class:"mb-2"},"Frequency",-1)),Y(de,{searchable:"",options:v(O).frequency?v(O).frequency:[],nullable:"",onInput:p[21]||(p[21]=Q=>K(Q,"frequency")),modelValue:v(P).frequency,"onUpdate:modelValue":p[22]||(p[22]=Q=>v(P).frequency=Q),placeholder:"Frequency"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[20]||(p[20]=ye=>I("frequency",v(P).frequency))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",RT,[p[78]||(p[78]=A("p",{class:"mb-2"},"Duration",-1)),Y(de,{searchable:"",options:v(O).duration?v(O).duration:[],nullable:"",modelValue:v(P).duration,"onUpdate:modelValue":p[24]||(p[24]=Q=>v(P).duration=Q),onInput:p[25]||(p[25]=Q=>K(Q,"duration")),placeholder:"Duration"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[23]||(p[23]=ye=>I("duration",v(P).duration))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",FT,[p[79]||(p[79]=A("p",{class:"mb-2"},"Note",-1)),Y(de,{searchable:"",options:v(O).note?v(O).note:[],nullable:"",modelValue:v(P).note,"onUpdate:modelValue":p[27]||(p[27]=Q=>v(P).note=Q),onInput:p[28]||(p[28]=Q=>K(Q,"note")),placeholder:"Note"},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:Q})=>[Y(X,{loading:v(S),onClick:p[26]||(p[26]=ye=>I("note",v(P).note))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),((U=v(O).hidden)==null?void 0:U.length)>0?(T(),j("div",NT,[p[80]||(p[80]=A("p",{class:"mb-2"},"Hidden Notes",-1)),(T(!0),j(fe,null,Te(v(O).hidden,(Q,ye)=>(T(),j("p",{key:ye},re(Q),1))),128))])):ie("",!0),p[90]||(p[90]=A("p",{class:"mb-2 font-bold"},"FDA Information",-1)),A("div",null,[((Se=v(o))==null?void 0:Se.length)>0?(T(),j("div",LT,[p[81]||(p[81]=A("p",{class:"mb-2"},"Dosage",-1)),(T(!0),j(fe,null,Te(v(o),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0),((ut=v(i))==null?void 0:ut.length)>0?(T(),j("div",YT,[p[82]||(p[82]=A("p",{class:"mb-2"},"Storage",-1)),(T(!0),j(fe,null,Te(v(i),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0),((Ht=v(n))==null?void 0:Ht.length)>0?(T(),j("div",WT,[p[83]||(p[83]=A("p",{class:"mb-2"},"Warnings",-1)),(T(!0),j(fe,null,Te(v(n),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0),((Vt=v(r))==null?void 0:Vt.length)>0?(T(),j("div",BT,[p[84]||(p[84]=A("p",{class:"mb-2"},"Pregnancy Warnings",-1)),(T(!0),j(fe,null,Te(v(r),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0),((Ut=v(a))==null?void 0:Ut.length)>0?(T(),j("div",jT,[p[85]||(p[85]=A("p",{class:"mb-2"},"Stop Use",-1)),(T(!0),j(fe,null,Te(v(a),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0),((ct=v(s))==null?void 0:ct.length)>0?(T(),j("div",HT,[p[86]||(p[86]=A("p",{class:"mb-2"},"Keep Out Of Reach",-1)),(T(!0),j(fe,null,Te(v(s),(Q,ye)=>(T(),j("p",{key:ye,class:"text-red-600 mb-2"},re(Q),1))),128))])):ie("",!0)]),A("div",VT,[Y(X,{class:"mr-4",onClick:ve},{default:q(()=>p[87]||(p[87]=[at("Save")])),_:1}),Y(X,{class:"mr-4",onClick:p[29]||(p[29]=Q=>Z("create"))},{default:q(()=>p[88]||(p[88]=[at("Cancel")])),_:1}),Y(X,{class:"mr-4 bg-yellow-400",onClick:ae,loading:v(l)},{default:q(()=>p[89]||(p[89]=[at("Show FDA Info")])),_:1},8,["loading"])])])])]}),_:1},8,["modelValue"]),Y(nt,{modelValue:v(D),"onUpdate:modelValue":p[57]||(p[57]=U=>st(D)?D.value=U:null)},{default:q(()=>[A("div",UT,[A("h2",zT,re(v(_).id?"Edit Drug":"Add New Drug"),1),A("div",qT,[A("div",GT,[p[92]||(p[92]=A("p",{class:"mb-2"},"Name",-1)),Y(de,{search:B,onChange:F,loading:v(E),trailing:"","option-attribute":"name",modelValue:v(_).name,"onUpdate:modelValue":[p[31]||(p[31]=U=>v(_).name=U),p[32]||(p[32]=U=>v(_).name=U)],modelModifiers:{query:!0},placeholder:"Name"},null,8,["loading","modelValue"])]),A("div",KT,[p[93]||(p[93]=A("p",{class:"mb-2"},"Brand",-1)),Y(de,{options:v(O).brand?v(O).brand:[],nullable:"",modelValue:v(_).brand,"onUpdate:modelValue":p[34]||(p[34]=U=>v(_).brand=U),placeholder:"Brand",onInput:p[35]||(p[35]=U=>v(_).brand=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[33]||(p[33]=Se=>I("brand",v(_).brand))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",XT,[p[94]||(p[94]=A("p",{class:"mb-2"},"Dose",-1)),Y(de,{searchable:"",options:v(O).dose?v(O).dose:[],nullable:"",modelValue:v(_).dose,"onUpdate:modelValue":[p[37]||(p[37]=U=>v(_).dose=U),p[38]||(p[38]=U=>v(_).dose=U)],modelModifiers:{query:!0},placeholder:"Dose",onInput:p[39]||(p[39]=U=>v(_).dose=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[36]||(p[36]=Se=>I("dose",v(_).dose))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",JT,[p[95]||(p[95]=A("p",{class:"mb-2"},"When",-1)),Y(de,{searchable:"",options:v(O).when?v(O).when:[],nullable:"",modelValue:v(_).when,"onUpdate:modelValue":[p[41]||(p[41]=U=>v(_).when=U),p[42]||(p[42]=U=>v(_).when=U)],modelModifiers:{query:!0},placeholder:"When",onInput:p[43]||(p[43]=U=>v(_).when=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[40]||(p[40]=Se=>I("when",v(_).when))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",ZT,[p[96]||(p[96]=A("p",{class:"mb-2"},"Frequency",-1)),Y(de,{searchable:"",options:v(O).frequency?v(O).frequency:[],nullable:"",modelValue:v(_).frequency,"onUpdate:modelValue":[p[45]||(p[45]=U=>v(_).frequency=U),p[46]||(p[46]=U=>v(_).frequency=U)],modelModifiers:{query:!0},placeholder:"Frequency",onInput:p[47]||(p[47]=U=>v(_).frequency=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[44]||(p[44]=Se=>I("frequency",v(_).frequency))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",QT,[p[97]||(p[97]=A("p",{class:"mb-2"},"Duration",-1)),Y(de,{searchable:"",options:v(O).duration?v(O).duration:[],nullable:"",modelValue:v(_).duration,"onUpdate:modelValue":[p[49]||(p[49]=U=>v(_).duration=U),p[50]||(p[50]=U=>v(_).duration=U)],modelModifiers:{query:!0},placeholder:"Duration",onInput:p[51]||(p[51]=U=>v(_).duration=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[48]||(p[48]=Se=>I("Duration",v(_).duration))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",e2,[p[98]||(p[98]=A("p",{class:"mb-2"},"Note",-1)),Y(de,{searchable:"",options:v(O).note?v(O).note:[],nullable:"",modelValue:v(_).note,"onUpdate:modelValue":[p[53]||(p[53]=U=>v(_).note=U),p[54]||(p[54]=U=>v(_).note=U)],modelModifiers:{query:!0},placeholder:"Note",onInput:p[55]||(p[55]=U=>v(_).note=U.target.value)},xe({_:2},[v(P).name!==""?{name:"option-empty",fn:q(({query:U})=>[Y(X,{loading:v(S),onClick:p[52]||(p[52]=Se=>I("Note",v(_).note))},xe({_:2},[v(S)?void 0:{name:"leading",fn:q(()=>[Y(Oe,{name:"i-heroicons-plus",class:"w-5 h-5"})]),key:"0"}]),1032,["loading"])]),key:"0"}:void 0]),1032,["options","modelValue"])]),A("div",t2,[A("div",null,[Y(X,{class:"mr-4",onClick:se},{default:q(()=>p[99]||(p[99]=[at("Save")])),_:1}),Y(X,{class:"mr-4 bg-red-600",onClick:he},{default:q(()=>p[100]||(p[100]=[at("Delete")])),_:1})]),Y(X,{class:"",variant:"outline",onClick:p[56]||(p[56]=U=>Z("edit"))},{default:q(()=>p[101]||(p[101]=[at("Cancel ")])),_:1})])])])]),_:1},8,["modelValue"])]),_:1},8,["style"])}}},r2={};function a2(e,t){const n=n2;return T(),ge(n)}const b2=ga(r2,[["render",a2]]);export{b2 as default};
