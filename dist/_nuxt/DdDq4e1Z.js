import{_ as rt}from"./B_8LxUlp.js";import{k as ve,p as we,a6 as Ke,l as H,h as G,i as C,a7 as st,Y as Se,a8 as at,Q as ot,a9 as q,O as he,q as b,K as lt,L as ct,U as ut,_ as Q,f as Y,G as D,o as A,D as fe,a0 as ge,w as ne,r as P,g as W,N as We,a as Ve,aa as dt,ab as ht,ac as ft,m as se,I as gt,ad as pt,S as bt,T as J,R as yt,e as N,z as M,n as z,c as te,t as mt,s as ke,v as U,b as Re,j as vt,x as wt}from"./2OMgjxI6.js";import St from"./D0O7RrFh.js";function kt(n){return at()?(ot(n),!0):!1}const Ct=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ot=n=>typeof n<"u",xt=Object.prototype.toString,It=n=>xt.call(n)==="[object Object]",ie=()=>{};function Je(n,e){function t(...i){return new Promise((r,s)=>{Promise.resolve(n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return t}const Me=n=>n();function Tt(n,e={}){let t,i,r=ie;const s=l=>{clearTimeout(l),r(),r=ie};let a;return l=>{const c=q(n),u=q(e.maxWait);return t&&s(t),c<=0||u!==void 0&&u<=0?(i&&(s(i),i=null),Promise.resolve(l())):new Promise((d,h)=>{r=e.rejectOnCancel?h:d,a=l,u&&!i&&(i=setTimeout(()=>{t&&s(t),i=null,d(a())},u)),t=setTimeout(()=>{i&&s(i),i=null,d(l())},c)})}}function jt(n=Me,e={}){const{initialState:t="active"}=e,i=At(t==="active");function r(){i.value=!1}function s(){i.value=!0}const a=(...o)=>{i.value&&n(...o)};return{isActive:Ke(i),pause:r,resume:s,eventFilter:a}}function Rt(n){return Se()}function ue(n){return Array.isArray(n)?n:[n]}function At(...n){if(n.length!==1)return G(...n);const e=n[0];return typeof e=="function"?Ke(st(()=>({get:e,set:ie}))):C(e)}function qt(n,e=200,t={}){return Je(Tt(e,t),n)}function Nt(n,e,t={}){const{eventFilter:i=Me,...r}=t;return H(n,Je(i,e),r)}function Et(n,e,t={}){const{eventFilter:i,initialState:r="active",...s}=t,{eventFilter:a,pause:o,resume:l,isActive:c}=jt(i,{initialState:r});return{stop:Nt(n,e,{...s,eventFilter:a}),pause:o,resume:l,isActive:c}}function Lt(n,e=!0,t){Rt()?ve(n,t):e?n():we(n)}function Ut(n,e,t){return H(n,e,{...t,immediate:!0})}function Un(n,e,t){let i;ct(t)?i={evaluating:t}:i=t||{};const{lazy:r=!1,evaluating:s=void 0,shallow:a=!0,onError:o=ie}=i,l=he(!r),c=a?he(e):C(e);let u=0;return ut(async d=>{if(!l.value)return;u++;const h=u;let p=!1;s&&Promise.resolve().then(()=>{s.value=!0});try{const y=await n(f=>{d(()=>{s&&(s.value=!1),p||f()})});h===u&&(c.value=y)}catch(y){o(y)}finally{s&&h===u&&(s.value=!1),p=!0}}),r?b(()=>(l.value=!0,c.value)):c}const re=Ct?window:void 0;function Pt(n){var e;const t=q(n);return(e=t==null?void 0:t.$el)!=null?e:t}function Ae(...n){const e=[],t=()=>{e.forEach(o=>o()),e.length=0},i=(o,l,c,u)=>(o.addEventListener(l,c,u),()=>o.removeEventListener(l,c,u)),r=b(()=>{const o=ue(q(n[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),s=Ut(()=>{var o,l;return[(l=(o=r.value)==null?void 0:o.map(c=>Pt(c)))!=null?l:[re].filter(c=>c!=null),ue(q(r.value?n[1]:n[0])),ue(lt(r.value?n[2]:n[1])),q(r.value?n[3]:n[2])]},([o,l,c,u])=>{if(t(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const d=It(u)?{...u}:u;e.push(...o.flatMap(h=>l.flatMap(p=>c.map(y=>i(h,p,y,d)))))},{flush:"post"}),a=()=>{s(),t()};return kt(t),a}function $t(n){return JSON.parse(JSON.stringify(n))}const X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z="__vueuse_ssr_handlers__",_t=Ft();function Ft(){return Z in X||(X[Z]=X[Z]||{}),X[Z]}function zt(n,e){return _t[n]||e}function Bt(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const Dt={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},qe="vueuse-storage";function Kt(n,e,t,i={}){var r;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=re,eventFilter:h,onError:p=v=>{console.error(v)},initOnMounted:y}=i,f=(u?he:C)(typeof e=="function"?e():e),g=b(()=>q(n));if(!t)try{t=zt("getDefaultStorage",()=>{var v;return(v=re)==null?void 0:v.localStorage})()}catch(v){p(v)}if(!t)return f;const w=q(e),I=Bt(w),m=(r=i.serializer)!=null?r:Dt[I],{pause:x,resume:R}=Et(f,()=>K(f.value),{flush:s,deep:a,eventFilter:h});H(g,()=>B(),{flush:s}),d&&o&&Lt(()=>{t instanceof Storage?Ae(d,"storage",B,{passive:!0}):Ae(d,qe,ce),y&&B()}),y||B();function k(v,O){if(d){const T={key:g.value,oldValue:v,newValue:O,storageArea:t};d.dispatchEvent(t instanceof Storage?new StorageEvent("storage",T):new CustomEvent(qe,{detail:T}))}}function K(v){try{const O=t.getItem(g.value);if(v==null)k(O,null),t.removeItem(g.value);else{const T=m.write(v);O!==T&&(t.setItem(g.value,T),k(O,T))}}catch(O){p(O)}}function le(v){const O=v?v.newValue:t.getItem(g.value);if(O==null)return l&&w!=null&&t.setItem(g.value,m.write(w)),w;if(!v&&c){const T=m.read(O);return typeof c=="function"?c(T,w):I==="object"&&!Array.isArray(T)?{...w,...T}:T}else return typeof O!="string"?O:m.read(O)}function B(v){if(!(v&&v.storageArea!==t)){if(v&&v.key==null){f.value=w;return}if(!(v&&v.key!==g.value)){x();try{(v==null?void 0:v.newValue)!==m.write(f.value)&&(f.value=le(v))}catch(O){p(O)}finally{v?we(R):R()}}}}function ce(v){B(v.detail)}return f}function Wt(n,e,t={}){const{window:i=re}=t;return Kt(n,e,i==null?void 0:i.localStorage,t)}function Pn(n,e,t,i={}){var r,s,a;const{clone:o=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:h}=i,p=Se(),y=t||(p==null?void 0:p.emit)||((r=p==null?void 0:p.$emit)==null?void 0:r.bind(p))||((a=(s=p==null?void 0:p.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(p==null?void 0:p.proxy));let f=c;e||(e="modelValue"),f=f||`update:${e.toString()}`;const g=m=>o?typeof o=="function"?o(m):$t(m):m,w=()=>Ot(n[e])?g(n[e]):d,I=m=>{h?h(m)&&y(f,m):y(f,m)};if(l){const m=w(),x=C(m);let R=!1;return H(()=>n[e],k=>{R||(R=!0,x.value=g(k),we(()=>R=!1))}),H(x,k=>{!R&&(k!==n[e]||u)&&I(k)},{deep:u}),x}else return b({get(){return w()},set(m){I(m)}})}const Ce={to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1}},Vt=n=>Object.keys(Ce).reduce((t,i)=>(n[i]!==void 0&&(t[i]=n[i]),t),{}),Jt=Y({props:{name:{type:String,required:!0},mode:{type:String,required:!1,default:null},size:{type:[Number,String],required:!1,default:null},customize:{type:Function,required:!1,default:null}}});function Mt(n,e,t,i,r,s){const a=St;return A(),D(a,fe(ge(n.$props)),null,16)}const ae=Q(Jt,[["render",Mt]]),Ne=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function pe(n,e){e?e={...Ne,...e}:e=Ne;const t=He(e);return t.dispatch(n),t.toString()}const Ht=Object.freeze(["prototype","__proto__","constructor"]);function He(n){let e="",t=new Map;const i=r=>{e+=r};return{toString(){return e},getContext(){return t},dispatch(r){return n.replacer&&(r=n.replacer(r)),this[r===null?"null":typeof r](r)},object(r){if(r&&typeof r.toJSON=="function")return this.object(r.toJSON());const s=Object.prototype.toString.call(r);let a="";const o=s.length;o<10?a="unknown:["+s+"]":a=s.slice(8,o-1),a=a.toLowerCase();let l=null;if((l=t.get(r))===void 0)t.set(r,t.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(r))return i("buffer:"),i(r.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this[a]?this[a](r):n.ignoreUnknown||this.unkown(r,a);else{let c=Object.keys(r);n.unorderedObjects&&(c=c.sort());let u=[];n.respectType!==!1&&!Ee(r)&&(u=Ht),n.excludeKeys&&(c=c.filter(h=>!n.excludeKeys(h)),u=u.filter(h=>!n.excludeKeys(h))),i("object:"+(c.length+u.length)+":");const d=h=>{this.dispatch(h),i(":"),n.excludeValues||this.dispatch(r[h]),i(",")};for(const h of c)d(h);for(const h of u)d(h)}},array(r,s){if(s=s===void 0?n.unorderedArrays!==!1:s,i("array:"+r.length+":"),!s||r.length<=1){for(const l of r)this.dispatch(l);return}const a=new Map,o=r.map(l=>{const c=He(n);c.dispatch(l);for(const[u,d]of c.getContext())a.set(u,d);return c.toString()});return t=a,o.sort(),this.array(o,!1)},date(r){return i("date:"+r.toJSON())},symbol(r){return i("symbol:"+r.toString())},unkown(r,s){if(i(s),!!r&&(i(":"),r&&typeof r.entries=="function"))return this.array(Array.from(r.entries()),!0)},error(r){return i("error:"+r.toString())},boolean(r){return i("bool:"+r)},string(r){i("string:"+r.length+":"),i(r)},function(r){i("fn:"),Ee(r)?this.dispatch("[native]"):this.dispatch(r.toString()),n.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(r.name)),n.respectFunctionProperties&&this.object(r)},number(r){return i("number:"+r)},xml(r){return i("xml:"+r.toString())},null(){return i("Null")},undefined(){return i("Undefined")},regexp(r){return i("regex:"+r.toString())},uint8array(r){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},uint8clampedarray(r){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},int8array(r){return i("int8array:"),this.dispatch(Array.prototype.slice.call(r))},uint16array(r){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},int16array(r){return i("int16array:"),this.dispatch(Array.prototype.slice.call(r))},uint32array(r){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},int32array(r){return i("int32array:"),this.dispatch(Array.prototype.slice.call(r))},float32array(r){return i("float32array:"),this.dispatch(Array.prototype.slice.call(r))},float64array(r){return i("float64array:"),this.dispatch(Array.prototype.slice.call(r))},arraybuffer(r){return i("arraybuffer:"),this.dispatch(new Uint8Array(r))},url(r){return i("url:"+r.toString())},map(r){i("map:");const s=[...r];return this.array(s,n.unorderedSets!==!1)},set(r){i("set:");const s=[...r];return this.array(s,n.unorderedSets!==!1)},file(r){return i("file:"),this.dispatch([r.name,r.size,r.type,r.lastModfied])},blob(){if(n.ignoreUnknown)return i("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return i("domwindow")},bigint(r){return i("bigint:"+r.toString())},process(){return i("process")},timer(){return i("timer")},pipe(){return i("pipe")},tcp(){return i("tcp")},udp(){return i("udp")},tty(){return i("tty")},statwatcher(){return i("statwatcher")},securecontext(){return i("securecontext")},connection(){return i("connection")},zlib(){return i("zlib")},context(){return i("context")},nodescript(){return i("nodescript")},httpparser(){return i("httpparser")},dataview(){return i("dataview")},signal(){return i("signal")},fsevent(){return i("fsevent")},tlswrap(){return i("tlswrap")}}}const Ge="[native code] }",Gt=Ge.length;function Ee(n){return typeof n!="function"?!1:Function.prototype.toString.call(n).slice(-Gt)===Ge}function Le(n,e,t={}){return n===e||pe(n,t)===pe(e,t)}function Qt(n,e,t={}){const i=be(n,t),r=be(e,t);return Qe(i,r,t)}function Qe(n,e,t={}){var s,a;const i=[],r=new Set([...Object.keys(n.props||{}),...Object.keys(e.props||{})]);if(n.props&&e.props)for(const o of r){const l=n.props[o],c=e.props[o];l&&c?i.push(...Qe((s=n.props)==null?void 0:s[o],(a=e.props)==null?void 0:a[o],t)):(l||c)&&i.push(new Ue((c||l).key,l?"removed":"added",c,l))}return r.size===0&&n.hash!==e.hash&&i.push(new Ue((e||n).key,"changed",e,n)),i}function be(n,e,t=""){if(n&&typeof n!="object")return new Pe(t,n,pe(n,e));const i={},r=[];for(const s in n)i[s]=be(n[s],e,t?`${t}.${s}`:s),r.push(i[s].hash);return new Pe(t,n,`{${r.join(":")}}`,i)}class Ue{constructor(e,t,i,r){this.key=e,this.type=t,this.newValue=i,this.oldValue=r}toString(){return this.toJSON()}toJSON(){var e;switch(this.type){case"added":return`Added   \`${this.key}\``;case"removed":return`Removed \`${this.key}\``;case"changed":return`Changed \`${this.key}\` from \`${((e=this.oldValue)==null?void 0:e.toString())||"-"}\` to \`${this.newValue.toString()}\``}}}class Pe{constructor(e,t,i,r){this.key=e,this.value=t,this.hash=i,this.props=r}toString(){return this.props?`{${Object.keys(this.props).join(",")}}`:JSON.stringify(this.value)}toJSON(){const e=this.key||".";return this.props?`${e}({${Object.keys(this.props).join(",")}})`:`${e}(${this.value})`}}const Yt=Y({inheritAttrs:!1,props:{...Ce,as:{type:String,default:"button"},type:{type:String,default:"button"},disabled:{type:Boolean,default:null},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},exactQuery:{type:[Boolean,String],default:!1},exactHash:{type:Boolean,default:!1},inactiveClass:{type:String,default:void 0}},setup(n){function e(i,r){const s=Qt(i,r).reduce((a,o)=>(o.type==="added"&&a.push(o.key),a),[]);return Le(i,r,{excludeKeys:a=>s.includes(a)})}function t(i,r,{isActive:s,isExactActive:a}){if(n.exactQuery==="partial"){if(!e(i.query,r.query))return n.inactiveClass}else if(n.exactQuery===!0&&!Le(i.query,r.query))return n.inactiveClass;return n.exactHash&&i.hash!==r.hash?n.inactiveClass:n.exact&&a||!n.exact&&s?n.activeClass:n.inactiveClass}return{resolveLinkClass:t}}}),Xt=["href","aria-disabled","role","rel","target","tabindex","onClick"];function Zt(n,e,t,i,r,s){const a=rt;return n.to?(A(),D(a,W({key:1},n.$props,{custom:""}),{default:ne(({route:o,href:l,target:c,rel:u,navigate:d,isActive:h,isExactActive:p,isExternal:y})=>[Ve("a",W(n.$attrs,{href:n.disabled?void 0:l,"aria-disabled":n.disabled?"true":void 0,role:n.disabled?"link":void 0,rel:u,target:c,class:n.active!==void 0?n.active?n.activeClass:n.inactiveClass:n.resolveLinkClass(o,n._.provides[dt]||n.$route,{isActive:h,isExactActive:p}),tabindex:n.disabled?-1:void 0,onClick:f=>!y&&!n.disabled&&d(f)}),[P(n.$slots,"default",fe(ge({isActive:n.active!==void 0?n.active:n.exact?p:h})))],16,Xt)]),_:3},16)):(A(),D(We(n.as),W({key:0,type:n.type,disabled:n.disabled},n.$attrs,{class:n.active?n.activeClass:n.inactiveClass}),{default:ne(()=>[P(n.$slots,"default",fe(ge({isActive:n.active})))]),_:3},16,["type","disabled","class"]))}const Ye=Q(Yt,[["render",Zt]]),Oe=(n,e,t,i,r=!1)=>{const s=ht(),a=ft(),o=b(()=>{var h;const c=q(e),u=q(t),d=q(i);return se((c==null?void 0:c.strategy)||((h=a.ui)==null?void 0:h.strategy),d?{wrapper:d}:{},c||{},r?gt(a.ui,n,{}):{},u||{})}),l=b(()=>pt(s,["class"]));return{ui:o,attrs:l}};function Xe({ui:n,props:e}){const t=Se();if(bt("ButtonGroupContextConsumer",!0),J("ButtonGroupContextConsumer",!1))return{size:b(()=>e.size),rounded:b(()=>n.value.rounded)};let r=t.parent,s;for(;r&&!s;){if(r.type.name==="ButtonGroup"){s=J(`group-${r.uid}`);break}r=r.parent}const a=b(()=>s==null?void 0:s.value.children.indexOf(t));return ve(()=>{s==null||s.value.register(t)}),yt(()=>{s==null||s.value.unregister(t)}),{size:b(()=>s!=null&&s.value?(s==null?void 0:s.value.size)??n.value.default.size:e.size),rounded:b(()=>!s||a.value===-1?n.value.rounded:s.value.children.length===1?s.value.ui.rounded:a.value===0?s.value.rounded.start:a.value===s.value.children.length-1?s.value.rounded.end:"rounded-none")}}const en={base:"focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0",font:"font-medium",rounded:"rounded-md",truncate:"text-left break-all line-clamp-1",block:"w-full flex justify-center items-center",inline:"inline-flex items-center",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},square:{"2xs":"p-1",xs:"p-1.5",sm:"p-1.5",md:"p-2",lg:"p-2.5",xl:"p-2.5"},color:{white:{solid:"shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white hover:bg-gray-50 disabled:bg-white aria-disabled:bg-white dark:bg-gray-900 dark:hover:bg-gray-800/50 dark:disabled:bg-gray-900 dark:aria-disabled:bg-gray-900 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",ghost:"text-gray-900 dark:text-white hover:bg-white dark:hover:bg-gray-900 focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"},gray:{solid:"shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 hover:bg-gray-100 disabled:bg-gray-50 aria-disabled:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 dark:disabled:bg-gray-800 dark:aria-disabled:bg-gray-800 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",ghost:"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800 focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",link:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 underline-offset-4 hover:underline focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"},black:{solid:"shadow-sm text-white dark:text-gray-900 bg-gray-900 hover:bg-gray-800 disabled:bg-gray-900 aria-disabled:bg-gray-900 dark:bg-white dark:hover:bg-gray-100 dark:disabled:bg-white dark:aria-disabled:bg-white focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",link:"text-gray-900 dark:text-white underline-offset-4 hover:underline focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"}},variant:{solid:"shadow-sm text-white dark:text-gray-900 bg-{color}-500 hover:bg-{color}-600 disabled:bg-{color}-500 aria-disabled:bg-{color}-500 dark:bg-{color}-400 dark:hover:bg-{color}-500 dark:disabled:bg-{color}-400 dark:aria-disabled:bg-{color}-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-{color}-500 dark:focus-visible:outline-{color}-400",outline:"ring-1 ring-inset ring-current text-{color}-500 dark:text-{color}-400 hover:bg-{color}-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-{color}-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",soft:"text-{color}-500 dark:text-{color}-400 bg-{color}-50 hover:bg-{color}-100 disabled:bg-{color}-50 aria-disabled:bg-{color}-50 dark:bg-{color}-950 dark:hover:bg-{color}-900 dark:disabled:bg-{color}-950 dark:aria-disabled:bg-{color}-950 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",ghost:"text-{color}-500 dark:text-{color}-400 hover:bg-{color}-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-{color}-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",link:"text-{color}-500 hover:text-{color}-600 disabled:text-{color}-500 aria-disabled:text-{color}-500 dark:text-{color}-400 dark:hover:text-{color}-500 dark:disabled:text-{color}-400 dark:aria-disabled:text-{color}-400 underline-offset-4 hover:underline focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400"},icon:{base:"flex-shrink-0",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"}},default:{size:"sm",variant:"solid",color:"primary",loadingIcon:"i-heroicons-arrow-path-20-solid"}},oe={base:"invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2",ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-800",rounded:"before:rounded-sm",background:"before:bg-gray-200 dark:before:bg-gray-800",shadow:"before:shadow",placement:"group-data-[popper-placement*='right']:-left-1 group-data-[popper-placement*='left']:-right-1 group-data-[popper-placement*='top']:-bottom-1 group-data-[popper-placement*='bottom']:-top-1"};({...oe});const xe={wrapper:"relative",base:"relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0",form:"form-input",rounded:"rounded-md",placeholder:"placeholder-gray-400 dark:placeholder-gray-500",file:{base:"file:mr-1.5 file:font-medium file:text-gray-500 dark:file:text-gray-400 file:bg-transparent file:border-0 file:p-0 file:outline-none"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},leading:{padding:{"2xs":"ps-7",xs:"ps-8",sm:"ps-9",md:"ps-10",lg:"ps-11",xl:"ps-12"}},trailing:{padding:{"2xs":"pe-7",xs:"pe-8",sm:"pe-9",md:"pe-10",lg:"pe-11",xl:"pe-12"}},color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"},gray:{outline:"shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}},variant:{outline:"shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 focus:ring-2 focus:ring-{color}-500 dark:focus:ring-{color}-400",none:"bg-transparent focus:ring-0 focus:shadow-none"},icon:{base:"flex-shrink-0 text-gray-400 dark:text-gray-500",color:"text-{color}-500 dark:text-{color}-400",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"},leading:{wrapper:"absolute inset-y-0 start-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}},trailing:{wrapper:"absolute inset-y-0 end-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}}},default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid"}},$e={container:"z-20 group",trigger:"flex items-center w-full",width:"w-full",height:"max-h-60",base:"relative focus:outline-none overflow-y-auto scroll-py-1",background:"bg-white dark:bg-gray-800",shadow:"shadow-lg",rounded:"rounded-md",padding:"p-1",ring:"ring-1 ring-gray-200 dark:ring-gray-700",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-1.5 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-1.5 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-5 w-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}},transition:{leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},popper:{placement:"bottom-end"},default:{selectedIcon:"i-heroicons-check-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid",empty:{label:"No options."},optionEmpty:{label:'No results for "{query}".'}},arrow:{...oe,ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-700",background:"before:bg-white dark:before:bg-gray-700"}},$n={...xe,form:"form-textarea",default:{size:"sm",color:"white",variant:"outline"}};({...xe});({...$e,option:{...$e.option},arrow:{...oe}});const tn={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"};({...oe});const E=se(N.ui.strategy,N.ui.button,en),nn=Y({components:{UIcon:ae,ULink:Ye},inheritAttrs:!1,props:{...Ce,type:{type:String,default:"button"},block:{type:Boolean,default:!1},label:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>E.default.size,validator(n){return Object.keys(E.size).includes(n)}},color:{type:String,default:()=>E.default.color,validator(n){return[...N.ui.colors,...Object.keys(E.color)].includes(n)}},variant:{type:String,default:()=>E.default.variant,validator(n){return[...Object.keys(E.variant),...Object.values(E.color).flatMap(e=>Object.keys(e))].includes(n)}},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>E.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},square:{type:Boolean,default:!1},truncate:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(n,{slots:e}){const{ui:t,attrs:i}=Oe("button",G(n,"ui"),E),{size:r,rounded:s}=Xe({ui:t,props:n}),a=b(()=>n.icon&&n.leading||n.icon&&!n.trailing||n.loading&&!n.trailing||n.leadingIcon),o=b(()=>n.icon&&n.trailing||n.loading&&n.trailing||n.trailingIcon),l=b(()=>n.square||!e.default&&!n.label),c=b(()=>{var g,w;const f=((w=(g=t.value.color)==null?void 0:g[n.color])==null?void 0:w[n.variant])||t.value.variant[n.variant];return ke(U(t.value.base,t.value.font,s.value,t.value.size[r.value],t.value.gap[r.value],n.padded&&t.value[l.value?"square":"padding"][r.value],f==null?void 0:f.replaceAll("{color}",n.color),n.block?t.value.block:t.value.inline),n.class)}),u=b(()=>n.loading?n.loadingIcon:n.leadingIcon||n.icon),d=b(()=>n.loading&&!a.value?n.loadingIcon:n.trailingIcon||n.icon),h=b(()=>U(t.value.icon.base,t.value.icon.size[r.value],n.loading&&t.value.icon.loading)),p=b(()=>U(t.value.icon.base,t.value.icon.size[r.value],n.loading&&!a.value&&t.value.icon.loading)),y=b(()=>Vt(n));return{ui:t,attrs:i,isLeading:a,isTrailing:o,isSquare:l,buttonClass:c,leadingIconName:u,trailingIconName:d,leadingIconClass:h,trailingIconClass:p,linkProps:y}}});function rn(n,e,t,i,r,s){const a=ae,o=Ye;return A(),D(o,W({type:n.type,disabled:n.disabled||n.loading,class:n.buttonClass},{...n.linkProps,...n.attrs}),{default:ne(()=>[P(n.$slots,"leading",{disabled:n.disabled,loading:n.loading},()=>[n.isLeading&&n.leadingIconName?(A(),D(a,{key:0,name:n.leadingIconName,class:z(n.leadingIconClass),"aria-hidden":"true"},null,8,["name","class"])):M("",!0)]),P(n.$slots,"default",{},()=>[n.label?(A(),te("span",{key:0,class:z([n.truncate?n.ui.truncate:""])},mt(n.label),3)):M("",!0)]),P(n.$slots,"trailing",{disabled:n.disabled,loading:n.loading},()=>[n.isTrailing&&n.trailingIconName?(A(),D(a,{key:0,name:n.trailingIconName,class:z(n.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])):M("",!0)])]),_:3},16,["type","disabled","class"])}const _n=Q(nn,[["render",rn]]),sn=(n,e,t=!0)=>{const i=J("form-events",void 0),r=J("form-group",void 0),s=J("form-inputs",void 0);r&&(!t||n!=null&&n.legend?r.inputId.value=void 0:n!=null&&n.id&&(r.inputId.value=n==null?void 0:n.id),s&&(s.value[r.name.value]=r.inputId.value));const a=C(!1);function o(d,h){i&&i.emit({type:d,path:h})}function l(){o("blur",r==null?void 0:r.name.value),a.value=!0}function c(){o("change",r==null?void 0:r.name.value)}const u=qt(()=>{(a.value||r!=null&&r.eagerValidation.value)&&o("input",r==null?void 0:r.name.value)},300);return{inputId:b(()=>(n==null?void 0:n.id)??(r==null?void 0:r.inputId.value)),name:b(()=>(n==null?void 0:n.name)??(r==null?void 0:r.name.value)),size:b(()=>{var h;const d=e.size[r==null?void 0:r.size.value]?r==null?void 0:r.size.value:null;return(n==null?void 0:n.size)??d??((h=e.default)==null?void 0:h.size)}),color:b(()=>{var d;return(d=r==null?void 0:r.error)!=null&&d.value?"red":n==null?void 0:n.color}),emitFormBlur:l,emitFormInput:u,emitFormChange:c}},L=se(N.ui.strategy,N.ui.input,xe),an=Y({components:{UIcon:ae},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>L.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(n){return Object.keys(L.size).includes(n)}},color:{type:String,default:()=>L.default.color,validator(n){return[...N.ui.colors,...Object.keys(L.color)].includes(n)}},variant:{type:String,default:()=>L.default.variant,validator(n){return[...Object.keys(L.variant),...Object.values(L.color).flatMap(e=>Object.keys(e))].includes(n)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(n,{emit:e,slots:t}){const{ui:i,attrs:r}=Oe("input",G(n,"ui"),L,G(n,"class")),{size:s,rounded:a}=Xe({ui:i,props:n}),{emitFormBlur:o,emitFormInput:l,size:c,color:u,inputId:d,name:h}=sn(n,L),p=b(()=>s.value??c.value),y=C(vt({},n.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),f=C(null),g=()=>{var S;n.autofocus&&((S=f.value)==null||S.focus())},w=S=>{y.value.trim&&(S=S.trim()),(y.value.number||n.type==="number")&&(S=wt(S)),y.value.nullify&&(S||(S=null)),e("update:modelValue",S),l()},I=S=>{y.value.lazy||w(S.target.value)},m=S=>{if(n.type==="file"){const _=S.target.files;e("change",_)}else{const _=S.target.value;e("change",_),y.value.lazy&&w(_),y.value.trim&&(S.target.value=_.trim())}},x=S=>{o(),e("blur",S)};ve(()=>{setTimeout(()=>{g()},n.autofocusDelay)});const R=b(()=>{var _,je;const S=((je=(_=i.value.color)==null?void 0:_[u.value])==null?void 0:je[n.variant])||i.value.variant[n.variant];return ke(U(i.value.base,i.value.form,a.value,i.value.placeholder,n.type==="file"&&i.value.file.base,i.value.size[p.value],n.padded?i.value.padding[p.value]:"p-0",S==null?void 0:S.replaceAll("{color}",u.value),(k.value||t.leading)&&i.value.leading.padding[p.value],(K.value||t.trailing)&&i.value.trailing.padding[p.value]),n.inputClass)}),k=b(()=>n.icon&&n.leading||n.icon&&!n.trailing||n.loading&&!n.trailing||n.leadingIcon),K=b(()=>n.icon&&n.trailing||n.loading&&n.trailing||n.trailingIcon),le=b(()=>n.loading?n.loadingIcon:n.leadingIcon||n.icon),B=b(()=>n.loading&&!k.value?n.loadingIcon:n.trailingIcon||n.icon),ce=b(()=>U(i.value.icon.leading.wrapper,i.value.icon.leading.pointer,i.value.icon.leading.padding[p.value])),v=b(()=>U(i.value.icon.base,u.value&&N.ui.colors.includes(u.value)&&i.value.icon.color.replaceAll("{color}",u.value),i.value.icon.size[p.value],n.loading&&i.value.icon.loading)),O=b(()=>U(i.value.icon.trailing.wrapper,i.value.icon.trailing.pointer,i.value.icon.trailing.padding[p.value])),T=b(()=>U(i.value.icon.base,u.value&&N.ui.colors.includes(u.value)&&i.value.icon.color.replaceAll("{color}",u.value),i.value.icon.size[p.value],n.loading&&!k.value&&i.value.icon.loading));return{ui:i,attrs:r,name:h,inputId:d,input:f,isLeading:k,isTrailing:K,inputClass:R,leadingIconName:le,leadingIconClass:v,leadingWrapperIconClass:ce,trailingIconName:B,trailingIconClass:T,trailingWrapperIconClass:O,onInput:I,onChange:m,onBlur:x}}}),on=["id","name","type","required","placeholder","disabled"];function ln(n,e,t,i,r,s){const a=ae;return A(),te("div",{class:z(n.type==="hidden"?"hidden":n.ui.wrapper)},[Ve("input",W({id:n.inputId,ref:"input",name:n.name,type:n.type,required:n.required,placeholder:n.placeholder,disabled:n.disabled,class:n.inputClass},n.type==="file"?n.attrs:{...n.attrs,value:n.modelValue},{onInput:e[0]||(e[0]=(...o)=>n.onInput&&n.onInput(...o)),onBlur:e[1]||(e[1]=(...o)=>n.onBlur&&n.onBlur(...o)),onChange:e[2]||(e[2]=(...o)=>n.onChange&&n.onChange(...o))}),null,16,on),P(n.$slots,"default"),n.isLeading&&n.leadingIconName||n.$slots.leading?(A(),te("span",{key:0,class:z(n.leadingWrapperIconClass)},[P(n.$slots,"leading",{disabled:n.disabled,loading:n.loading},()=>[Re(a,{name:n.leadingIconName,class:z(n.leadingIconClass)},null,8,["name","class"])])],2)):M("",!0),n.isTrailing&&n.trailingIconName||n.$slots.trailing?(A(),te("span",{key:1,class:z(n.trailingWrapperIconClass)},[P(n.$slots,"trailing",{disabled:n.disabled,loading:n.loading},()=>[Re(a,{name:n.trailingIconName,class:z(n.trailingIconClass)},null,8,["name","class"])])],2)):M("",!0)],2)}const Fn=Q(an,[["render",ln]]),cn=se(N.ui.strategy,N.ui.container,tn),un=Y({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(n){const{ui:e,attrs:t}=Oe("container",G(n,"ui"),cn),i=b(()=>ke(U(e.value.base,e.value.padding,e.value.constrained),n.class));return{ui:e,attrs:t,containerClass:i}}});function dn(n,e,t,i,r,s){return A(),D(We(n.as),W({class:n.containerClass},n.attrs),{default:ne(()=>[P(n.$slots,"default")]),_:3},16,["class"])}const zn=Q(un,[["render",dn]]);class j extends Error{constructor(e){var t,i,r,s;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,j.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof j||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(s=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&s.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const ee=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function hn(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},{}).decode||fn;let r=0;for(;r<n.length;){const s=n.indexOf("=",r);if(s===-1)break;let a=n.indexOf(";",r);if(a===-1)a=n.length;else if(a<s){r=n.lastIndexOf(";",s-1)+1;continue}const o=n.slice(r,s).trim();if(t[o]===void 0){let l=n.slice(s+1,a).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[o]=i(l)}catch{t[o]=l}}r=a+1}return t}function _e(n,e,t){const i=Object.assign({},t||{}),r=i.encode||gn;if(!ee.test(n))throw new TypeError("argument name is invalid");const s=r(e);if(s&&!ee.test(s))throw new TypeError("argument val is invalid");let a=n+"="+s;if(i.maxAge!=null){const o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(i.domain){if(!ee.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!ee.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function fn(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function gn(n){return encodeURIComponent(n)}const pn=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Ze;function V(n){if(n)try{const e=decodeURIComponent(Ze(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function et(n,e=0){let t=V(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Ze=typeof atob!="function"||pn?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,s=0,a="";i=e.charAt(s++);~i&&(t=r%4?64*t+i:i,r++%4)?a+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a}:atob;const Fe="pb_auth";class Ie{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!et(this.token)}get isSuperuser(){var t,i;let e=V(this.token);return e.type=="auth"&&(((t=this.record)==null?void 0:t.collectionName)=="_superusers"||!((i=this.record)!=null&&i.collectionName)&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),V(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Fe){const i=hn(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.record||r.model||null)}exportToCookie(e,t=Fe){var l,c;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=V(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const s={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let a=_e(t,JSON.stringify(s),e);const o=typeof Blob<"u"?new Blob([a]).size:a.length;if(s.record&&o>4096){s.record={id:(l=s.record)==null?void 0:l.id,email:(c=s.record)==null?void 0:c.email};const u=["collectionId","collectionName","verified"];for(const d in this.record)u.includes(d)&&(s.record[d]=this.record[d]);a=_e(t,JSON.stringify(s),e)}return a}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class bn extends Ie{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)})}}class ${constructor(e){this.client=e}}class yn extends ${async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i,r){return r=Object.assign({method:"POST",body:{email:t,template:i,collection:e}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,s,a){return a=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:s}},a),this.client.send("/api/settings/apple/generate-client-secret",a)}}const mn=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Te(n){if(n){n.query=n.query||{};for(let e in n)mn.includes(e)||(n.query[e]=n[e],delete n[e])}}function tt(n){const e=[];for(const t in n){if(n[t]===null||n[t]===void 0)continue;const i=n[t],r=encodeURIComponent(t);if(Array.isArray(i))for(const s of i)e.push(r+"="+encodeURIComponent(s));else i instanceof Date?e.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?e.push(r+"="+encodeURIComponent(JSON.stringify(i))):e.push(r+"="+encodeURIComponent(i))}return e.join("&")}class nt extends ${constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var a;if(!e)throw new Error("topic must be set.");let r=e;if(i){Te(i=Object.assign({},i));const o="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+o}const s=function(o){const l=o;let c;try{c=JSON.parse(l==null?void 0:l.data)}catch{}t(c||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(s),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(a=this.eventSource)==null||a.addEventListener(r,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let s in r)if(this.hasSubscriptionListeners(s)){for(let a of this.subscriptions[s])(i=this.eventSource)==null||i.removeEventListener(s,a);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,s);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var s;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let a in r){if(!Array.isArray(this.subscriptions[a])||!this.subscriptions[a].length)continue;let o=!1;for(let l=this.subscriptions[a].length-1;l>=0;l--)this.subscriptions[a][l]===t&&(o=!0,delete this.subscriptions[a][l],this.subscriptions[a].splice(l,1),(s=this.eventSource)==null||s.removeEventListener(a,t));o&&(this.subscriptions[a].length||delete this.subscriptions[a],i||this.hasSubscriptionListeners(a)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let s of i[r])s(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new j(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class it extends ${decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var s;return r.items=((s=r.items)==null?void 0:s.map(a=>this.decode(a)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new j({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new j({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async s=>this.getList(s,e||500,t).then(a=>{const o=a.items;return i=i.concat(o),o.length==a.perPage?r(s+1):i});return r(1)}}function F(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function de(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class vn extends it{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var s,a,o;if(((s=this.client.authStore.record)==null?void 0:s.id)===(r==null?void 0:r.id)&&(((a=this.client.authStore.record)==null?void 0:a.collectionId)===this.collectionIdOrName||((o=this.client.authStore.record)==null?void 0:o.collectionName)===this.collectionIdOrName)){let l=Object.assign({},this.client.authStore.record.expand),c=Object.assign({},this.client.authStore.record,r);l&&(c.expand=Object.assign(l,r.expand)),this.client.authStore.save(this.client.authStore.token,c)}return r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,s,a;return!i||((r=this.client.authStore.record)==null?void 0:r.id)!==e||((s=this.client.authStore.record)==null?void 0:s.collectionId)!==this.collectionIdOrName&&((a=this.client.authStore.record)==null?void 0:a.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,i){let r;i=Object.assign({method:"POST",body:{identity:e,password:t}},i),this.isSuperusers&&(r=i.autoRefreshThreshold,delete i.autoRefreshThreshold,i.autoRefresh||de(this.client));let s=await this.client.send(this.baseCollectionPath+"/auth-with-password",i);return s=this.authResponse(s),r&&this.isSuperusers&&function(o,l,c,u){de(o);const d=o.beforeSend,h=o.authStore.record,p=o.authStore.onChange((y,f)=>{(!y||(f==null?void 0:f.id)!=(h==null?void 0:h.id)||(f!=null&&f.collectionId||h!=null&&h.collectionId)&&(f==null?void 0:f.collectionId)!=(h==null?void 0:h.collectionId))&&de(o)});o._resetAutoRefresh=function(){p(),o.beforeSend=d,delete o._resetAutoRefresh},o.beforeSend=async(y,f)=>{var m;const g=o.authStore.token;if((m=f.query)!=null&&m.autoRefresh)return d?d(y,f):{url:y,sendOptions:f};let w=o.authStore.isValid;if(w&&et(o.authStore.token,l))try{await c()}catch{w=!1}w||await u();const I=f.headers||{};for(let x in I)if(x.toLowerCase()=="authorization"&&g==I[x]&&o.authStore.token){I[x]=o.authStore.token;break}return f.headers=I,d?d(y,f):{url:y,sendOptions:f}}}(this.client,r,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},i))),s}async authWithOAuth2Code(e,t,i,r,s,a,o){let l={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectURL:r,createData:s}};return l=F("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,a,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then(c=>this.authResponse(c))}authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{};let i=null;t.urlCallback||(i=ze(void 0));const r=new nt(this.client);function s(){i==null||i.close(),r.unsubscribe()}const a={},o=t.requestKey;return o&&(a.requestKey=o),this.listAuthMethods(a).then(l=>{var h;const c=l.oauth2.providers.find(p=>p.name===t.provider);if(!c)throw new j(new Error(`Missing or invalid provider "${t.provider}".`));const u=this.client.buildURL("/api/oauth2-redirect"),d=o?(h=this.client.cancelControllers)==null?void 0:h[o]:void 0;return d&&(d.signal.onabort=()=>{s()}),new Promise(async(p,y)=>{var f;try{await r.subscribe("@oauth2",async m=>{var R;const x=r.clientId;try{if(!m.state||x!==m.state)throw new Error("State parameters don't match.");if(m.error||!m.code)throw new Error("OAuth2 redirect error or missing code: "+m.error);const k=Object.assign({},t);delete k.provider,delete k.scopes,delete k.createData,delete k.urlCallback,(R=d==null?void 0:d.signal)!=null&&R.onabort&&(d.signal.onabort=null);const K=await this.authWithOAuth2Code(c.name,m.code,c.codeVerifier,u,t.createData,k);p(K)}catch(k){y(new j(k))}s()});const g={state:r.clientId};(f=t.scopes)!=null&&f.length&&(g.scope=t.scopes.join(" "));const w=this._replaceQueryParams(c.authURL+u,g);await(t.urlCallback||function(m){i?i.location.href=m:i=ze(m)})(w)}catch(g){s(),y(new j(g))}})}).catch(l=>{throw s(),l})}async authRefresh(e,t){let i={method:"POST"};return i=F("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=F("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,s){let a={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return a=F("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",a,r,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",a).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=F("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=F("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>{const s=V(e),a=this.client.authStore.record;return a&&!a.verified&&a.id===s.id&&a.collectionId===s.collectionId&&(a.verified=!0,this.client.authStore.save(this.client.authStore.token,a)),!0})}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=F("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let s={method:"POST",body:{token:e,password:t}};return s=F("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then(()=>{const a=V(e),o=this.client.authStore.record;return o&&o.id===a.id&&o.collectionId===a.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,i){const r=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(r.id,i).then(()=>!0)}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,i){return i=Object.assign({method:"POST",body:{otpId:e,password:t}},i),this.client.send(this.baseCollectionPath+"/auth-with-otp",i).then(r=>this.authResponse(r))}async impersonate(e,t,i){(i=Object.assign({method:"POST",body:{duration:t}},i)).headers=i.headers||{},i.headers.Authorization||(i.headers.Authorization=this.client.authStore.token);const r=new Rn(this.client.baseURL,new Ie,this.client.lang),s=await r.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),i);return r.authStore.save(s==null?void 0:s.token,this.decode((s==null?void 0:s.record)||{})),r}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const s={},a=r.split("&");for(const o of a){if(o=="")continue;const l=o.split("=");s[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete s[o]:s[o]=t[o]);r="";for(let o in s)s.hasOwnProperty(o)&&(r!=""&&(r+="&"),r+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(s[o].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function ze(n){if(typeof window>"u"||!(window!=null&&window.open))throw new j(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let s=i/2-e/2,a=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+a+",left="+s+",resizable,menubar=no")}class wn extends it{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then(()=>!0)}}class Sn extends ${async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new j({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class kn extends ${async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Cn extends ${getUrl(e,t,i={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,i)}getURL(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let s=this.client.buildURL(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const a=new URLSearchParams(i);s+=(s.includes("?")?"&":"?")+a}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class On extends ${async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class xn extends ${async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then(()=>!0)}}function ye(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function me(n){return n&&(n.constructor.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function Be(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const i of t)if(ye(i))return!0}return!1}const In=/^[\-\.\d]+$/;function De(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&In.test(n)){let e=+n;if(""+e===n)return e}return n}class Tn extends ${constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new jn(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,i=[];for(let r=0;r<this.requests.length;r++){const s=this.requests[r];if(i.push({method:s.method,url:s.url,headers:s.headers,body:s.json}),s.files)for(let a in s.files){const o=s.files[a]||[];for(let l of o)t.append("requests."+r+"."+a,l)}}return t.append("@jsonPayload",JSON.stringify({requests:i})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class jn{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const i={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}create(e,t){t=Object.assign({body:e||{}},t);const i={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}update(e,t,i){i=Object.assign({body:t||{}},i);const r={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,i),this.requests.push(r)}delete(e,t){t=Object.assign({},t);const i={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,t),this.requests.push(i)}prepareRequest(e,t){if(Te(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const r=tt(t.query);r&&(e.url+=(e.url.includes("?")?"&":"?")+r)}let i=t.body;me(i)&&(i=function(s){let a={};return s.forEach((o,l)=>{if(l==="@jsonPayload"&&typeof o=="string")try{let c=JSON.parse(o);Object.assign(a,c)}catch(c){console.warn("@jsonPayload error:",c)}else a[l]!==void 0?(Array.isArray(a[l])||(a[l]=[a[l]]),a[l].push(De(o))):a[l]=De(o)}),a}(i));for(const r in i){const s=i[r];if(ye(s))e.files[r]=e.files[r]||[],e.files[r].push(s);else if(Array.isArray(s)){const a=[],o=[];for(const l of s)ye(l)?a.push(l):o.push(l);if(a.length>0&&a.length==s.length){e.files[r]=e.files[r]||[];for(let l of a)e.files[r].push(l)}else if(e.json[r]=o,a.length>0){let l=r;r.startsWith("+")||r.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of a)e.files[l].push(c)}}else e.json[r]=s}}}class Rn{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=i,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Ie:this.authStore=new bn,this.collections=new wn(this),this.files=new Cn(this),this.logs=new Sn(this),this.settings=new yn(this),this.realtime=new nt(this),this.health=new kn(this),this.backups=new On(this),this.crons=new xn(this)}get admins(){return this.collection("_superusers")}createBatch(){return new Tn(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new vn(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,i)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){var i;let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildURL(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=tt(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let s={};try{s=await r.json()}catch{}if(this.afterSend&&(s=await this.afterSend(r,s,t)),r.status>=400)throw new j({url:r.url,status:r.status,data:s});return s}).catch(r=>{throw new j(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=function(r){if(typeof FormData>"u"||r===void 0||typeof r!="object"||r===null||me(r)||!Be(r))return r;const s=new FormData;for(const a in r){const o=r[a];if(typeof o!="object"||Be({data:o})){const l=Array.isArray(o)?o:[o];for(let c of l)s.append(a,c)}else{let l={};l[a]=o,s.append("@jsonPayload",JSON.stringify(l))}}return s}(t.body),Te(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||me(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}}const An=Wt("drugList",[]);function Bn(){return{drugList:An}}async function qn(n){try{const e=`https://api.fda.gov/drug/label.json?api_key=OXSQicJ8Wy9yFRRTYpUUetLJbIBgMVhFDLARTgKi&search=openfda.generic_name:"${n}"`,t=await $fetch(e);return!!(t.results&&t.results.length>0)}catch{return!1}}function Dn(){const n=C([]),e=C([]),t=C([]),i=C([]),r=C([]),s=C([]),a=C([]),o=C([]),l=C([]),c=C([]),u=C(!1),d=C(null);async function h(p){n.value=[],e.value=[],t.value=[],i.value=[],r.value=[],s.value=[],a.value=[],o.value=[],l.value=[],c.value=[],u.value=!0,d.value=null;const y=`https://api.fda.gov/drug/label.json?api_key=OXSQicJ8Wy9yFRRTYpUUetLJbIBgMVhFDLARTgKi&search=openfda.generic_name:"${p}"`;try{const f=await $fetch(y);if(f&&f.results&&f.results.length>0){const g=f.results[0];g.pregnancy_or_breast_feeding?e.value.push(...g.pregnancy_or_breast_feeding):e.value.push("No specific pregnancy or breast feeding warnings found in the label."),g.warnings?n.value.push(...g.warnings):n.value.push("No specific warnings found in the label."),g.indications_and_usage?t.value.push(...g.indications_and_usage):t.value.push("No specific indications and usage found."),g.do_not_use?i.value.push(...g.do_not_use):i.value.push("No specific do not use information found."),g.ask_doctor?r.value.push(...g.ask_doctor):r.value.push("No specific ask doctor information found."),g.ask_doctor_or_pharmacist?s.value.push(...g.ask_doctor_or_pharmacist):s.value.push("No specific ask doctor or pharmacist information found."),g.stop_use?a.value.push(...g.stop_use):a.value.push("No specific stop use information found."),g.keep_out_of_reach_of_children?o.value.push(...g.keep_out_of_reach_of_children):o.value.push("No specific keep out of reach of children information found."),g.dosage_and_administration?l.value.push(...g.dosage_and_administration):l.value.push("No specific dosage and administration information found."),g.storage_and_handling?c.value.push(...g.storage_and_handling):c.value.push("No specific storage and handling information found.")}else d.value=`Drug label not found for ${p}.`}catch(f){d.value=`Error fetching data for ${p}: ${f.message}`}finally{u.value=!1}}return{warnings:n,pregnancyWarnings:e,indications:t,doNotUse:i,askDoctor:r,askDoctorOrPharmacist:s,stopUse:a,keepOutOfReach:o,dosage:l,storage:c,loading:u,error:d,fetchDrugWarnings:h,checkDrugExists:qn}}export{Rn as C,_n as _,sn as a,ae as b,Pn as c,Fn as d,zn as e,Bn as f,qn as g,oe as h,Le as i,Pt as j,xe as k,$e as l,Xe as m,Un as n,qt as o,Wt as p,Dn as q,$n as t,Oe as u};
